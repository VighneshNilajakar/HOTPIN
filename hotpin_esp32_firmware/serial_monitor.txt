I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 12 2025 00:17:39
I (29) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=35804h (219140) map
I (180) esp_image: segment 1: paddr=0004582c vaddr=3ff80000 size=0001ch (    28) load
I (180) esp_image: segment 2: paddr=00045850 vaddr=3ffb0000 size=068bch ( 26812) load
I (194) esp_image: segment 3: paddr=0004c114 vaddr=40080000 size=03f04h ( 16132) load
I (200) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=ba3b8h (762808) map
I (461) esp_image: segment 5: paddr=0010a3e0 vaddr=40083f04 size=17180h ( 94592) load
I (512) boot: Loaded app from partition at offset 0x10000
I (512) boot: Disabling RNG early entropy source...
[0;32mI (522) quad_psram: This chip is ESP32-D0WD[0m
[0;32mI (522) esp_psram: Found 4MB PSRAM device[0m
[0;32mI (523) esp_psram: Speed: 40MHz[0m
[0;32mI (526) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.[0m
[0;32mI (533) cpu_start: Multicore app[0m
[0;32mI (1428) esp_psram: SPI SRAM memory test OK[0m
[0;32mI (1436) cpu_start: Pro cpu start user code[0m
[0;32mI (1436) cpu_start: cpu freq: 240000000 Hz[0m
[0;32mI (1436) app_init: Application information:[0m
[0;32mI (1439) app_init: Project name:     hotpin_esp32_firmware[0m
[0;32mI (1445) app_init: App version:      f846de8-dirty[0m
[0;32mI (1451) app_init: Compile time:     Oct 12 2025 00:17:25[0m
[0;32mI (1457) app_init: ELF file SHA256:  aa213f3a2...[0m
[0;32mI (1462) app_init: ESP-IDF:          v5.4.2-dirty[0m
[0;32mI (1467) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (1472) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (1477) efuse_init: Chip rev:         v3.1[0m
[0;32mI (1483) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (1490) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (1496) heap_init: At 3FFBEDD8 len 00021228 (132 KiB): DRAM[0m
[0;32mI (1502) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (1508) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (1515) heap_init: At 4009B084 len 00004F7C (19 KiB): IRAM[0m
[0;32mI (1522) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator[0m
[0;32mI (1529) spi_flash: detected chip: generic[0m
[0;32mI (1533) spi_flash: flash io: dio[0m
[0;33mW (1537) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.[0m
[0;32mI (1552) main_task: Started on CPU0[0m
[0;32mI (1555) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations[0m
[0;32mI (1564) main_task: Calling app_main()[0m
[0;32mI (1568) HOTPIN_MAIN: ====================================[0m
[0;32mI (1574) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting[0m
[0;32mI (1580) HOTPIN_MAIN: ====================================[0m
[0;33mW (1586) HOTPIN_MAIN: Brownout detector disabled[0m
[0;32mI (1591) HOTPIN_MAIN: Validating PSRAM...[0m
[0;32mI (1596) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)[0m
[0;32mI (1603) HOTPIN_MAIN: PSRAM validation passed[0m
[0;32mI (1608) HOTPIN_MAIN: ====================================[0m
[0;32mI (1614) HOTPIN_MAIN: System Information:[0m
[0;32mI (1618) HOTPIN_MAIN: Chip: esp32[0m
[0;32mI (1622) HOTPIN_MAIN: Cores: 2[0m
[0;32mI (1626) HOTPIN_MAIN: Silicon revision: 301[0m
[0;32mI (1631) HOTPIN_MAIN: CPU Frequency: 240 MHz[0m
[0;32mI (1636) HOTPIN_MAIN: Flash: 2 MB external[0m
[0;32mI (1641) HOTPIN_MAIN: Free heap: 4407440 bytes[0m
[0;32mI (1646) HOTPIN_MAIN: PSRAM: 4194304 bytes[0m
[0;32mI (1651) HOTPIN_MAIN: ====================================[0m
[0;32mI (1657) HOTPIN_MAIN: Initializing NVS...[0m
[0;32mI (1686) HOTPIN_MAIN: NVS initialized successfully[0m
[0;32mI (1687) HOTPIN_MAIN: Synchronization primitives created[0m
[0;32mI (1687) HOTPIN_MAIN: Initializing WiFi...[0m
I (1696) wifi:wifi driver task: 3ffcfb80, prio:23, stack:6656, core=0
I (1708) wifi:wifi firmware version: bea31f3
I (1709) wifi:wifi certification version: v7.0
I (1709) wifi:config NVS flash: enabled
I (1710) wifi:config nano formatting: disabled
I (1714) wifi:Init data frame dynamic rx buffer num: 32
I (1719) wifi:Init static rx mgmt buffer num: 5
I (1723) wifi:Init management short buffer num: 32
I (1728) wifi:Init dynamic tx buffer num: 32
I (1732) wifi:Init static rx buffer size: 1600
I (1736) wifi:Init static rx buffer num: 16
I (1740) wifi:Init dynamic rx buffer num: 32
[0;32mI (1745) wifi_init: rx ba win: 6[0m
[0;32mI (1748) wifi_init: accept mbox: 6[0m
[0;32mI (1752) wifi_init: tcpip mbox: 32[0m
[0;32mI (1756) wifi_init: udp mbox: 6[0m
[0;32mI (1759) wifi_init: tcp mbox: 6[0m
[0;32mI (1763) wifi_init: tcp tx win: 5760[0m
[0;32mI (1768) wifi_init: tcp rx win: 5760[0m
[0;32mI (1772) wifi_init: tcp mss: 1440[0m
[0;32mI (1776) wifi_init: WiFi IRAM OP enabled[0m
[0;32mI (1780) wifi_init: WiFi RX IRAM OP enabled[0m
[0;32mI (1787) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07[0m
I (1856) wifi:mode : sta (80:f3:da:99:8c:64)
I (1857) wifi:enable tsf
[0;32mI (1859) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...[0m
[0;32mI (1860) HOTPIN_MAIN: Waiting for WiFi connection...[0m
[0;32mI (1860) HOTPIN_MAIN: WiFi station started, connecting...[0m
I (1880) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (1882) wifi:state: init -> auth (0xb0)
I (1888) wifi:state: auth -> assoc (0x0)
I (1901) wifi:state: assoc -> run (0x10)
I (1985) wifi:connected with wifi, aid = 8, channel 6, BW20, bssid = 0e:3e:a6:66:6a:49
I (1986) wifi:security: WPA2-PSK, phy: bgn, rssi: -79
I (1990) wifi:pm start, type: 1

I (1990) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
[0;32mI (2002) HOTPIN_MAIN: WiFi connected to AP[0m
I (2080) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (2081) wifi:AP's beacon interval = 102400 us, DTIM period = 2
[0;32mI (3039) esp_netif_handlers: sta ip: 10.140.180.214, mask: 255.255.255.0, gw: 10.140.180.121[0m
[0;32mI (3040) HOTPIN_MAIN: âœ… Got IP address: 10.140.180.214[0m
[0;31mE (3044) LED_CTRL: LED controller not initialized[0m
[0;32mI (3049) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection[0m
[0;32mI (6874) HOTPIN_MAIN: Initializing button handler...[0m
[0;32mI (6874) BUTTON: Initializing button handler on GPIO 4[0m
[0;32mI (6875) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3 [0m
[0;32mI (6884) BUTTON: Button FSM task started[0m
[0;32mI (6889) BUTTON: Button handler initialized successfully[0m
[0;32mI (6894) HOTPIN_MAIN: Ini[0;32mI (6908) SERIAL_CMD: Serial command task started on Core 0[0m

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

[0;32mI (6932) SERIAL_CMD: âœ… Serial command interface initialized[0m
[0;32mI (6938) HOTPIN_MAIN: Initializing LED controller...[0m
[0;32mI (6944) LED_CTRL: Initializing LED controller on GPIO 33[0m
[0;32mI (6950) gpio: GPIO[33]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (6960) LED_CTRL: LED task started[0m
[0;32mI (6961) LED_CTRL: LED controller initialized[0m
[0;32mI (6968) LED_CTRL: LED state changed: 0 -> 1[0m
[0;32mI (6973) HOTPIN_MAIN: Initializing WebSocket client...[0m
[0;32mI (6979) WEBSOCKET: Initializing WebSocket client...[0m
[0;32mI (6985) WEBSOCKET: Server URI: ws://10.140.180.58:8000/ws[0m
[0;32mI (6992) WEBSOCKET: Authorization header configured[0m
[0;32mI (6998) WEBSOCKET: âœ… WebSocket client initialized[0m
[0;32mI (7002) WEBSOCKET: Status callback registered[0m
[0;32mI (7007) HOTPIN_MAIN: WebSocket status callback registered[0m
[0;32mI (7013) HOTPIN_MAIN: Initializing HTTP client...[0m
[0;32mI (7019) HTTP_CLIENT: Initializing HTTP client[0m
[0;32mI (7024) HTTP_CLIENT: Authorization token configured[0m
[0;32mI (7030) HTTP_CLIENT: HTTP client initialized (server: http://10.140.180.58:8000)[0m
[0;32mI (7038) HOTPIN_MAIN: Initializing STT pipeline...[0m
[0;32mI (7043) STT: Initializing STT pipeline...[0m
[0;32mI (7048) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (7066) STT: â•‘ STT Ring Buffer Allocation (PSRAM)[0m
[0;32mI (7072) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (7090) STT: [MEMORY] Pre-allocation state:[0m
[0;32mI (7095) STT:   Free internal RAM: 188451 bytes[0m
[0;32mI (7100) STT:   Free DMA-capable: 168839 bytes[0m
[0;32mI (7105) STT:   Free PSRAM: 4189764 bytes[0m
[0;32mI (7110) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...[0m
[0;32mI (7118) STT:   âœ“ Ring buffer allocated at 0x3f8011c0 (PSRAM address)[0m
[0;32mI (7125) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)[0m
[0;32mI (7134) STT: [MEMORY] Post-allocation state:[0m
[0;32mI (7139) STT:   Free internal RAM: 188451 bytes[0m
[0;32mI (7144) STT:   Free DMA-capable: 168839 bytes[0m
[0;32mI (7149) STT:   Free PSRAM: 4124224 bytes[0m
[0;32mI (7161) STT: âœ… STT pipeline initialized[0m
[0;32mI (7161) HOTPIN_MAIN: Initializing TTS decoder...[0m
[0;32mI (7164) TTS: Initializing TTS decoder...[0m
[0;32mI (7169) WEBSOCKET: Audio callback registered[0m
[0;32mI (7174) TTS: âœ… TTS decoder initialized[0m
[0;32mI (7178) HOTPIN_MAIN: Camera and audio initialization deferred to state manager[0m
[0;32mI (7186) HOTPIN_MAIN: Creating FreeRTOS tasks...[0m
[0;32mI (7192) HOTPIN_MAIN: State manager task created on Core 1[0m
[0;32mI (7192) STATE_MGR: State manager task started on Core 1[0m
[0;32mI (7198) HOTPIN_MAIN: WebSocket connection task started on Core 0[0m
[0;32mI (7204) STATE_MGR: Priority: 10[0m
[0;32mI (7211) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...[0m
[0;32mI (7214) STATE_MGR: Starting in camera mode...[0m
[0;32mI (7222) WEBSOCKET: Connecting to WebSocket server...[0m
[0;32mI (7227) STATE_MGR: === TRANSITION TO CAMERA MODE ===[0m
[0;32mI (7238) websocket_client: Started[0m
[0;32mI (7239) STATE_MGR: Acquiring I2S mutex...[0m
[0;32mI (7243) WEBSOCKET: WebSocket client started[0m
[0;32mI (7247) STATE_MGR: Initializing camera...[0m
[0;32mI (7198) HOTPIN_MAIN: WebSocket connection task created on Core 0[0m
[0;32mI (7257) CAMERA: Initializing camera...[0m
[0;32mI (7264) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...[0m
[0;31mE (7268) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;31mE (7275) task_wdt: esp_task_wdt_init(515): TWDT already initialized[0m
[0;33mW (7283) CAMERA: GPIO ISR service already installed (OK)[0m
[0;32mI (7290) HOTPIN_MAIN: State manager task added to watchdog[0m
[0;32mI (7297) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2 [0m
[0;32mI (7302) HOTPIN_MAIN: ====================================[0m
[0;31mE (7312) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (7318) HOTPIN_MAIN: System initialization complete![0m
[0;32mI (7326) cam_hal: cam init ok[0m
[0;32mI (7332) HOTPIN_MAIN: Entering camera standby mode...[0m
[0;32mI (7336) sccb-ng: pin_sda 26 pin_scl 27[0m
[0;32mI (7341) HOTPIN_MAIN: ====================================[0m
[0;32mI (7346) sccb-ng: sccb_i2c_port=1[0m
[0;32mI (7352) HOTPIN_MAIN: Main task exiting - system running[0m
[0;32mI (7357) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (7362) main_task: Returned from app_main()[0m
[0;32mI (7405) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2[0m
[0;32mI (7405) camera: Detected OV2640 camera[0m
[0;32mI (7406) camera: Detected camera at address=0x30[0m
[0;32mI (7486) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (7486) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15[0m
[0;32mI (7490) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (7497) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (7503) cam_hal: cam config ok[0m
[0;32mI (7507) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8[0m
[0;32mI (7589) CAMERA: Camera initialized successfully[0m
[0;32mI (7589) STATE_MGR: I2S mutex released[0m
[0;32mI (7589) STATE_MGR: âœ… Camera mode transition complete[0m
[0;32mI (7594) STATE_MGR: âœ… Entered CAMERA_STANDBY state[0m
I (7630) wifi:<ba-add>idx:0 (ifx:0, 0e:3e:a6:66:6a:49), tid:0, ssn:5, winSize:64
[0;32mI (7654) WEBSOCKET: âœ… WebSocket connected to server[0m
[0;32mI (7654) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}[0m
[0;32mI (7660) WEBSOCKET: Handshake sent successfully[0m
[0;32mI (7661) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED[0m
[0;32mI (7830) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}[0m
[0;32mI (7831) WEBSOCKET: Server status: connected[0m
[0;32mI (7852) HOTPIN_MAIN: ğŸ‰ WebSocket connected and verified![0m
[0;32mI (7852) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - entering monitor loop[0m
ğŸ“¢ Voice mode STARTED (recording...)
[0;32mI (14285) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY[0m
[0;32mI (14285) SERIAL_CMD: Simulated SHORT PRESS - Voice START[0m
[0;32mI (14286) STATE_MGR: Single click - mode toggle requested[0m
[0;32mI (14297) STATE_MGR: Switching: Camera â†’ Voice (count: 1)[0m
[0;32mI (14303) STATE_MGR: === TRANSITION TO VOICE MODE ===[0m
[0;32mI (14309) STATE_MGR: Stopping camera...[0m
[0;32mI (14313) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14330) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex[0m
[0;32mI (14336) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14353) STATE_MGR:   Timeout: 5000 ms[0m
[0;32mI (14357) STATE_MGR:   Timestamp: 12836 ms[0m
[0;32mI (14362) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)[0m
[0;32mI (14368) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14384) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware[0m
[0;32mI (14390) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14407) STATE_MGR:   Free heap before: 4085920 bytes[0m
[0;32mI (14413) STATE_MGR:   Free PSRAM before: 3999772 bytes[0m
[0;32mI (14418) CAMERA: Deinitializing camera...[0m
[0;32mI (14424) CAMERA: Camera deinitialized[0m
[0;32mI (14428) STATE_MGR:   âœ“ Camera deinitialized (took 9 ms)[0m
[0;32mI (14434) STATE_MGR:   Free heap after: 4247624 bytes[0m
[0;32mI (14440) STATE_MGR:   Free PSRAM after: 4124088 bytes[0m
[0;32mI (14445) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14462) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL[0m
[0;32mI (14468) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14484) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts[0m
[0;32mI (14592) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins[0m
[0;32mI (14692) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state[0m
[0;32mI (14742) STATE_MGR:   âœ“ Total stabilization: 250ms[0m
[0;32mI (14742) STATE_MGR:   Timestamp: 13221 ms[0m
[0;32mI (14742) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14758) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers[0m
[0;32mI (14765) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14781) STATE_MGR:   Free heap before: 4247636 bytes[0m
[0;32mI (14787) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14805) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (14812) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14830) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...[0m
[0;32mI (14837) AUDIO:   âœ“ I2S access mutex created successfully[0m
[0;32mI (14843) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14861) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (14869) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (14886) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (14891) AUDIO:   Free heap: 4247536 bytes[0m
[0;32mI (14896) AUDIO:   Free internal RAM: 163803 bytes[0m
[0;32mI (14901) AUDIO:   Free DMA-capable: 144191 bytes[0m
[0;32mI (14907) AUDIO:   Free PSRAM: 4124088 bytes[0m
[0;32mI (14912) AUDIO:   Timestamp: 13390 ms[0m
[0;32mI (14916) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (14923) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (14931) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (14939) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (14945) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (14950) AUDIO:   TX handle: 0x3ffc018c | RX handle: 0x3ffc02d0[0m
[0;32mI (14957) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (14964) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (14968) AUDIO:   MCLK: DISABLED[0m
[0;32mI (14972) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (14977) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (14982) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (14988) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (14993) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (15000) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (15004) AUDIO:   MCLK: DISABLED[0m
[0;32mI (15008) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (15013) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (15018) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (15024) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (15029) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (15034) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (15040) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (15045) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (15051) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (15057) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (15112) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (15112) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (15113) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (15269) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (15269) AUDIO:   Free heap: 4243720 bytes[0m
[0;32mI (15269) AUDIO:   Free internal RAM: 142935 bytes[0m
[0;32mI (15273) AUDIO:   Free DMA-capable: 123323 bytes[0m
[0;32mI (15278) AUDIO:   Free PSRAM: 4124088 bytes[0m
[0;32mI (15283) AUDIO:   Timestamp: 13762 ms[0m
[0;32mI (15288) AUDIO:   Total init time: 201 ms[0m
[0;32mI (15293) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15311) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (15317) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (15322) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (15330) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (15337) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15355) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15373) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (15379) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (15386) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (15393) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (15399) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15417) STATE_MGR:   âœ“ Audio initialized (took 630 ms)[0m
[0;32mI (15423) STATE_MGR:   Free heap after: 4243720 bytes[0m
[0;32mI (15429) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15445) STATE_MGR: â•‘ STEP 5: I2S mutex released[0m
[0;32mI (15450) STATE_MGR: â•‘ Total transition time: 889 ms[0m
[0;32mI (15456) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15473) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15489) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines[0m
[0;32mI (15495) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15533) STATE_MGR: ğŸ”” Recording start feedback dispatched[0m
[0;32mI (15534) STT: Starting STT pipeline...[0m
[0;32mI (15534) STT: Initializing STT pipeline...[0m
[0;33mW (15538) STT: STT pipeline already initialized[0m
[0;32mI (15543) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)[0m
[0;32mI (15553) STT: âœ… STT pipeline started[0m
[0;32mI (15553) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15557) TTS: Starting TTS decoder...[0m
[0;32mI (15553) STT: Audio streaming task started on Core 0[0m
[0;32mI (15578) TTS: Initializing TTS decoder...[0m
[0;32mI (15573) STT: â•‘ Audio Capture Task Started on Core 0[0m
[0;33mW (15588) TTS: TTS decoder already initialized[0m
[0;32mI (15583) STT:   âœ“ Stream buffer allocated at 0x3ffe56c0[0m
[0;32mI (15599) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)[0m
[0;32mI (15594) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (15615) TTS: âœ… TTS decoder started[0m
[0;32mI (15605) STT: Starting audio streaming to server...[0m
[0;32mI (15636) STATE_MGR: âœ… Voice mode transition complete[0m
[0;32mI (15631) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...[0m
[0;32mI (15647) STATE_MGR: âœ… Entered VOICE_ACTIVE state[0m
[0;32mI (15654) STT:   Current time: 14133 ms[0m
[0;32mI (15664) STT:   Free heap: 4226964 bytes[0m
[0;32mI (15631) TTS: TTS playback task started on Core 0[0m
[0;32mI (15869) STT: [STABILIZATION] Phase 2: Verify audio driver state...[0m
[0;32mI (15869) STT:   âœ“ Audio driver initialized[0m
[0;32mI (15870) STT: [STABILIZATION] Phase 3: Additional 100ms settle...[0m
[0;32mI (15977) STT:   Total stabilization: 300ms[0m
[0;32mI (15977) STT:   Timestamp: 14455 ms[0m
[0;32mI (15977) STT: [BUFFER] Allocating 1024 byte capture buffer...[0m
[0;32mI (15981) STT:   âœ“ DMA-capable buffer allocated at 0x3ffc9d34[0m
[0;32mI (15988) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (16004) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE[0m
[0;32mI (16009) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms[0m
[0;32mI (16015) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (16032) STT: [FIRST READ] Completed:[0m
[0;32mI (16036) STT:   Result: ESP_OK[0m
[0;32mI (16040) STT:   Bytes read: 1024 / 1024[0m
[0;32mI (16044) STT:   Duration: 0 ms[0m
[0;32mI (16048) STT:   Timestamp: 14510 ms[0m
[0;32mI (16053) STT:   First 16 bytes: f8 fe f8 fe fa fe fa fe fa fe fa fe fc fe fc fe[0m
[0;32mI (16171) STT: [CAPTURE] Read #10: 1024 bytes (total: 10240 bytes, 10.0 KB)[0m
[0;32mI (16172) STT:   Avg read time: 72 ms | Errors: 0[0m
[0;32mI (16471) STT: [CAPTURE] Read #20: 1024 bytes (total: 20480 bytes, 20.0 KB)[0m
[0;32mI (16473) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (16771) STT: [CAPTURE] Read #30: 1024 bytes (total: 30720 bytes, 30.0 KB)[0m
[0;32mI (16772) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (17146) STT: [CAPTURE] Read #40: 1024 bytes (total: 40960 bytes, 40.0 KB)[0m
[0;32mI (17147) STT:   Avg read time: 74 ms | Errors: 0[0m
[0;32mI (17447) STT: [CAPTURE] Read #50: 1024 bytes (total: 51200 bytes, 50.0 KB)[0m
[0;32mI (17448) STT:   Avg read time: 75 ms | Errors: 0[0m
[0;32mI (17746) STT: [CAPTURE] Read #60: 1024 bytes (total: 61440 bytes, 60.0 KB)[0m
[0;32mI (17747) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (18046) STT: [CAPTURE] Read #70: 1024 bytes (total: 71680 bytes, 70.0 KB)[0m
[0;32mI (18047) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (18421) STT: [CAPTURE] Read #80: 1024 bytes (total: 81920 bytes, 80.0 KB)[0m
[0;32mI (18422) STT:   Avg read time: 74 ms | Errors: 0[0m
ğŸ”‡ Voice mode STOPPED
[0;32mI (18698) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE[0m
[0;32mI (18699) SERIAL_CMD: Simulated SHORT PRESS - Voice STOP[0m
[0;32mI (18699) STATE_MGR: Single click - mode toggle requested[0m
[0;32mI (18709) STATE_MGR: Switching: Voice â†’ Camera (count: 2)[0m
[0;32mI (18715) STATE_MGR: === TRANSITION TO CAMERA MODE ===[0m
[0;32mI (18721) STATE_MGR: Stopping voice mode components...[0m
[0;32mI (18721) STT: [CAPTURE] Read #90: 1024 bytes (total: 92160 bytes, 90.0 KB)[0m
[0;32mI (18727) STT: Stopping STT pipeline...[0m
[0;32mI (18734) STT:   Avg read time: 74 ms | Errors: 0[0m
[0;32mI (18739) STT: Sending EOS signal...[0m
[0;32mI (18744) STT: Audio capture task stopped (captured 92160 bytes total)[0m
[0;32mI (18748) WEBSOCKET: Sending EOS signal[0m
[0;32mI (18748) STT: Audio streaming task stopped (streamed 90112 bytes in 22 chunks)[0m
[0;32mI (18889) WEBSOCKET: Received text message: {"status": "processing", "stage": "transcription"}[0m
[0;32mI (18889) WEBSOCKET: Server status: processing[0m
[0;32mI (18892) WEBSOCKET: Server stage: transcription[0m
[0;32mI (18898) WEBSOCKET: Pipeline stage changed: idle -> transcription[0m
[0;32mI (18962) STT: STT pipeline stopped[0m
[0;32mI (19494) WEBSOCKET: Received text message: {"status": "processing", "stage": "llm", "transcript": "hello"}[0m
[0;32mI (19494) WEBSOCKET: Server status: processing[0m
[0;32mI (19498) WEBSOCKET: Server stage: llm[0m
[0;32mI (19503) WEBSOCKET: Pipeline stage changed: transcription -> llm[0m
[0;32mI (19905) WEBSOCKET: Received text message: {"status": "processing", "stage": "tts", "response": "Hello! How can I help you today?"}[0m
[0;32mI (19907) WEBSOCKET: Server status: processing[0m
[0;32mI (19912) WEBSOCKET: Server stage: tts[0m
[0;32mI (19916) WEBSOCKET: Pipeline stage changed: llm -> tts[0m
[0;32mI (20042) WEBSOCKET: Received binary audio data: 1436 bytes[0m
[0;32mI (20043) TTS: âœ… WAV header parsed successfully[0m
[0;32mI (20043) TTS: === WAV File Info ===[0m
[0;32mI (20047) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20055) WEBSOCKET: Received binary audio data: 1220 bytes[0m
[0;32mI (20057) TTS: Sample Rate: 16000 Hz[0m
[0;32mI (20064) TTS: Channels: 1[0m
[0;32mI (20067) TTS: Bits per Sample: 16[0m
[0;32mI (20071) TTS: Audio Format: 1 (PCM)[0m
[0;32mI (20073) WEBSOCKET: Received binary audio data: 1436 bytes[0m
[0;32mI (20084) TTS: Declared Data Size: 111524 bytes[0m
[0;32mI (20084) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20090) TTS: Block Align: 2[0m
[0;32mI (20094) WEBSOCKET: Received binary audio data: 1220 bytes[0m
[0;32mI (20097) TTS: Byte Rate: 32000[0m
[0;32mI (20107) TTS: ====================[0m
[0;32mI (20108) WEBSOCKET: Received binary audio data: 3096 bytes[0m
[0;32mI (20119) TTS: ğŸ”” Playback start feedback dispatched (bytes_received=11288)[0m
[0;32mI (20128) WEBSOCKET: Received binary audio data: 1000 bytes[0m
[0;32mI (20136) WEBSOCKET: Received binary audio data: 436 bytes[0m
[0;32mI (20153) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20155) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20158) WEBSOCKET: Received binary audio data: 780 bytes[0m
[0;32mI (20165) WEBSOCKET: Received binary audio data: 656 bytes[0m
[0;32mI (20177) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20184) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20194) WEBSOCKET: Received binary audio data: 560 bytes[0m
[0;32mI (20212) WEBSOCKET: Received binary audio data: 876 bytes[0m
[0;32mI (20218) WEBSOCKET: Received binary audio data: 1440 bytes[0m
[0;32mI (20285) WEBSOCKET: Received binary audio data: 1780 bytes[0m
[0;32mI (20363) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (20367) WEBSOCKET: Received binary audio data: 1316 bytes[0m
[0;32mI (20435) WEBSOCKET: Received binary audio data: 2780 bytes[0m
[0;32mI (20439) WEBSOCKET: Received binary audio data: 1536 bytes[0m
[0;32mI (20510) WEBSOCKET: Received binary audio data: 2560 bytes[0m
[0;32mI (20515) WEBSOCKET: Received binary audio data: 3196 bytes[0m
[0;32mI (20531) WEBSOCKET: Received binary audio data: 900 bytes[0m
[0;32mI (20587) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (20590) WEBSOCKET: Received binary audio data: 756 bytes[0m
[0;32mI (20660) WEBSOCKET: Received binary audio data: 3340 bytes[0m
[0;32mI (20664) WEBSOCKET: Received binary audio data: 976 bytes[0m
[0;32mI (20735) WEBSOCKET: Received binary audio data: 3120 bytes[0m
[0;32mI (20887) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (20892) WEBSOCKET: Received binary audio data: 1416 bytes[0m
[0;32mI (20960) WEBSOCKET: Received binary audio data: 2680 bytes[0m
[0;32mI (21037) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21113) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21188) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21262) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21413) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21417) WEBSOCKET: Received binary audio data: 1296 bytes[0m
[0;32mI (21485) WEBSOCKET: Received binary audio data: 2800 bytes[0m
[0;32mI (21563) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21637) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21788) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (21791) WEBSOCKET: Received binary audio data: 736 bytes[0m
[0;32mI (21860) WEBSOCKET: Received binary audio data: 3360 bytes[0m
[0;32mI (22013) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (22163) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (22236) WEBSOCKET: Received binary audio data: 976 bytes[0m
[0;32mI (22385) WEBSOCKET: Received text message: {"status": "complete"}[0m
[0;32mI (22386) WEBSOCKET: Server status: complete[0m
[0;32mI (22386) WEBSOCKET: Pipeline stage changed: tts -> complete[0m
[0;32mI (22413) STATE_MGR: Voice pipeline reported COMPLETE[0m
[0;32mI (22413) STATE_MGR: Waiting for TTS playback drain (~33788 bytes pending, timeout 5000 ms)[0m
[0;32mI (22532) TTS: Queued TTS playback stop sentinel (server EOS)[0m
[0;32mI (23432) TTS: Playback stop signal received[0m
[0;32mI (23437) STATE_MGR: TTS playback drained successfully[0m
[0;32mI (23437) TTS: Stopping TTS decoder...[0m
[0;33mW (23437) TTS: TTS decoder not running[0m
[0;32mI (23807) TTS: ğŸ”” Playback completion feedback dispatched (total bytes: 111524)[0m
[0;32mI (23808) TTS: TTS playback task stopped[0m
[0;32mI (23957) STATE_MGR: ğŸ”” Recording stop feedback dispatched[0m
[0;32mI (24057) STATE_MGR: Acquiring I2S mutex...[0m
[0;32mI (24057) STATE_MGR: Deinitializing audio drivers...[0m
[0;32mI (24057) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (24075) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (24082) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (24100) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (24107) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (24113) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (24119) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (24125) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (24181) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (24182) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (24182) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (24187) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (24192) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (24250) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (24257) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (24264) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (24269) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (24287) STATE_MGR: Initializing camera...[0m
[0;32mI (24291) CAMERA: Initializing camera...[0m
[0;32mI (24296) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2 [0m
[0;31mE (24306) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (24314) cam_hal: cam init ok[0m
[0;33mW (24318) ledc: GPIO 0 is not usable, maybe conflict with others[0m
[0;32mI (24324) sccb-ng: pin_sda 26 pin_scl 27[0m
[0;32mI (24329) sccb-ng: sccb_i2c_port=1[0m
[0;32mI (24334) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (24376) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2[0m
[0;32mI (24376) camera: Detected OV2640 camera[0m
[0;32mI (24376) camera: Detected camera at address=0x30[0m
[0;32mI (24457) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (24457) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15[0m
[0;32mI (24462) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (24468) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (24475) cam_hal: cam config ok[0m
[0;32mI (24479) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8[0m
[0;32mI (24561) CAMERA: Camera initialized successfully[0m
[0;32mI (24561) STATE_MGR: I2S mutex released[0m
[0;32mI (24561) STATE_MGR: âœ… Camera mode transition complete[0m
[0;32mI (24566) STATE_MGR: âœ… Entered CAMERA_STANDBY state[0m
[0;32mI (27154) STATE_MGR: Button event received: 3 in state CAMERA_STANDBY[0m
[0;32mI (27154) BUTTON: Long press detected (3000 ms)[0m
[0;33mW (27154) STATE_MGR: Long press - shutdown requested[0m
[0;33mW (27161) STATE_MGR: Shutdown state reached[0m
[0;33mW (27165) STATE_MGR: === SYSTEM SHUTDOWN ===[0m
[0;32mI (27170) STATE_MGR: Stopping all subsystems...[0m
[0;32mI (27176) STATE_MGR: Shutting down camera...[0m
[0;32mI (27181) CAMERA: Deinitializing camera...[0m
[0;32mI (27186) CAMERA: Camera deinitialized[0m
[0;32mI (27190) STT: Stopping STT pipeline...[0m
[0;33mW (27194) STT: STT pipeline not running[0m
[0;32mI (27199) TTS: Stopping TTS decoder...[0m
[0;33mW (27203) TTS: TTS decoder not running[0m
[0;32mI (27208) STATE_MGR: Requesting WebSocket shutdown[0m
[0;32mI (27213) HOTPIN_MAIN: WebSocket connection task shutting down[0m
[0;32mI (27220) WEBSOCKET: Disconnecting from WebSocket server...[0m
[0;33mW (27260) websocket_client: Client was not started[0m
[0;33mW (27261) WEBSOCKET: WebSocket client stop reported ESP_FAIL, continuing cleanup[0m
[0;32mI (27263) WEBSOCKET: WebSocket disconnected[0m
[0;32mI (27263) STATE_MGR: âœ… Shutdown complete[0m
