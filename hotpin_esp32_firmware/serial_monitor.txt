PS F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware> idf.py monitor
Executing action: monitor
Serial port COM7
Connecting....
Detecting chip type... Unsupported detection protocol, switching and trying again...
Connecting...
Detecting chip type... ESP32
Running idf_monitor in directory 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware'
Executing "C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe C:\Espressif\frameworks\esp-idf-v5.4.2\tools/idf_monitor.py -p COM7 -b 115200 --toolchain-prefix xtensa-esp32-elf- --target esp32 --revision 0 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware\build\hotpin_esp32_firmware.elf' --force-color -m 'C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe' 'C:\Espressif\frameworks\esp-idf-v5.4.2\tools\idf.py'"...
--- Warning: GDB cannot open serial ports accessed as COMx
--- Using \\.\COM7 instead...
--- esp-idf-monitor 1.7.0 on \\.\COM7 115200
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 14 2025 00:50:12
I (30) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=373d4h (226260) map
I (183) esp_image: segment 1: paddr=000473fc vaddr=3ff80000 size=0001ch (    28) load
I (183) esp_image: segment 2: paddr=00047420 vaddr=3ffb0000 size=08bf8h ( 35832) load
I (200) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=bc748h (771912) map
I (464) esp_image: segment 4: paddr=0010c770 vaddr=3ffb8bf8 size=090cch ( 37068) load
I (477) esp_image: segment 5: paddr=00115844 vaddr=40080000 size=1ba80h (113280) load
I (538) boot: Loaded app from partition at offset 0x10000
I (538) boot: Disabling RNG early entropy source...
I (549) quad_psram: This chip is ESP32-D0WD
I (549) esp_psram: Found 4MB PSRAM device
I (549) esp_psram: Speed: 40MHz
I (552) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (560) cpu_start: Multicore app
I (1454) esp_psram: SPI SRAM memory test OK
I (1462) cpu_start: Pro cpu start user code
I (1462) cpu_start: cpu freq: 240000000 Hz
I (1462) app_init: Application information:
I (1466) app_init: Project name:     hotpin_esp32_firmware
I (1472) app_init: App version:      be56ba4-dirty
I (1477) app_init: Compile time:     Oct 14 2025 00:49:57
I (1483) app_init: ELF file SHA256:  bb0cbb6ef...
I (1489) app_init: ESP-IDF:          v5.4.2-dirty
I (1494) efuse_init: Min chip rev:     v0.0
I (1499) efuse_init: Max chip rev:     v3.99
I (1504) efuse_init: Chip rev:         v3.1
I (1509) heap_init: Initializing. RAM available for dynamic allocation:
I (1516) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1522) heap_init: At 3FFC9350 len 00016CB0 (91 KiB): DRAM
I (1529) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1535) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1542) heap_init: At 4009BA80 len 00004580 (17 KiB): IRAM
I (1548) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1556) spi_flash: detected chip: generic
I (1560) spi_flash: flash io: dio
W (1564) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1579) main_task: Started on CPU0
I (1582) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1591) main_task: Calling app_main()
I (1595) HOTPIN_MAIN: ====================================
I (1601) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1607) HOTPIN_MAIN: ====================================
W (1613) HOTPIN_MAIN: Brownout detector disabled
I (1618) HOTPIN_MAIN: Validating PSRAM...
I (1623) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1630) HOTPIN_MAIN: PSRAM validation passed
I (1635) HOTPIN_MAIN: ====================================
I (1641) HOTPIN_MAIN: System Information:
I (1645) HOTPIN_MAIN: Chip: esp32
I (1649) HOTPIN_MAIN: Cores: 2
I (1653) HOTPIN_MAIN: Silicon revision: 301
I (1658) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1663) HOTPIN_MAIN: Flash: 2 MB external
I (1668) HOTPIN_MAIN: Free heap: 4365148 bytes
I (1673) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1678) HOTPIN_MAIN: ====================================
I (1684) HOTPIN_MAIN: Initializing NVS...
I (1713) HOTPIN_MAIN: NVS initialized successfully
I (1713) event_dispatcher: System event queue ready (16 entries)
I (1714) HOTPIN_MAIN: Synchronization primitives created
I (1720) HOTPIN_MAIN: Initializing WiFi...
I (1729) wifi:wifi driver task: 3ffd9f48, prio:23, stack:6656, core=0
I (1742) wifi:wifi firmware version: bea31f3
I (1742) wifi:wifi certification version: v7.0
I (1742) wifi:config NVS flash: enabled
I (1743) wifi:config nano formatting: disabled
I (1747) wifi:Init data frame dynamic rx buffer num: 32
I (1752) wifi:Init static rx mgmt buffer num: 5
I (1756) wifi:Init management short buffer num: 32
I (1761) wifi:Init dynamic tx buffer num: 32
I (1765) wifi:Init static rx buffer size: 1600
I (1769) wifi:Init static rx buffer num: 16
I (1773) wifi:Init dynamic rx buffer num: 32
I (1778) wifi_init: rx ba win: 6
I (1781) wifi_init: accept mbox: 6
I (1785) wifi_init: tcpip mbox: 32
I (1789) wifi_init: udp mbox: 6
I (1793) wifi_init: tcp mbox: 6
I (1797) wifi_init: tcp tx win: 5760
I (1801) wifi_init: tcp rx win: 5760
I (1805) wifi_init: tcp mss: 1440
I (1809) wifi_init: WiFi IRAM OP enabled
I (1814) wifi_init: WiFi RX IRAM OP enabled
I (1820) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (1892) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (1965) wifi:mode : sta (80:f3:da:99:8c:64)
I (1966) wifi:enable tsf
I (1968) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (1969) HOTPIN_MAIN: Waiting for WiFi connection...
I (1969) HOTPIN_MAIN: WiFi station started, connecting...
I (1992) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (1994) wifi:state: init -> auth (0xb0)
I (2831) wifi:state: auth -> assoc (0x0)
I (2842) wifi:state: assoc -> run (0x10)
I (2867) wifi:connected with wifi, aid = 2, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (2868) wifi:security: WPA3-SAE, phy: bgn, rssi: -53
I (2871) wifi:pm start, type: 1

I (2872) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (2885) HOTPIN_MAIN: WiFi connected to AP
I (2886) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (2960) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (2960) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (3907) esp_netif_handlers: sta ip: 10.247.1.214, mask: 255.255.255.0, gw: 10.247.1.43
I (3908) HOTPIN_MAIN: âœ… Got IP address: 10.247.1.214
I (3911) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (6983) HOTPIN_MAIN: Initializing button handler...
I (6983) BUTTON: Initializing button handler on GPIO 4
I (6984) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (6993) BUTTON: Button FSM task started
W (6998) BUTTON: Button input low at init - waiting for release before enabling detection
I (7006) BUTTON: Button handler initialized successfully (initial level=0, primed=0)
I (7014) HOTPIN_MAIN: InI (7028) SERIAL_CMD: Serial command task started on Core 0

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

I (7052) SERIAL_CMD: âœ… Serial command interface initialized
I (7058) HOTPIN_MAIN: Initializing LED controller...
I (7064) LED_CTRL: Initializing LED controller on GPIO 33
I (7071) LED_CTRL: LED controller ready
I (7075) LED_CTRL: LED pattern -> 2
I (7079) HOTPIN_MAIN: Initializing WebSocket client...
I (7084) WEBSOCKET: Initializing WebSocket client...
I (7090) WEBSOCKET: Server URI: ws://10.247.1.58:8000/ws
I (7096) WEBSOCKET: Authorization header configured
I (7103) WEBSOCKET: âœ… WebSocket client initialized
I (7107) WEBSOCKET: Status callback registered
I (7112) HOTPIN_MAIN: WebSocket status callback registered
I (7119) HOTPIN_MAIN: Initializing HTTP client...
I (7124) HTTP_CLIENT: Initializing HTTP client
I (7129) HTTP_CLIENT: Authorization token configured
I (7135) HTTP_CLIENT: HTTP client initialized (server: http://10.247.1.58:8000)
I (7143) HOTPIN_MAIN: Initializing STT pipeline...
I (7148) STT: Initializing STT pipeline...
I (7153) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7171) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7177) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7195) STT: [MEMORY] Pre-allocation state:
I (7200) STT:   Free internal RAM: 142999 bytes
I (7205) STT:   Free DMA-capable: 125943 bytes
I (7210) STT:   Free PSRAM: 4189764 bytes
I (7215) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7223) STT:   âœ“ Ring buffer allocated at 0x3f8011c0 (PSRAM address)
I (7230) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7239) STT: [MEMORY] Post-allocation state:
I (7244) STT:   Free internal RAM: 142999 bytes
I (7249) STT:   Free DMA-capable: 125943 bytes
I (7255) STT:   Free PSRAM: 4124224 bytes
I (7268) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7269) STT: Persistent audio streaming task started on Core 0
I (7273) STT:   âœ“ Stream buffer allocated at 0x3ffd39ec
I (7280) STT: âœ… STT pipeline initialized
I (7284) HOTPIN_MAIN: Initializing TTS decoder...
I (7290) TTS: Initializing TTS decoder...
I (7294) TTS: Allocating 16384 byte PSRAM buffer for TTS stream
I (7303) WEBSOCKET: Audio callback registered
I (7306) TTS: âœ… TTS decoder initialized
I (7311) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7319) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7324) HOTPIN_MAIN: State manager task created on Core 1
I (7324) STATE_MGR: State manager task started on Core 1
I (7330) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7336) STATE_MGR: Priority: 10
I (7343) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...
I (7347) STATE_MGR: Starting in camera mode...
I (7354) WEBSOCKET: Connecting to WebSocket server...
I (7359) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7371) STATE_MGR: Acquiring I2S mutex...
I (7374) websocket_client: Started
I (7376) STATE_MGR: Audio drivers already inactive; skipping deinit
I (7380) WEBSOCKET: WebSocket client started
I (7387) STATE_MGR: Initializing camera...
I (7330) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7396) CAMERA: Initializing camera...
I (7403) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...
I (7408) CAMERA: GPIO ISR service already active (shared)
I (7415) HOTPIN_MAIN: State manager task added to watchdog
I (7421) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
I (7427) HOTPIN_MAIN: ====================================
E (7436) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (7442) HOTPIN_MAIN: System initialization complete!
I (7451) cam_hal: cam init ok
I (7456) HOTPIN_MAIN: Entering camera standby mode...
I (7460) sccb-ng: pin_sda 26 pin_scl 27
I (7465) HOTPIN_MAIN: ====================================
I (7470) sccb-ng: sccb_i2c_port=1
I (7481) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (7523) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (7523) camera: Detected OV2640 camera
I (7523) camera: Detected camera at address=0x30
I (7603) cam_hal: PSRAM DMA mode disabled
I (7604) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (7608) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7615) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7621) cam_hal: cam config ok
I (7625) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (7714) CAMERA: Camera initialized successfully
I (7715) STATE_MGR: I2S mutex released
I (7715) STATE_MGR: âœ… Camera mode transition complete
I (7715) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7719) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (7737) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (7743) LED_CTRL: LED pattern -> 3
I (7750) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7772) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (7779) AUDIO:   âœ“ I2S access mutex created successfully
I (7785) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7803) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (7810) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7828) AUDIO: [DIAG] Pre-init state:
I (7832) AUDIO:   Free heap: 4033424 bytes
I (7837) AUDIO:   Free internal RAM: 67103 bytes
I (7842) AUDIO:   Free DMA-capable: 50047 bytes
I (7848) AUDIO:   Free PSRAM: 3983384 bytes
I (7853) AUDIO:   Timestamp: 6304 ms
I (7857) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (7864) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (7871) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (7880) AUDIO:   DMA frame num (per desc): 1020
I (7885) AUDIO:   DMA total samples (effective): 4080
I (7891) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (7897) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (7904) AUDIO: âœ… I2S channels created (took 0 ms)
I (7909) AUDIO:   TX handle: 0x3ffe12f4 | RX handle: 0x3fff3f34
I (7916) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (7922) AUDIO:   Sample rate: 16000 Hz
I (7927) AUDIO:   MCLK: DISABLED
I (7931) AUDIO:   BCLK: GPIO14 (shared)
I (7935) AUDIO:   WS:   GPIO15 (shared)
I (7940) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (7947) AUDIO: âœ… TX channel configured (took 1 ms)
I (7951) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (7958) AUDIO:   Sample rate: 16000 Hz
I (7962) AUDIO:   MCLK: DISABLED
I (7966) AUDIO:   BCLK: GPIO14 (shared)
I (7971) AUDIO:   WS:   GPIO15 (shared)
I (7975) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (7981) AUDIO: âœ… RX channel configured (took 0 ms)
I (7986) AUDIO: [STEP 4/6] Enabling TX channel...
I (7992) AUDIO: âœ… TX channel enabled (took 0 ms)
I (7997) AUDIO: [STEP 5/6] Enabling RX channel...
I (8003) AUDIO: âœ… RX channel enabled (took 0 ms)
I (8008) AUDIO: [STEP 6/6] Hardware stabilization...
I (8014) AUDIO:   Phase 1: Initial settle (50ms)
I (8069) AUDIO:   Phase 2: DMA verification
I (8069) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (8069) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8226) AUDIO: [DIAG] Post-init state:
I (8226) AUDIO:   Free heap: 4007216 bytes
I (8226) AUDIO:   Free internal RAM: 40895 bytes
I (8229) AUDIO:   Free DMA-capable: 23839 bytes
I (8234) AUDIO:   Free PSRAM: 3983384 bytes
I (8239) AUDIO:   Timestamp: 6691 ms
I (8244) AUDIO:   Total init time: 201 ms
I (8248) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8266) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (8272) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (8278) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8286) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (8293) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8311) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8329) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (8335) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (8341) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8348) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8354) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9314) WEBSOCKET: âœ… WebSocket connected to server
I (9315) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (9320) WEBSOCKET: Handshake sent successfully
I (9322) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (9329) STATE_MGR: WebSocket connected
I (9419) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (9527) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (9528) WEBSOCKET: Server status: connected
I (9639) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9646) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (9653) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9671) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (9678) AUDIO: âœ… RX channel disabled (took 0 ms)
I (9683) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (9690) AUDIO: âœ… TX channel disabled (took 0 ms)
I (9695) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (9752) AUDIO: [STEP 4/5] Deleting RX channel...
I (9752) AUDIO: âœ… RX channel deleted (took 0 ms)
I (9752) AUDIO: [STEP 5/5] Deleting TX channel...
I (9757) AUDIO: âœ… TX channel deleted (took 0 ms)
I (9762) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (9820) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9826) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (9833) AUDIO: â•‘ Camera Can Now Initialize
I (9838) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9856) HOTPIN_MAIN: Main task exiting - system running
I (9862) main_task: Returned from app_main()
ğŸ“· Image capture triggered!
I (17807) SERIAL_CMD: Simulated DOUBLE CLICK - Camera capture
I (17813) STATE_MGR: Button event received: 2 in state CAMERA_STANDBY
I (17814) STATE_MGR: Double-click detected - triggering capture sequence
I (17820) STATE_MGR: Starting camera capture sequence
I (17825) LED_CTRL: LED pattern -> 6
I (17830) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17848) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (17855) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17873) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17891) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (17898) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17916) AUDIO: [DIAG] Pre-init state:
I (17920) AUDIO:   Free heap: 4037904 bytes
I (17925) AUDIO:   Free internal RAM: 71583 bytes
I (17931) AUDIO:   Free DMA-capable: 54527 bytes
I (17936) AUDIO:   Free PSRAM: 3983384 bytes
I (17941) AUDIO:   Timestamp: 16393 ms
I (17945) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (17952) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (17960) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (17968) AUDIO:   DMA frame num (per desc): 1020
I (17974) AUDIO:   DMA total samples (effective): 4080
I (17979) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (17987) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (17993) AUDIO: âœ… I2S channels created (took 0 ms)
I (17998) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca6c0
I (18005) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (18012) AUDIO:   Sample rate: 16000 Hz
I (18016) AUDIO:   MCLK: DISABLED
I (18020) AUDIO:   BCLK: GPIO14 (shared)
I (18025) AUDIO:   WS:   GPIO15 (shared)
I (18029) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (18036) AUDIO: âœ… TX channel configured (took 1 ms)
I (18041) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (18048) AUDIO:   Sample rate: 16000 Hz
I (18052) AUDIO:   MCLK: DISABLED
I (18056) AUDIO:   BCLK: GPIO14 (shared)
I (18061) AUDIO:   WS:   GPIO15 (shared)
I (18066) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (18072) AUDIO: âœ… RX channel configured (took 0 ms)
I (18077) AUDIO: [STEP 4/6] Enabling TX channel...
I (18082) AUDIO: âœ… TX channel enabled (took 0 ms)
I (18088) AUDIO: [STEP 5/6] Enabling RX channel...
I (18093) AUDIO: âœ… RX channel enabled (took 0 ms)
I (18099) AUDIO: [STEP 6/6] Hardware stabilization...
I (18105) AUDIO:   Phase 1: Initial settle (50ms)
I (18160) AUDIO:   Phase 2: DMA verification
I (18160) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (18161) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (18317) AUDIO: [DIAG] Post-init state:
I (18317) AUDIO:   Free heap: 4011904 bytes
I (18317) AUDIO:   Free internal RAM: 45583 bytes
I (18320) AUDIO:   Free DMA-capable: 28527 bytes
I (18326) AUDIO:   Free PSRAM: 3983384 bytes
I (18331) AUDIO:   Timestamp: 16782 ms
I (18335) AUDIO:   Total init time: 201 ms
I (18340) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18358) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (18364) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (18369) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (18378) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (18385) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18403) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18421) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (18427) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (18434) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (18440) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (18447) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18797) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18804) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (18812) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18830) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (18837) AUDIO: âœ… RX channel disabled (took 0 ms)
I (18842) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (18849) AUDIO: âœ… TX channel disabled (took 0 ms)
I (18854) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (18911) AUDIO: [STEP 4/5] Deleting RX channel...
I (18912) AUDIO: âœ… RX channel deleted (took 0 ms)
I (18912) AUDIO: [STEP 5/5] Deleting TX channel...
I (18917) AUDIO: âœ… TX channel deleted (took 0 ms)
I (18922) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (18980) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18987) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (18994) AUDIO: â•‘ Camera Can Now Initialize
I (18999) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19017) STATE_MGR: Capturing frame from camera
I (19022) STATE_MGR: Frame captured: 12895 bytes
I (19028) JSON_PROTO: Generated session ID: hotpin-998C64-17
I (19034) STATE_MGR: Uploading image using session hotpin-998C64-17
I (19041) HTTP_CLIENT: Uploading image: session=hotpin-998C64-17, size=12895 bytes
I (19051) HTTP_CLIENT: POST body assembled: 13152 bytes
I (19056) HTTP_CLIENT: Sending POST request to http://10.247.1.58:8000/image
I (19132) HTTP_CLIENT: HTTP POST Status = 200, content_length = 199
I (19132) HTTP_CLIENT: Image uploaded successfully
I (19133) HTTP_CLIENT: Server response: {"status":"success","message":"Image received successfully","session":"hotpin-998C64-17","filename":"image.jpg","size_bytes":12895,"saved_path":"captured_images/hotpin-998C64-17_20251014_005257.jpg"}
I (19157) STATE_MGR: Image uploaded successfully
I (19161) LED_CTRL: LED pattern -> 3
I (19165) STATE_MGR: Camera capture sequence complete
I (19180) STATE_MGR: Capture complete event: success=1 (ESP_OK)
ğŸ“¢ Voice mode STARTED (recording...)
I (21361) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (21361) SERIAL_CMD: Simulated SHORT PRESS - Voice START
I (21362) STATE_MGR: Single click - mode toggle requested
I (21373) STATE_MGR: Switching: Camera â†’ Voice (count: 1)
I (21379) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (21385) STATE_MGR: Stopping camera...
I (21389) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21405) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (21412) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21428) STATE_MGR:   Timeout: 5000 ms
I (21433) STATE_MGR:   Timestamp: 19885 ms
I (21438) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (21443) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21460) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (21466) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21483) STATE_MGR:   Free heap before: 4037532 bytes
I (21488) STATE_MGR:   Free PSRAM before: 3983384 bytes
I (21494) CAMERA: Deinitializing camera...
I (21500) CAMERA: Camera deinitialized
I (21503) STATE_MGR:   âœ“ Camera deinitialized (took 9 ms)
I (21510) STATE_MGR:   Free heap after: 4199928 bytes
I (21515) STATE_MGR:   Free PSRAM after: 4107700 bytes
I (21521) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21537) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (21544) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21560) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (21668) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (21768) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (21818) STATE_MGR:   âœ“ Total stabilization: 250ms
I (21818) STATE_MGR:   Timestamp: 20270 ms
I (21818) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21834) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (21841) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21857) STATE_MGR:   Free heap before: 4199928 bytes
I (21863) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21881) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (21888) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21906) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21924) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (21931) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21949) AUDIO: [DIAG] Pre-init state:
I (21953) AUDIO:   Free heap: 4199928 bytes
I (21958) AUDIO:   Free internal RAM: 109291 bytes
I (21964) AUDIO:   Free DMA-capable: 92235 bytes
I (21969) AUDIO:   Free PSRAM: 4107700 bytes
I (21974) AUDIO:   Timestamp: 20426 ms
I (21978) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (21985) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (21993) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (22001) AUDIO:   DMA frame num (per desc): 1020
I (22007) AUDIO:   DMA total samples (effective): 4080
I (22013) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (22020) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (22026) AUDIO: âœ… I2S channels created (took 0 ms)
I (22031) AUDIO:   TX handle: 0x3ffafc3c | RX handle: 0x3ffca884
I (22038) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (22045) AUDIO:   Sample rate: 16000 Hz
I (22049) AUDIO:   MCLK: DISABLED
I (22053) AUDIO:   BCLK: GPIO14 (shared)
I (22058) AUDIO:   WS:   GPIO15 (shared)
I (22063) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (22069) AUDIO: âœ… TX channel configured (took 1 ms)
I (22074) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (22081) AUDIO:   Sample rate: 16000 Hz
I (22085) AUDIO:   MCLK: DISABLED
I (22089) AUDIO:   BCLK: GPIO14 (shared)
I (22094) AUDIO:   WS:   GPIO15 (shared)
I (22099) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (22105) AUDIO: âœ… RX channel configured (took 0 ms)
I (22110) AUDIO: [STEP 4/6] Enabling TX channel...
I (22116) AUDIO: âœ… TX channel enabled (took 0 ms)
I (22121) AUDIO: [STEP 5/6] Enabling RX channel...
I (22127) AUDIO: âœ… RX channel enabled (took 0 ms)
I (22132) AUDIO: [STEP 6/6] Hardware stabilization...
I (22138) AUDIO:   Phase 1: Initial settle (50ms)
I (22193) AUDIO:   Phase 2: DMA verification
I (22193) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (22193) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (22350) AUDIO: [DIAG] Post-init state:
I (22350) AUDIO:   Free heap: 4173936 bytes
I (22350) AUDIO:   Free internal RAM: 83299 bytes
I (22354) AUDIO:   Free DMA-capable: 66243 bytes
I (22359) AUDIO:   Free PSRAM: 4107700 bytes
I (22364) AUDIO:   Timestamp: 20816 ms
I (22369) AUDIO:   Total init time: 201 ms
I (22373) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22391) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (22397) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (22403) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (22412) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (22418) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22436) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22454) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (22461) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (22467) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (22474) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (22480) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22498) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (22504) STATE_MGR:   Free heap after: 4173936 bytes
I (22510) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22526) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (22532) STATE_MGR: â•‘ Total transition time: 894 ms
I (22538) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22554) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22570) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (22576) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22593) STT: Starting STT pipeline...
I (22597) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (22606) STT: âœ… STT pipeline started
I (22606) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22611) TTS: Starting TTS decoder...
I (22607) STT: Audio streaming session activated
I (22632) TTS: Initializing TTS decoder...
I (22627) STT: â•‘ Audio Capture Task Started on Core 0
W (22642) TTS: TTS decoder already initialized
I (22637) STT: Starting audio streaming to server...
I (22653) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)
I (22648) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22668) TTS: âœ… TTS decoder started
ets Jul 29 2019 12:21:46

rst:0x8 (TG1WDT_SYS_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (173) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (173) boot: compile time Oct 14 2025 00:50:12
I (173) boot: Multicore bootloader
I (176) boot: chip revision: v3.1
I (179) boot.esp32: SPI Speed      : 40MHz
I (182) boot.esp32: SPI Mode       : DIO
I (186) boot.esp32: SPI Flash Size : 2MB
W (190) boot.esp32: PRO CPU has been reset by WDT
W (194) boot.esp32: WDT rst info: PRO CPU PC=0x400803c8
--- 0x400803c8: _DoubleExceptionVector at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:568
W (199) boot.esp32: WDT rst info: APP CPU PC=0x40081c18
--- 0x40081c18: .handle_livelock_int at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/port/soc/esp32/highint_hdl.S:400
I (204) boot: Enabling RNG early entropy source...
I (209) boot: Partition Table:
I (211) boot: ## Label            Usage          Type ST Offset   Length
I (218) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (224) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (231) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (238) boot:  3 factory          factory app      00 00 00010000 00180000
I (244) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (251) boot: End of partition table
I (254) boot: Defaulting to factory image
I (258) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=373d4h (226260) map
I (343) esp_image: segment 1: paddr=000473fc vaddr=3ff80000 size=0001ch (    28) load
I (343) esp_image: segment 2: paddr=00047420 vaddr=3ffb0000 size=08bf8h ( 35832) load
I (360) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=bc748h (771912) map
I (624) esp_image: segment 4: paddr=0010c770 vaddr=3ffb8bf8 size=090cch ( 37068) load
I (638) esp_image: segment 5: paddr=00115844 vaddr=40080000 size=1ba80h (113280) load
I (698) boot: Loaded app from partition at offset 0x10000
I (698) boot: Disabling RNG early entropy source...
I (709) quad_psram: This chip is ESP32-D0WD
I (709) esp_psram: Found 4MB PSRAM device
I (709) esp_psram: Speed: 40MHz
I (712) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (720) cpu_start: Multicore app
I (1614) esp_psram: SPI SRAM memory test OK
I (1622) cpu_start: Pro cpu start user code
I (1623) cpu_start: cpu freq: 240000000 Hz
I (1623) app_init: Application information:
I (1626) app_init: Project name:     hotpin_esp32_firmware
I (1632) app_init: App version:      be56ba4-dirty
I (1637) app_init: Compile time:     Oct 14 2025 00:49:57
I (1643) app_init: ELF file SHA256:  bb0cbb6ef...
I (1649) app_init: ESP-IDF:          v5.4.2-dirty
I (1654) efuse_init: Min chip rev:     v0.0
I (1659) efuse_init: Max chip rev:     v3.99
I (1664) efuse_init: Chip rev:         v3.1
I (1669) heap_init: Initializing. RAM available for dynamic allocation:
I (1676) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1682) heap_init: At 3FFC9350 len 00016CB0 (91 KiB): DRAM
I (1689) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1695) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1702) heap_init: At 4009BA80 len 00004580 (17 KiB): IRAM
I (1708) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1716) spi_flash: detected chip: generic
I (1720) spi_flash: flash io: dio
W (1724) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1739) main_task: Started on CPU0
I (1742) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1751) main_task: Calling app_main()
I (1755) HOTPIN_MAIN: ====================================
I (1761) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1767) HOTPIN_MAIN: ====================================
W (1773) HOTPIN_MAIN: Brownout detector disabled
I (1778) HOTPIN_MAIN: Validating PSRAM...
I (1783) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1790) HOTPIN_MAIN: PSRAM validation passed
I (1795) HOTPIN_MAIN: ====================================
I (1801) HOTPIN_MAIN: System Information:
I (1805) HOTPIN_MAIN: Chip: esp32
I (1809) HOTPIN_MAIN: Cores: 2
I (1813) HOTPIN_MAIN: Silicon revision: 301
I (1818) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1823) HOTPIN_MAIN: Flash: 2 MB external
I (1828) HOTPIN_MAIN: Free heap: 4365148 bytes
I (1833) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1838) HOTPIN_MAIN: ====================================
I (1844) HOTPIN_MAIN: Initializing NVS...
I (1874) HOTPIN_MAIN: NVS initialized successfully
I (1875) event_dispatcher: System event queue ready (16 entries)
I (1876) HOTPIN_MAIN: Synchronization primitives created
I (1882) HOTPIN_MAIN: Initializing WiFi...
I (1891) wifi:wifi driver task: 3ffd9f48, prio:23, stack:6656, core=0
I (1903) wifi:wifi firmware version: bea31f3
I (1904) wifi:wifi certification version: v7.0
I (1904) wifi:config NVS flash: enabled
I (1904) wifi:config nano formatting: disabled
I (1909) wifi:Init data frame dynamic rx buffer num: 32
I (1914) wifi:Init static rx mgmt buffer num: 5
I (1918) wifi:Init management short buffer num: 32
I (1922) wifi:Init dynamic tx buffer num: 32
I (1926) wifi:Init static rx buffer size: 1600
I (1931) wifi:Init static rx buffer num: 16
I (1934) wifi:Init dynamic rx buffer num: 32
I (1940) wifi_init: rx ba win: 6
I (1942) wifi_init: accept mbox: 6
I (1946) wifi_init: tcpip mbox: 32
I (1950) wifi_init: udp mbox: 6
I (1954) wifi_init: tcp mbox: 6
I (1958) wifi_init: tcp tx win: 5760
I (1962) wifi_init: tcp rx win: 5760
I (1967) wifi_init: tcp mss: 1440
I (1971) wifi_init: WiFi IRAM OP enabled
I (1975) wifi_init: WiFi RX IRAM OP enabled
I (1982) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (2055) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (2117) wifi:mode : sta (80:f3:da:99:8c:64)
I (2117) wifi:enable tsf
I (2120) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (2120) HOTPIN_MAIN: Waiting for WiFi connection...
I (2121) HOTPIN_MAIN: WiFi station started, connecting...
I (2143) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (2145) wifi:state: init -> auth (0xb0)
I (2971) wifi:state: auth -> assoc (0x0)
I (2981) wifi:Association refused temporarily time 1100, comeback time 1200 (TUs)
I (4210) wifi:state: assoc -> auth (0xb0)
I (5022) wifi:state: auth -> assoc (0x0)
I (5038) wifi:state: assoc -> run (0x10)
I (5054) wifi:connected with wifi, aid = 2, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (5055) wifi:security: WPA3-SAE, phy: bgn, rssi: -52
I (5059) wifi:pm start, type: 1

I (5059) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (5070) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (5077) HOTPIN_MAIN: WiFi connected to AP
I (5110) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (5111) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (6096) esp_netif_handlers: sta ip: 10.247.1.214, mask: 255.255.255.0, gw: 10.247.1.43
I (6097) HOTPIN_MAIN: âœ… Got IP address: 10.247.1.214
I (6100) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (7135) HOTPIN_MAIN: Initializing button handler...
I (7135) BUTTON: Initializing button handler on GPIO 4
I (7136) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (7145) BUTTON: Button FSM task started
W (7150) BUTTON: Button input low at init - waiting for release before enabling detection
I (7158) BUTTON: Button handler initialized successfully (initial level=0, primed=0)
I (7167) HOTPIN_MAIN: InI (7180) SERIAL_CMD: Serial command task started on Core 0

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

I (7204) SERIAL_CMD: âœ… Serial command interface initialized
I (7210) HOTPIN_MAIN: Initializing LED controller...
I (7216) LED_CTRL: Initializing LED controller on GPIO 33
I (7223) LED_CTRL: LED controller ready
I (7227) LED_CTRL: LED pattern -> 2
I (7231) HOTPIN_MAIN: Initializing WebSocket client...
I (7237) WEBSOCKET: Initializing WebSocket client...
I (7242) WEBSOCKET: Server URI: ws://10.247.1.58:8000/ws
I (7248) WEBSOCKET: Authorization header configured
I (7255) WEBSOCKET: âœ… WebSocket client initialized
I (7259) WEBSOCKET: Status callback registered
I (7264) HOTPIN_MAIN: WebSocket status callback registered
I (7271) HOTPIN_MAIN: Initializing HTTP client...
I (7276) HTTP_CLIENT: Initializing HTTP client
I (7281) HTTP_CLIENT: Authorization token configured
I (7287) HTTP_CLIENT: HTTP client initialized (server: http://10.247.1.58:8000)
I (7295) HOTPIN_MAIN: Initializing STT pipeline...
I (7300) STT: Initializing STT pipeline...
I (7305) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7323) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7329) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7347) STT: [MEMORY] Pre-allocation state:
I (7352) STT:   Free internal RAM: 142875 bytes
I (7357) STT:   Free DMA-capable: 125819 bytes
I (7362) STT:   Free PSRAM: 4189764 bytes
I (7367) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7375) STT:   âœ“ Ring buffer allocated at 0x3f8011c0 (PSRAM address)
I (7382) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7391) STT: [MEMORY] Post-allocation state:
I (7396) STT:   Free internal RAM: 142875 bytes
I (7401) STT:   Free DMA-capable: 125819 bytes
I (7406) STT:   Free PSRAM: 4124224 bytes
I (7418) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7419) STT: Persistent audio streaming task started on Core 0
I (7426) STT:   âœ“ Stream buffer allocated at 0x3ffd39ec
I (7432) STT: âœ… STT pipeline initialized
I (7436) HOTPIN_MAIN: Initializing TTS decoder...
I (7442) TTS: Initializing TTS decoder...
I (7446) TTS: Allocating 16384 byte PSRAM buffer for TTS stream
I (7455) WEBSOCKET: Audio callback registered
I (7458) TTS: âœ… TTS decoder initialized
I (7463) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7471) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7476) HOTPIN_MAIN: State manager task created on Core 1
I (7476) STATE_MGR: State manager task started on Core 1
I (7482) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7488) STATE_MGR: Priority: 10
I (7495) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...
I (7499) STATE_MGR: Starting in camera mode...
I (7506) WEBSOCKET: Connecting to WebSocket server...
I (7511) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7523) STATE_MGR: Acquiring I2S mutex...
I (7529) STATE_MGR: Audio drivers already inactive; skipping deinit
I (7525) websocket_client: Started
I (7535) STATE_MGR: Initializing camera...
I (7543) WEBSOCKET: âœ… WebSocket connected to server
I (7544) CAMERA: Initializing camera...
I (7550) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (7554) CAMERA: GPIO ISR service already active (shared)
I (7565) WEBSOCKET: Handshake sent successfully
I (7572) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (7568) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
I (7539) WEBSOCKET: WebSocket client started
E (7588) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (7593) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (7602) cam_hal: cam init ok
I (7482) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7613) sccb-ng: pin_sda 26 pin_scl 27
I (7624) sccb-ng: sccb_i2c_port=1
I (7624) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (7629) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (7638) WEBSOCKET: Server status: connected
I (7619) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...
I (7659) HOTPIN_MAIN: State manager task added to watchdog
I (7665) HOTPIN_MAIN: ====================================
I (7672) HOTPIN_MAIN: System initialization complete!
I (7677) HOTPIN_MAIN: Entering camera standby mode...
I (7681) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (7682) HOTPIN_MAIN: ====================================
I (7689) camera: Detected OV2640 camera
I (7700) camera: Detected camera at address=0x30
I (7782) cam_hal: PSRAM DMA mode disabled
I (7783) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (7787) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7794) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7801) cam_hal: cam config ok
I (7804) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (7888) CAMERA: Camera initialized successfully
I (7888) STATE_MGR: I2S mutex released
I (7888) STATE_MGR: âœ… Camera mode transition complete
I (7888) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7893) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (7911) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (7916) LED_CTRL: LED pattern -> 3
I (7923) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7927) STATE_MGR: WebSocket connected
I (7945) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (7957) AUDIO:   âœ“ I2S access mutex created successfully
I (7963) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7981) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (7988) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8006) AUDIO: [DIAG] Pre-init state:
I (8011) AUDIO:   Free heap: 4033092 bytes
I (8015) AUDIO:   Free internal RAM: 66771 bytes
I (8021) AUDIO:   Free DMA-capable: 49715 bytes
I (8026) AUDIO:   Free PSRAM: 3983384 bytes
I (8031) AUDIO:   Timestamp: 6322 ms
I (8035) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (8042) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (8050) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (8058) AUDIO:   DMA frame num (per desc): 1020
I (8063) AUDIO:   DMA total samples (effective): 4080
I (8069) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (8077) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (8082) AUDIO: âœ… I2S channels created (took 0 ms)
I (8087) AUDIO:   TX handle: 0x3ffe1b1c | RX handle: 0x3ffeaf2c
I (8094) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (8101) AUDIO:   Sample rate: 16000 Hz
I (8105) AUDIO:   MCLK: DISABLED
I (8109) AUDIO:   BCLK: GPIO14 (shared)
I (8113) AUDIO:   WS:   GPIO15 (shared)
I (8118) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (8125) AUDIO: âœ… TX channel configured (took 1 ms)
I (8129) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (8136) AUDIO:   Sample rate: 16000 Hz
I (8140) AUDIO:   MCLK: DISABLED
I (8144) AUDIO:   BCLK: GPIO14 (shared)
I (8149) AUDIO:   WS:   GPIO15 (shared)
I (8153) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (8160) AUDIO: âœ… RX channel configured (took 0 ms)
I (8165) AUDIO: [STEP 4/6] Enabling TX channel...
I (8170) AUDIO: âœ… TX channel enabled (took 0 ms)
I (8175) AUDIO: [STEP 5/6] Enabling RX channel...
I (8181) AUDIO: âœ… RX channel enabled (took 0 ms)
I (8186) AUDIO: [STEP 6/6] Hardware stabilization...
I (8192) AUDIO:   Phase 1: Initial settle (50ms)
I (8247) AUDIO:   Phase 2: DMA verification
I (8247) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (8247) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8403) AUDIO: [DIAG] Post-init state:
I (8403) AUDIO:   Free heap: 4007108 bytes
I (8403) AUDIO:   Free internal RAM: 40787 bytes
I (8406) AUDIO:   Free DMA-capable: 23731 bytes
I (8411) AUDIO:   Free PSRAM: 3983384 bytes
I (8416) AUDIO:   Timestamp: 6708 ms
I (8421) AUDIO:   Total init time: 201 ms
I (8425) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8443) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (8449) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (8455) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8463) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (8470) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8488) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8506) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (8512) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (8518) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8525) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8531) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9817) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9824) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (9831) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9849) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (9856) AUDIO: âœ… RX channel disabled (took 0 ms)
I (9861) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (9868) AUDIO: âœ… TX channel disabled (took 0 ms)
I (9873) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (9930) AUDIO: [STEP 4/5] Deleting RX channel...
I (9930) AUDIO: âœ… RX channel deleted (took 0 ms)
I (9930) AUDIO: [STEP 5/5] Deleting TX channel...
I (9935) AUDIO: âœ… TX channel deleted (took 0 ms)
I (9940) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (9998) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10004) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (10011) AUDIO: â•‘ Camera Can Now Initialize
I (10016) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10034) HOTPIN_MAIN: Main task exiting - system running
I (10040) main_task: Returned from app_main()
ğŸ“¢ Voice mode STARTED (recording...)
I (14132) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (14132) SERIAL_CMD: Simulated SHORT PRESS - Voice START
I (14132) STATE_MGR: Single click - mode toggle requested
I (14144) STATE_MGR: Switching: Camera â†’ Voice (count: 1)
I (14150) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (14156) STATE_MGR: Stopping camera...
I (14160) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14176) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (14183) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14199) STATE_MGR:   Timeout: 5000 ms
I (14204) STATE_MGR:   Timestamp: 12496 ms
I (14209) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (14214) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14231) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (14237) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14253) STATE_MGR:   Free heap before: 4037888 bytes
I (14259) STATE_MGR:   Free PSRAM before: 3983384 bytes
I (14265) CAMERA: Deinitializing camera...
I (14271) CAMERA: Camera deinitialized
I (14274) STATE_MGR:   âœ“ Camera deinitialized (took 9 ms)
I (14281) STATE_MGR:   Free heap after: 4200260 bytes
I (14286) STATE_MGR:   Free PSRAM after: 4107700 bytes
I (14292) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14308) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (14315) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14331) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (14439) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (14539) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (14589) STATE_MGR:   âœ“ Total stabilization: 250ms
I (14589) STATE_MGR:   Timestamp: 12881 ms
I (14589) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14605) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (14612) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14628) STATE_MGR:   Free heap before: 4200260 bytes
I (14634) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14652) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (14659) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14677) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14695) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (14702) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14720) AUDIO: [DIAG] Pre-init state:
I (14724) AUDIO:   Free heap: 4200260 bytes
I (14729) AUDIO:   Free internal RAM: 109647 bytes
I (14735) AUDIO:   Free DMA-capable: 92591 bytes
I (14740) AUDIO:   Free PSRAM: 4107700 bytes
I (14745) AUDIO:   Timestamp: 13037 ms
I (14749) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (14756) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (14764) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (14772) AUDIO:   DMA frame num (per desc): 1020
I (14778) AUDIO:   DMA total samples (effective): 4080
I (14784) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (14791) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (14797) AUDIO: âœ… I2S channels created (took 0 ms)
I (14802) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca6c0
I (14809) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (14816) AUDIO:   Sample rate: 16000 Hz
I (14820) AUDIO:   MCLK: DISABLED
I (14824) AUDIO:   BCLK: GPIO14 (shared)
I (14829) AUDIO:   WS:   GPIO15 (shared)
I (14834) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (14841) AUDIO: âœ… TX channel configured (took 1 ms)
I (14845) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (14852) AUDIO:   Sample rate: 16000 Hz
I (14856) AUDIO:   MCLK: DISABLED
I (14860) AUDIO:   BCLK: GPIO14 (shared)
I (14865) AUDIO:   WS:   GPIO15 (shared)
I (14870) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (14876) AUDIO: âœ… RX channel configured (took 0 ms)
I (14881) AUDIO: [STEP 4/6] Enabling TX channel...
I (14887) AUDIO: âœ… TX channel enabled (took 0 ms)
I (14892) AUDIO: [STEP 5/6] Enabling RX channel...
I (14898) AUDIO: âœ… RX channel enabled (took 0 ms)
I (14903) AUDIO: [STEP 6/6] Hardware stabilization...
I (14909) AUDIO:   Phase 1: Initial settle (50ms)
I (14964) AUDIO:   Phase 2: DMA verification
I (14964) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (14964) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (15121) AUDIO: [DIAG] Post-init state:
I (15121) AUDIO:   Free heap: 4174280 bytes
I (15121) AUDIO:   Free internal RAM: 83667 bytes
I (15125) AUDIO:   Free DMA-capable: 66611 bytes
I (15130) AUDIO:   Free PSRAM: 4107700 bytes
I (15135) AUDIO:   Timestamp: 13427 ms
I (15140) AUDIO:   Total init time: 201 ms
I (15144) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15162) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (15168) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (15174) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (15183) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (15189) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15207) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15225) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (15232) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (15238) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (15245) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (15251) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15269) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (15275) STATE_MGR:   Free heap after: 4174280 bytes
I (15281) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15297) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (15303) STATE_MGR: â•‘ Total transition time: 894 ms
I (15309) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15325) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15341) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (15347) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15364) STT: Starting STT pipeline...
I (15368) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (15377) STT: âœ… STT pipeline started
I (15377) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15382) TTS: Starting TTS decoder...
I (15378) STT: Audio streaming session activated
I (15403) TTS: Initializing TTS decoder...
I (15398) STT: â•‘ Audio Capture Task Started on Core 0
W (15413) TTS: TTS decoder already initialized
I (15408) STT: Starting audio streaming to server...
I (15424) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)
I (15419) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (15439) TTS: âœ… TTS decoder started
ets Jul 29 2019 12:21:46

rst:0x8 (TG1WDT_SYS_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (173) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (173) boot: compile time Oct 14 2025 00:50:12
I (173) boot: Multicore bootloader
I (176) boot: chip revision: v3.1
I (179) boot.esp32: SPI Speed      : 40MHz
I (182) boot.esp32: SPI Mode       : DIO
I (186) boot.esp32: SPI Flash Size : 2MB
W (190) boot.esp32: PRO CPU has been reset by WDT
W (194) boot.esp32: WDT rst info: PRO CPU PC=0x40085e0c
--- 0x40085e0c: _xt_panic at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/port/arch/xtensa/panic_handler_asm.S:28
W (199) boot.esp32: WDT rst info: APP CPU PC=0x40081c18
--- 0x40081c18: .handle_livelock_int at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/port/soc/esp32/highint_hdl.S:400
I (204) boot: Enabling RNG early entropy source...
I (209) boot: Partition Table:
I (211) boot: ## Label            Usage          Type ST Offset   Length
I (218) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (224) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (231) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (238) boot:  3 factory          factory app      00 00 00010000 00180000
I (244) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (251) boot: End of partition table
I (254) boot: Defaulting to factory image
I (258) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=373d4h (226260) map
I (343) esp_image: segment 1: paddr=000473fc vaddr=3ff80000 size=0001ch (    28) load
I (343) esp_image: segment 2: paddr=00047420 vaddr=3ffb0000 size=08bf8h ( 35832) load
I (360) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=bc748h (771912) map
I (624) esp_image: segment 4: paddr=0010c770 vaddr=3ffb8bf8 size=090cch ( 37068) load
I (638) esp_image: segment 5: paddr=00115844 vaddr=40080000 size=1ba80h (113280) load
I (698) boot: Loaded app from partition at offset 0x10000
I (698) boot: Disabling RNG early entropy source...
I (709) quad_psram: This chip is ESP32-D0WD
I (709) esp_psram: Found 4MB PSRAM device
I (709) esp_psram: Speed: 40MHz
I (712) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (720) cpu_start: Multicore app
I (1614) esp_psram: SPI SRAM memory test OK
I (1622) cpu_start: Pro cpu start user code
I (1623) cpu_start: cpu freq: 240000000 Hz
I (1623) app_init: Application information:
I (1626) app_init: Project name:     hotpin_esp32_firmware
I (1632) app_init: App version:      be56ba4-dirty
I (1637) app_init: Compile time:     Oct 14 2025 00:49:57
I (1643) app_init: ELF file SHA256:  bb0cbb6ef...
I (1649) app_init: ESP-IDF:          v5.4.2-dirty
I (1654) efuse_init: Min chip rev:     v0.0
I (1659) efuse_init: Max chip rev:     v3.99
I (1664) efuse_init: Chip rev:         v3.1
I (1669) heap_init: Initializing. RAM available for dynamic allocation:
I (1676) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1682) heap_init: At 3FFC9350 len 00016CB0 (91 KiB): DRAM
I (1689) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1695) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1702) heap_init: At 4009BA80 len 00004580 (17 KiB): IRAM
I (1708) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1716) spi_flash: detected chip: generic
I (1720) spi_flash: flash io: dio
W (1724) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1739) main_task: Started on CPU0
I (1742) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1751) main_task: Calling app_main()
I (1755) HOTPIN_MAIN: ====================================
I (1761) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1767) HOTPIN_MAIN: ====================================
W (1773) HOTPIN_MAIN: Brownout detector disabled
I (1778) HOTPIN_MAIN: Validating PSRAM...
I (1783) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1790) HOTPIN_MAIN: PSRAM validation passed
I (1795) HOTPIN_MAIN: ====================================
I (1801) HOTPIN_MAIN: System Information:
I (1805) HOTPIN_MAIN: Chip: esp32
I (1809) HOTPIN_MAIN: Cores: 2
I (1813) HOTPIN_MAIN: Silicon revision: 301
I (1818) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1823) HOTPIN_MAIN: Flash: 2 MB external
I (1828) HOTPIN_MAIN: Free heap: 4365148 bytes
I (1833) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1838) HOTPIN_MAIN: ====================================
I (1844) HOTPIN_MAIN: Initializing NVS...
I (1873) HOTPIN_MAIN: NVS initialized successfully
I (1874) event_dispatcher: System event queue ready (16 entries)
I (1875) HOTPIN_MAIN: Synchronization primitives created
I (1881) HOTPIN_MAIN: Initializing WiFi...
I (1889) wifi:wifi driver task: 3ffd9f48, prio:23, stack:6656, core=0
I (1902) wifi:wifi firmware version: bea31f3
I (1902) wifi:wifi certification version: v7.0
I (1902) wifi:config NVS flash: enabled
I (1903) wifi:config nano formatting: disabled
I (1908) wifi:Init data frame dynamic rx buffer num: 32
I (1913) wifi:Init static rx mgmt buffer num: 5
I (1917) wifi:Init management short buffer num: 32
I (1921) wifi:Init dynamic tx buffer num: 32
I (1925) wifi:Init static rx buffer size: 1600
I (1929) wifi:Init static rx buffer num: 16
I (1933) wifi:Init dynamic rx buffer num: 32
I (1938) wifi_init: rx ba win: 6
I (1941) wifi_init: accept mbox: 6
I (1945) wifi_init: tcpip mbox: 32
I (1949) wifi_init: udp mbox: 6
I (1953) wifi_init: tcp mbox: 6
I (1957) wifi_init: tcp tx win: 5760
I (1961) wifi_init: tcp rx win: 5760
I (1965) wifi_init: tcp mss: 1440
I (1969) wifi_init: WiFi IRAM OP enabled
I (1974) wifi_init: WiFi RX IRAM OP enabled
I (1980) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (2054) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (2071) wifi:mode : sta (80:f3:da:99:8c:64)
I (2072) wifi:enable tsf
I (2075) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (2075) HOTPIN_MAIN: Waiting for WiFi connection...
I (2076) HOTPIN_MAIN: WiFi station started, connecting...
I (2098) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (2099) wifi:state: init -> auth (0xb0)
I (2937) wifi:state: auth -> assoc (0x0)
I (2943) wifi:Association refused temporarily time 1100, comeback time 1200 (TUs)
I (4173) wifi:state: assoc -> auth (0xb0)
I (4988) wifi:state: auth -> assoc (0x0)
I (5005) wifi:state: assoc -> run (0x10)
I (5020) wifi:connected with wifi, aid = 2, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (5021) wifi:security: WPA3-SAE, phy: bgn, rssi: -53
I (5025) wifi:pm start, type: 1

I (5025) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (5036) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (5043) HOTPIN_MAIN: WiFi connected to AP
I (5070) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (5071) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (6062) esp_netif_handlers: sta ip: 10.247.1.214, mask: 255.255.255.0, gw: 10.247.1.43
I (6063) HOTPIN_MAIN: âœ… Got IP address: 10.247.1.214
I (6066) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (7089) HOTPIN_MAIN: Initializing button handler...
I (7089) BUTTON: Initializing button handler on GPIO 4
I (7090) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (7099) BUTTON: Button FSM task started
W (7104) BUTTON: Button input low at init - waiting for release before enabling detection
I (7112) BUTTON: Button handler initialized successfully (initial level=0, primed=0)
I (7120) HOTPIN_MAIN: InitI (7134) SERIAL_CMD: Serial command task started on Core 0

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

I (7158) SERIAL_CMD: âœ… Serial command interface initialized
I (7164) HOTPIN_MAIN: Initializing LED controller...
I (7170) LED_CTRL: Initializing LED controller on GPIO 33
I (7177) LED_CTRL: LED controller ready
I (7181) LED_CTRL: LED pattern -> 2
I (7185) HOTPIN_MAIN: Initializing WebSocket client...
I (7191) WEBSOCKET: Initializing WebSocket client...
I (7196) WEBSOCKET: Server URI: ws://10.247.1.58:8000/ws
I (7202) WEBSOCKET: Authorization header configured
I (7209) WEBSOCKET: âœ… WebSocket client initialized
I (7213) WEBSOCKET: Status callback registered
I (7219) HOTPIN_MAIN: WebSocket status callback registered
I (7225) HOTPIN_MAIN: Initializing HTTP client...
I (7230) HTTP_CLIENT: Initializing HTTP client
I (7235) HTTP_CLIENT: Authorization token configured
I (7241) HTTP_CLIENT: HTTP client initialized (server: http://10.247.1.58:8000)
I (7249) HOTPIN_MAIN: Initializing STT pipeline...
I (7254) STT: Initializing STT pipeline...
I (7259) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7277) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7283) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7301) STT: [MEMORY] Pre-allocation state:
I (7306) STT:   Free internal RAM: 143019 bytes
I (7311) STT:   Free DMA-capable: 125963 bytes
I (7316) STT:   Free PSRAM: 4189764 bytes
I (7321) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7329) STT:   âœ“ Ring buffer allocated at 0x3f8011c0 (PSRAM address)
I (7336) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7345) STT: [MEM