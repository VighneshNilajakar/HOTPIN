I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 11 2025 20:23:02
I (30) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=35e04h (220676) map
I (181) esp_image: segment 1: paddr=00045e2c vaddr=3ff80000 size=0001ch (    28) load
I (181) esp_image: segment 2: paddr=00045e50 vaddr=3ffb0000 size=068bch ( 26812) load
I (194) esp_image: segment 3: paddr=0004c714 vaddr=40080000 size=03904h ( 14596) load
I (200) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=ba5b8h (763320) map
I (461) esp_image: segment 5: paddr=0010a5e0 vaddr=40083904 size=17780h ( 96128) load
I (512) boot: Loaded app from partition at offset 0x10000
I (512) boot: Disabling RNG early entropy source...
[0;32mI (523) quad_psram: This chip is ESP32-D0WD[0m
[0;32mI (523) esp_psram: Found 4MB PSRAM device[0m
[0;32mI (523) esp_psram: Speed: 40MHz[0m
[0;32mI (526) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.[0m
[0;32mI (534) cpu_start: Multicore app[0m
[0;32mI (1428) esp_psram: SPI SRAM memory test OK[0m
[0;32mI (1436) cpu_start: Pro cpu start user code[0m
[0;32mI (1436) cpu_start: cpu freq: 240000000 Hz[0m
[0;32mI (1436) app_init: Application information:[0m
[0;32mI (1439) app_init: Project name:     hotpin_esp32_firmware[0m
[0;32mI (1445) app_init: App version:      905ca05-dirty[0m
[0;32mI (1451) app_init: Compile time:     Oct 11 2025 20:22:39[0m
[0;32mI (1457) app_init: ELF file SHA256:  860543cd1...[0m
[0;32mI (1462) app_init: ESP-IDF:          v5.4.2-dirty[0m
[0;32mI (1468) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (1473) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (1478) efuse_init: Chip rev:         v3.1[0m
[0;32mI (1483) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (1490) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (1496) heap_init: At 3FFBEDD0 len 00021230 (132 KiB): DRAM[0m
[0;32mI (1502) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (1509) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (1515) heap_init: At 4009B084 len 00004F7C (19 KiB): IRAM[0m
[0;32mI (1522) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator[0m
[0;32mI (1530) spi_flash: detected chip: generic[0m
[0;32mI (1534) spi_flash: flash io: dio[0m
[0;33mW (1538) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.[0m
[0;32mI (1552) main_task: Started on CPU0[0m
[0;32mI (1555) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations[0m
[0;32mI (1564) main_task: Calling app_main()[0m
[0;32mI (1568) HOTPIN_MAIN: ====================================[0m
[0;32mI (1574) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting[0m
[0;32mI (1580) HOTPIN_MAIN: ====================================[0m
[0;33mW (1586) HOTPIN_MAIN: Brownout detector disabled[0m
[0;32mI (1591) HOTPIN_MAIN: Validating PSRAM...[0m
[0;32mI (1596) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)[0m
[0;32mI (1602) HOTPIN_MAIN: PSRAM validation passed[0m
[0;32mI (1607) HOTPIN_MAIN: ====================================[0m
[0;32mI (1614) HOTPIN_MAIN: System Information:[0m
[0;32mI (1618) HOTPIN_MAIN: Chip: esp32[0m
[0;32mI (1622) HOTPIN_MAIN: Cores: 2[0m
[0;32mI (1626) HOTPIN_MAIN: Silicon revision: 301[0m
[0;32mI (1631) HOTPIN_MAIN: CPU Frequency: 240 MHz[0m
[0;32mI (1636) HOTPIN_MAIN: Flash: 2 MB external[0m
[0;32mI (1641) HOTPIN_MAIN: Free heap: 4407448 bytes[0m
[0;32mI (1646) HOTPIN_MAIN: PSRAM: 4194304 bytes[0m
[0;32mI (1651) HOTPIN_MAIN: ====================================[0m
[0;32mI (1657) HOTPIN_MAIN: Initializing NVS...[0m
[0;32mI (1687) HOTPIN_MAIN: NVS initialized successfully[0m
[0;32mI (1688) HOTPIN_MAIN: Synchronization primitives created[0m
[0;32mI (1688) HOTPIN_MAIN: Initializing WiFi...[0m
I (1697) wifi:wifi driver task: 3ffcfb4c, prio:23, stack:6656, core=0
I (1710) wifi:wifi firmware version: bea31f3
I (1710) wifi:wifi certification version: v7.0
I (1710) wifi:config NVS flash: enabled
I (1711) wifi:config nano formatting: disabled
I (1715) wifi:Init data frame dynamic rx buffer num: 32
I (1720) wifi:Init static rx mgmt buffer num: 5
I (1724) wifi:Init management short buffer num: 32
I (1729) wifi:Init dynamic tx buffer num: 32
I (1733) wifi:Init static rx buffer size: 1600
I (1737) wifi:Init static rx buffer num: 16
I (1741) wifi:Init dynamic rx buffer num: 32
[0;32mI (1746) wifi_init: rx ba win: 6[0m
[0;32mI (1749) wifi_init: accept mbox: 6[0m
[0;32mI (1753) wifi_init: tcpip mbox: 32[0m
[0;32mI (1757) wifi_init: udp mbox: 6[0m
[0;32mI (1761) wifi_init: tcp mbox: 6[0m
[0;32mI (1765) wifi_init: tcp tx win: 5760[0m
[0;32mI (1769) wifi_init: tcp rx win: 5760[0m
[0;32mI (1773) wifi_init: tcp mss: 1440[0m
[0;32mI (1777) wifi_init: WiFi IRAM OP enabled[0m
[0;32mI (1782) wifi_init: WiFi RX IRAM OP enabled[0m
[0;32mI (1788) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07[0m
[0;32mI (1856) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)[0m
I (1874) wifi:mode : sta (80:f3:da:99:8c:64)
I (1874) wifi:enable tsf
[0;32mI (1877) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...[0m
[0;32mI (1878) HOTPIN_MAIN: Waiting for WiFi connection...[0m
[0;32mI (1878) HOTPIN_MAIN: WiFi station started, connecting...[0m
I (1901) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (1903) wifi:state: init -> auth (0xb0)
I (2754) wifi:state: auth -> assoc (0x0)
I (2766) wifi:state: assoc -> run (0x10)
I (2792) wifi:connected with wifi, aid = 3, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (2793) wifi:security: WPA3-SAE, phy: bgn, rssi: -46
I (2796) wifi:pm start, type: 1
I (2797) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
[0;32mI (2809) HOTPIN_MAIN: WiFi connected to AP[0m
I (2813) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (2873) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (2874) wifi:AP's beacon interval = 102400 us, DTIM period = 2
[0;32mI (3846) esp_netif_handlers: sta ip: 10.87.102.214, mask: 255.255.255.0, gw: 10.87.102.121[0m
[0;32mI (3847) HOTPIN_MAIN: âœ… Got IP address: 10.87.102.214[0m
[0;31mE (3851) LED_CTRL: LED controller not initialized[0m
[0;32mI (3856) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection[0m
[0;32mI (6891) HOTPIN_MAIN: Initializing button handler...[0m
[0;32mI (6891) BUTTON: Initializing button handler on GPIO 4[0m
[0;32mI (6892) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3 [0m
[0;32mI (6901) BUTTON: Button FSM task started[0m
[0;32mI (6906) BUTTON: Button handler initialized successfully[0m
[0;32mI (6911) HOTPIN_MAIN: In[0;32mI (6925) SERIAL_CMD: Serial command task started on Core 0[0m

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

[0;32mI (6949) SERIAL_CMD: âœ… Serial command interface initialized[0m
[0;32mI (6955) HOTPIN_MAIN: Initializing LED controller...[0m
[0;32mI (6961) LED_CTRL: Initializing LED controller on GPIO 33[0m
[0;32mI (6967) gpio: GPIO[33]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (6977) LED_CTRL: LED task started[0m
[0;32mI (6978) LED_CTRL: LED controller initialized[0m
[0;32mI (6985) LED_CTRL: LED state changed: 0 -> 1[0m
[0;32mI (6990) HOTPIN_MAIN: Initializing WebSocket client...[0m
[0;32mI (6996) WEBSOCKET: Initializing WebSocket client...[0m
[0;32mI (7002) WEBSOCKET: Server URI: ws://10.87.102.58:8000/ws[0m
[0;32mI (7008) WEBSOCKET: Authorization header configured[0m
[0;32mI (7014) WEBSOCKET: âœ… WebSocket client initialized[0m
[0;32mI (7019) WEBSOCKET: Status callback registered[0m
[0;32mI (7024) HOTPIN_MAIN: WebSocket status callback registered[0m
[0;32mI (7030) HOTPIN_MAIN: Initializing HTTP client...[0m
[0;32mI (7036) HTTP_CLIENT: Initializing HTTP client[0m
[0;32mI (7041) HTTP_CLIENT: Authorization token configured[0m
[0;32mI (7046) HTTP_CLIENT: HTTP client initialized (server: http://10.87.102.58:8000)[0m
[0;32mI (7054) HOTPIN_MAIN: Initializing STT pipeline...[0m
[0;32mI (7060) STT: Initializing STT pipeline...[0m
[0;32mI (7065) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (7083) STT: â•‘ STT Ring Buffer Allocation (PSRAM)[0m
[0;32mI (7089) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (7107) STT: [MEMORY] Pre-allocation state:[0m
[0;32mI (7112) STT:   Free internal RAM: 187667 bytes[0m
[0;32mI (7117) STT:   Free DMA-capable: 168055 bytes[0m
[0;32mI (7122) STT:   Free PSRAM: 4189764 bytes[0m
[0;32mI (7127) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...[0m
[0;32mI (7135) STT:   âœ“ Ring buffer allocated at 0x3f8011c0 (PSRAM address)[0m
[0;32mI (7142) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)[0m
[0;32mI (7150) STT: [MEMORY] Post-allocation state:[0m
[0;32mI (7155) STT:   Free internal RAM: 187667 bytes[0m
[0;32mI (7161) STT:   Free DMA-capable: 168055 bytes[0m
[0;32mI (7166) STT:   Free PSRAM: 4124224 bytes[0m
[0;32mI (7177) STT: âœ… STT pipeline initialized[0m
[0;32mI (7178) HOTPIN_MAIN: Initializing TTS decoder...[0m
[0;32mI (7181) TTS: Initializing TTS decoder...[0m
[0;32mI (7185) WEBSOCKET: Audio callback registered[0m
[0;32mI (7190) TTS: âœ… TTS decoder initialized[0m
[0;32mI (7195) HOTPIN_MAIN: Camera and audio initialization deferred to state manager[0m
[0;32mI (7203) HOTPIN_MAIN: Creating FreeRTOS tasks...[0m
[0;32mI (7208) HOTPIN_MAIN: State manager task created on Core 1[0m
[0;32mI (7208) STATE_MGR: State manager task started on Core 1[0m
[0;32mI (7215) HOTPIN_MAIN: WebSocket connection task started on Core 0[0m
[0;32mI (7221) STATE_MGR: Priority: 10[0m
[0;32mI (7227) HOTPIN_MAIN: Waiting for WiFi connection...[0m
[0;32mI (7231) STATE_MGR: Starting in camera mode...[0m
[0;32mI (7237) HOTPIN_MAIN: WiFi connected! Starting WebSocket connection...[0m
[0;32mI (7242) STATE_MGR: === TRANSITION TO CAMERA MODE ===[0m
[0;32mI (7249) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...[0m
[0;32mI (7255) STATE_MGR: Acquiring I2S mutex...[0m
[0;32mI (7262) WEBSOCKET: Connecting to WebSocket server...[0m
[0;32mI (7267) STATE_MGR: Initializing camera...[0m
[0;32mI (7278) CAMERA: Initializing camera...[0m
[0;31mE (7282) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (7282) websocket_client: Started[0m
[0;33mW (7290) CAMERA: GPIO ISR service already installed (OK)[0m
[0;32mI (7294) WEBSOCKET: WebSocket client started[0m
[0;32mI (7301) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2 [0m
[0;32mI (7305) HOTPIN_MAIN: âœ… WebSocket connection initiated successfully[0m
[0;31mE (7315) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (7215) HOTPIN_MAIN: WebSocket connection task created on Core 0[0m
[0;32mI (7330) cam_hal: cam init ok[0m
[0;32mI (7337) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...[0m
[0;32mI (7341) sccb-ng: pin_sda 26 pin_scl 27[0m
[0;31mE (7347) task_wdt: esp_task_wdt_init(515): TWDT already initialized[0m
[0;32mI (7351) sccb-ng: sccb_i2c_port=1[0m
[0;32mI (7359) HOTPIN_MAIN: State manager task added to watchdog[0m
[0;32mI (7364) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (7369) HOTPIN_MAIN: ====================================[0m
[0;32mI (7384) HOTPIN_MAIN: System initialization complete![0m
[0;32mI (7390) HOTPIN_MAIN: Entering camera standby mode...[0m
[0;32mI (7396) HOTPIN_MAIN: ====================================[0m
[0;32mI (7402) HOTPIN_MAIN: Main task exiting - system running[0m
[0;32mI (7408) main_task: Returned from app_main()[0m
[0;32mI (7412) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2[0m
[0;32mI (7419) camera: Detected OV2640 camera[0m
[0;32mI (7424) camera: Detected camera at address=0x30[0m
[0;32mI (7506) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (7506) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15[0m
[0;32mI (7510) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (7517) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (7523) cam_hal: cam config ok[0m
[0;32mI (7527) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8[0m
[0;32mI (7609) CAMERA: Camera initialized successfully[0m
[0;32mI (7609) STATE_MGR: I2S mutex released[0m
[0;32mI (7609) STATE_MGR: âœ… Camera mode transition complete[0m
[0;32mI (7614) STATE_MGR: âœ… Entered CAMERA_STANDBY state[0m
[0;32mI (7722) WEBSOCKET: âœ… WebSocket connected to server[0m
[0;32mI (7723) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}[0m
[0;32mI (7729) WEBSOCKET: Handshake sent successfully[0m
[0;32mI (7730) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED[0m
[0;32mI (7791) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}[0m
[0;32mI (7791) WEBSOCKET: Server status: connected[0m
[0;32mI (10322) HOTPIN_MAIN: ğŸ‰ WebSocket connected and verified![0m
[0;32mI (10322) HOTPIN_MAIN: âœ… WebSocket connection established![0m
[0;32mI (10324) HOTPIN_MAIN: ğŸ“¡ WebSocket monitoring task running...[0m
ğŸ“¢ Voice mode STARTED (recording...)
[0;32mI (12070) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY[0m
[0;32mI (12071) SERIAL_CMD: Simulated SHORT PRESS - Voice START[0m
[0;32mI (12071) STATE_MGR: Single click - mode toggle requested[0m
[0;32mI (12082) STATE_MGR: Switching: Camera â†’ Voice (count: 1)[0m
[0;32mI (12088) STATE_MGR: === TRANSITION TO VOICE MODE ===[0m
[0;32mI (12094) STATE_MGR: Stopping camera...[0m
[0;32mI (12099) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12115) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex[0m
[0;32mI (12122) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12138) STATE_MGR:   Timeout: 5000 ms[0m
[0;32mI (12142) STATE_MGR:   Timestamp: 10621 ms[0m
[0;32mI (12147) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)[0m
[0;32mI (12153) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12169) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware[0m
[0;32mI (12176) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12192) STATE_MGR:   Free heap before: 4087784 bytes[0m
[0;32mI (12198) STATE_MGR:   Free PSRAM before: 3999772 bytes[0m
[0;32mI (12204) CAMERA: Deinitializing camera...[0m
[0;32mI (12209) CAMERA: Camera deinitialized[0m
[0;32mI (12213) STATE_MGR:   âœ“ Camera deinitialized (took 9 ms)[0m
[0;32mI (12219) STATE_MGR:   Free heap after: 4249876 bytes[0m
[0;32mI (12225) STATE_MGR:   Free PSRAM after: 4124088 bytes[0m
[0;32mI (12231) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12247) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL[0m
[0;32mI (12253) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12269) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts[0m
[0;32mI (12377) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins[0m
[0;32mI (12477) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state[0m
[0;32mI (12527) STATE_MGR:   âœ“ Total stabilization: 250ms[0m
[0;32mI (12527) STATE_MGR:   Timestamp: 11006 ms[0m
[0;32mI (12527) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12543) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers[0m
[0;32mI (12550) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12566) STATE_MGR:   Free heap before: 4249876 bytes[0m
[0;32mI (12572) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12590) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (12597) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12615) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...[0m
[0;32mI (12622) AUDIO:   âœ“ I2S access mutex created successfully[0m
[0;32mI (12628) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12646) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (12654) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (12671) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (12676) AUDIO:   Free heap: 4249776 bytes[0m
[0;32mI (12681) AUDIO:   Free internal RAM: 162987 bytes[0m
[0;32mI (12686) AUDIO:   Free DMA-capable: 143375 bytes[0m
[0;32mI (12692) AUDIO:   Free PSRAM: 4124088 bytes[0m
[0;32mI (12697) AUDIO:   Timestamp: 11175 ms[0m
[0;32mI (12701) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (12708) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (12716) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (12724) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (12730) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (12735) AUDIO:   TX handle: 0x3ffdf6ec | RX handle: 0x3ffdfa74[0m
[0;32mI (12742) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (12749) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (12753) AUDIO:   MCLK: DISABLED[0m
[0;32mI (12757) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (12762) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (12767) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (12773) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (12778) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (12785) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (12789) AUDIO:   MCLK: DISABLED[0m
[0;32mI (12793) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (12798) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (12803) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (12809) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (12814) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (12820) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (12825) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (12831) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (12836) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (12842) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (12897) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (12897) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (12898) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (13055) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (13055) AUDIO:   Free heap: 4245992 bytes[0m
[0;32mI (13056) AUDIO:   Free internal RAM: 142151 bytes[0m
[0;32mI (13059) AUDIO:   Free DMA-capable: 122539 bytes[0m
[0;32mI (13065) AUDIO:   Free PSRAM: 4124088 bytes[0m
[0;32mI (13069) AUDIO:   Timestamp: 11548 ms[0m
[0;32mI (13074) AUDIO:   Total init time: 201 ms[0m
[0;32mI (13079) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13097) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (13103) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (13108) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (13116) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (13123) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13141) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13159) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (13165) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (13172) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (13179) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (13185) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13203) STATE_MGR:   âœ“ Audio initialized (took 631 ms)[0m
[0;32mI (13209) STATE_MGR:   Free heap after: 4245992 bytes[0m
[0;32mI (13215) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13231) STATE_MGR: â•‘ STEP 5: I2S mutex released[0m
[0;32mI (13236) STATE_MGR: â•‘ Total transition time: 890 ms[0m
[0;32mI (13242) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13259) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13275) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines[0m
[0;32mI (13281) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13319) STATE_MGR: ğŸ”” Recording start feedback dispatched[0m
[0;32mI (13320) STT: Starting STT pipeline...[0m
[0;32mI (13320) STT: Initializing STT pipeline...[0m
[0;33mW (13324) STT: STT pipeline already initialized[0m
[0;32mI (13329) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)[0m
[0;32mI (13339) STT: âœ… STT pipeline started[0m
[0;32mI (13339) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13343) TTS: Starting TTS decoder...[0m
[0;32mI (13339) STT: Audio streaming task started on Core 0[0m
[0;32mI (13364) TTS: Initializing TTS decoder...[0m
[0;32mI (13359) STT: â•‘ Audio Capture Task Started on Core 0[0m
[0;33mW (13374) TTS: TTS decoder already initialized[0m
[0;32mI (13369) STT:   âœ“ Stream buffer allocated at 0x3ffe56c0[0m
[0;32mI (13385) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)[0m
[0;32mI (13380) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (13401) TTS: âœ… TTS decoder started[0m
[0;32mI (13391) STT: Starting audio streaming to server...[0m
[0;32mI (13422) STATE_MGR: âœ… Voice mode transition complete[0m
[0;32mI (13417) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...[0m
[0;32mI (13433) STATE_MGR: âœ… Entered VOICE_ACTIVE state[0m
[0;32mI (13440) STT:   Current time: 11919 ms[0m
[0;32mI (13450) STT:   Free heap: 4228524 bytes[0m
[0;32mI (13417) TTS: TTS playback task started on Core 0[0m
[0;32mI (13655) STT: [STABILIZATION] Phase 2: Verify audio driver state...[0m
[0;32mI (13655) STT:   âœ“ Audio driver initialized[0m
[0;32mI (13656) STT: [STABILIZATION] Phase 3: Additional 100ms settle...[0m
[0;32mI (13763) STT:   Total stabilization: 300ms[0m
[0;32mI (13763) STT:   Timestamp: 12241 ms[0m
[0;32mI (13763) STT: [BUFFER] Allocating 1024 byte capture buffer...[0m
  [0;32mI (15700) WEBSOCKET: Pipeline stage changed: idle -> transcription[0m
[0;32mI (16296) WEBSOCKET: Received text message: {"status": "processing", "stage": "llm", "transcript": "hi"}[0m
[0;32mI (16296) WEBSOCKET: Server status: processing[0m
[0;32mI (16300) WEBSOCKET: Server stage: llm[0m
[0;32mI (16304) WEBSOCKET: Pipeline stage changed: transcription -> llm[0m
[0;32mI (16909) WEBSOCKET: Received text message: {"status": "processing", "stage": "tts", "response": "Hello! How can I help you today?"}[0m
[0;32mI (16911) WEBSOCKET: Server status: processing[0m
[0;32mI (16916) WEBSOCKET: Server stage: tts[0m
[0;32mI (16920) WEBSOCKET: Pipeline stage changed: llm -> tts[0m
[0;32mI (16930) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (16933) TTS: âœ… WAV header parsed successfully[0m
[0;32mI (16938) TTS: === WAV File Info ===[0m
[0;32mI (16942) TTS: Sample Rate: 22050 Hz[0m
[0;32mI (16945) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (16953) TTS: Channels: 1[0m
[0;32mI (16956) TTS: Bits per Sample: 16[0m
[0;32mI (16957) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (16963) TTS: Audio Format: 1 (PCM)[0m
[0;32mI (16970) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (16979) TTS: Declared Data Size: 153694 bytes[0m
[0;32mI (16982) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (16988) TTS: Block Align: 2[0m
[0;32mI (16992) TTS: Byte Rate: 44100[0m
[0;32mI (16992) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (16998) TTS: ====================[0m
[0;32mI (17006) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17007) TTS: ğŸ”” Playback start feedback dispatched (bytes_received=24576)[0m
[0;32mI (17017) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17024) AUDIO: I2S TX sample rate updated to 22050 Hz[0m
[0;32mI (17030) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17043) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17048) WEBSOCKET: Received binary audio data: 536 bytes[0m
[0;32mI (17053) WEBSOCKET: Received binary audio data: 3560 bytes[0m
[0;32mI (17137) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17244) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17353) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (17408) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (19927) STATE_MGR: Voice pipeline reported COMPLETE[0m
[0;32mI (19927) STATE_MGR: Waiting for TTS playback drain (~26810 bytes pending, timeout 5000 ms)[0m
[0;33mW (19967) TTS: Failed to queue EOS sentinel (queue depth=10)[0m
[0;33mW (24932) STATE_MGR: TTS playback drain timed out; proceeding with shutdown[0m
[0;32mI (24932) TTS: Stopping TTS decoder...[0m
[0;32mI (24933) TTS: Playback stop signal received[0m
[0;32mI (24939) AUDIO: I2S TX sample rate updated to 16000 Hz[0m
[0;32mI (25237) TTS: ğŸ”” Playback completion feedback dispatched (total bytes: 153694)[0m
[0;32mI (25237) TTS: TTS playback task stopped[0m
[0;32mI (25243) TTS: TTS decoder stopped (played 153694 bytes)[0m
[0;32mI (25462) STATE_MGR: ğŸ”” Recording stop feedback dispatched[0m
[0;32mI (25562) STATE_MGR: Acquiring I2S mutex...[0m
[0;32mI (25562) STATE_MGR: Deinitializing audio drivers...[0m
[0;32mI (25562) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (25580) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (25587) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (25605) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (25612) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (25618) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (25624) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (25630) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (25686) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (25687) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (25687) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (25692) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (25697) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (25755) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (25762) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (25769) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (25774) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (25792) STATE_MGR: Initializing camera...[0m
[0;32mI (25796) CAMERA: Initializing camera...[0m
[0;32mI (25801) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2 [0m
[0;31mE (25811) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (25819) cam_hal: cam init ok[0m
[0;33mW (25823) ledc: GPIO 0 is not usable, maybe conflict with others[0m
[0;32mI (25829) sccb-ng: pin_sda 26 pin_scl 27[0m
[0;32mI (25834) sccb-ng: sccb_i2c_port=1[0m
[0;32mI (25839) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (25881) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2[0m
[0;32mI (25881) camera: Detected OV2640 camera[0m
[0;32mI (25881) camera: Detected camera at address=0x30[0m
[0;32mI (25962) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (25962) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15[0m
[0;32mI (25967) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (25974) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (25980) cam_hal: cam config ok[0m
[0;32mI (25984) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8[0m
[0;32mI (26066) CAMERA: Camera initialized successfully[0m
[0;32mI (26066) STATE_MGR: I2S mutex released[0m
[0;32mI (26066) STATE_MGR: âœ… Camera mode transition complete[0m
[0;32mI (26071) STATE_MGR: âœ… Entered CAMERA_STANDBY state[0m
ğŸ“· Image capture triggered!
[0;32mI (32299) STATE_MGR: Button event received: 2 in state CAMERA_STANDBY[0m
[0;32mI (32300) SERIAL_CMD: Simulated DOUBLE CLICK - Camera capture[0m
[0;32mI (32300) STATE_MGR: Double-click detected - triggering camera capture[0m
[0;32mI (32312) LED_CTRL: LED state changed: 1 -> 2[0m
[0;32mI (32317) STATE_MGR: Starting camera capture sequence[0m
[0;32mI (32323) STATE_MGR: Acquiring I2S mutex for camera capture...[0m
[0;32mI (32329) STATE_MGR: Capturing frame...[0m
[0;32mI (32334) STATE_MGR: Frame captured: 7498 bytes[0m
[0;32mI (32339) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32357) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (32364) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32382) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32400) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (32407) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32425) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (32430) AUDIO:   Free heap: 4091648 bytes[0m
[0;32mI (32434) AUDIO:   Free internal RAM: 124783 bytes[0m
[0;32mI (32440) AUDIO:   Free DMA-capable: 105171 bytes[0m
[0;32mI (32445) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (32450) AUDIO:   Timestamp: 30929 ms[0m
[0;32mI (32455) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (32462) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (32469) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (32477) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (32484) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (32489) AUDIO:   TX handle: 0x3ffdfc04 | RX handle: 0x3ffdfda8[0m
[0;32mI (32496) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (32502) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (32507) AUDIO:   MCLK: DISABLED[0m
[0;32mI (32511) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (32516) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (32520) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (32527) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (32531) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (32538) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (32543) AUDIO:   MCLK: DISABLED[0m
[0;32mI (32547) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (32552) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (32556) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (32562) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (32568) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (32573) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (32579) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (32584) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (32590) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (32595) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (32651) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (32651) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (32652) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (32809) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (32809) AUDIO:   Free heap: 4082696 bytes[0m
[0;32mI (32810) AUDIO:   Free internal RAM: 103651 bytes[0m
[0;32mI (32813) AUDIO:   Free DMA-capable: 84039 bytes[0m
[0;32mI (32818) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (32823) AUDIO:   Timestamp: 31302 ms[0m
[0;32mI (32828) AUDIO:   Total init time: 201 ms[0m
[0;32mI (32833) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32851) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (32857) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (32862) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (32870) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (32877) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32895) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32913) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (32919) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (32926) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (32933) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (32939) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32987) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32994) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (33002) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33020) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (33027) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (33032) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (33039) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (33044) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (33101) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (33102) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (33102) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (33107) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (33112) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (33170) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33177) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (33184) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (33189) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33207) STATE_MGR: ğŸ”” Capture feedback dispatched[0m
[0;32mI (33213) JSON_PROTO: Generated session ID: hotpin-998C64-31[0m
[0;32mI (33219) STATE_MGR: Uploading image to server...[0m
[0;32mI (33224) HTTP_CLIENT: Uploading image: session=hotpin-998C64-31, size=7498 bytes[0m
[0;32mI (33234) HTTP_CLIENT: POST body assembled: 7755 bytes[0m
[0;32mI (33239) HTTP_CLIENT: Sending POST request to http://10.87.102.58:8000/image[0m
[0;32mI (33546) HTTP_CLIENT: HTTP POST Status = 200, content_length = 198[0m
[0;32mI (33546) HTTP_CLIENT: Image uploaded successfully[0m
[0;32mI (33547) HTTP_CLIENT: Server response: {"status":"success","message":"Image received successfully","session":"hotpin-998C64-31","filename":"image.jpg","size_bytes":7498,"saved_path":"captured_images/hotpin-998C64-31_20251011_210046.jpg"}[0m
[0;32mI (33571) STATE_MGR: Image uploaded successfully[0m
[0;32mI (33575) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33592) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (33600) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33618) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33636) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (33643) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (33661) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (33665) AUDIO:   Free heap: 4091420 bytes[0m
[0;32mI (33670) AUDIO:   Free internal RAM: 124555 bytes[0m
[0;32mI (33676) AUDIO:   Free DMA-capable: 104943 bytes[0m
[0;32mI (33681) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (33686) AUDIO:   Timestamp: 32165 ms[0m
[0;32mI (33690) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (33697) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (33705) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (33713) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (33719) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (33725) AUDIO:   TX handle: 0x3ffc0184 | RX handle: 0x3ffc0328[0m
[0;32mI (33731) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (33738) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (33743) AUDIO:   MCLK: DISABLED[0m
[0;32mI (33747) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (33751) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (33756) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (33763) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (33767) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (33774) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (33779) AUDIO:   MCLK: DISABLED[0m
[0;32mI (33783) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (33787) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (33792) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (33798) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (33803) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (33809) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (33814) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (33820) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (33825) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (33831) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (33886) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (33886) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (33887) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (34044) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (34044) AUDIO:   Free heap: 4082464 bytes[0m
[0;32mI (34045) AUDIO:   Free internal RAM: 103419 bytes[0m
[0;32mI (34048) AUDIO:   Free DMA-capable: 83807 bytes[0m
[0;32mI (34053) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (34058) AUDIO:   Timestamp: 32537 ms[0m
[0;32mI (34063) AUDIO:   Total init time: 201 ms[0m
[0;32mI (34068) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34086) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (34092) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (34097) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (34105) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (34112) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34130) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34148) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (34154) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (34161) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (34168) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (34174) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34222) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34229) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (34237) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34255) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (34262) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (34267) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (34274) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (34279) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (34336) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (34337) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (34337) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (34342) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (34347) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (34405) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34412) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (34419) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (34424) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34532) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34539) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (34546) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34564) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34582) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (34590) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34608) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (34612) AUDIO:   Free heap: 4091420 bytes[0m
[0;32mI (34617) AUDIO:   Free internal RAM: 124555 bytes[0m
[0;32mI (34622) AUDIO:   Free DMA-capable: 104943 bytes[0m
[0;32mI (34628) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (34633) AUDIO:   Timestamp: 33111 ms[0m
[0;32mI (34637) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (34644) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (34652) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (34660) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (34666) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (34672) AUDIO:   TX handle: 0x3ffc0184 | RX handle: 0x3ffc0328[0m
[0;32mI (34678) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (34685) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (34689) AUDIO:   MCLK: DISABLED[0m
[0;32mI (34693) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (34698) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (34703) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (34709) AUDIO: âœ… TX channel configured (took 0 ms)[0m
[0;32mI (34714) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (34721) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (34725) AUDIO:   MCLK: DISABLED[0m
[0;32mI (34729) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (34734) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (34739) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (34745) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (34750) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (34755) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (34761) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (34767) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (34772) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (34778) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (34833) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (34833) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (34833) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (34991) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (34991) AUDIO:   Free heap: 4082464 bytes[0m
[0;32mI (34992) AUDIO:   Free internal RAM: 103419 bytes[0m
[0;32mI (34995) AUDIO:   Free DMA-capable: 83807 bytes[0m
[0;32mI (35000) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (35005) AUDIO:   Timestamp: 33484 ms[0m
[0;32mI (35010) AUDIO:   Total init time: 200 ms[0m
[0;32mI (35015) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35033) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (35039) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (35044) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (35052) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (35059) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35077) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35095) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (35101) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (35108) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (35115) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (35121) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35169) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35176) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (35184) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35202) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (35209) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (35214) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (35221) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (35226) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (35283) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (35284) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (35284) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (35289) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (35294) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (35352) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35359) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (35366) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (35371) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35389) STATE_MGR: ğŸ”” Upload feedback dispatched[0m
[0;32mI (35394) STATE_MGR: Camera capture sequence complete[0m
[0;32mI (35400) LED_CTRL: LED state changed: 2 -> 2[0m
[0;32mI (35908) STATE_MGR: Button event received: 3 in state CAMERA_STANDBY[0m
[0;32mI (35908) BUTTON: Long press detected (3000 ms)[0m
[0;33mW (35908) STATE_MGR: Long press - shutdown requested[0m
[0;33mW (35915) STATE_MGR: Shutdown state reached[0m
[0;33mW (35919) STATE_MGR: === SYSTEM SHUTDOWN ===[0m
[0;32mI (35924) STATE_MGR: Stopping all subsystems...[0m
[0;32mI (35930) STATE_MGR: Shutting down camera...[0m
[0;32mI (35935) CAMERA: Deinitializing camera...[0m
[0;32mI (35940) CAMERA: Camera deinitialized[0m
[0;32mI (35943) STT: Stopping STT pipeline...[0m
[0;33mW (35948) STT: STT pipeline not running[0m
[0;32mI (35953) TTS: Stopping TTS decoder...[0m
[0;33mW (35957) TTS: TTS decoder not running[0m
[0;32mI (35962) STATE_MGR: Disconnecting WebSocket...[0m
[0;32mI (35967) WEBSOCKET: Disconnecting from WebSocket server...[0m
[0;33mW (35995) websocket_client: Client was not started[0m
[0;33mW (35996) WEBSOCKET: WebSocket client stop reported ESP_FAIL, continuing cleanup[0m
[0;32mI (35998) WEBSOCKET: WebSocket disconnected[0m
[0;32mI (36003) STATE_MGR: âœ… Shutdown complete[0m