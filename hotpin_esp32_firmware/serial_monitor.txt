PS F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware> idf.py fullclean build flash monitor
Executing action: fullclean
Executing action: remove_managed_components
Executing action: all (aliases: build)
Running cmake in directory 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware\build'
Executing "cmake -G Ninja -DPYTHON_DEPS_CHECKED=1 -DPYTHON=C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe -DESP_PLATFORM=1 -DCCACHE_ENABLE=1 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware'"...
-- IDF_TARGET is not set, guessed 'esp32' from sdkconfig 'F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig'
-- Found Git: C:/Espressif/tools/idf-git/2.44.0/cmd/git.exe (found version "2.44.0.windows.1")
-- ccache will be used for faster recompilation
-- The C compiler identification is GNU 14.2.0
-- The CXX compiler identification is GNU 14.2.0
-- The ASM compiler identification is GNU
-- Found assembler: C:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32-elf-gcc.exe
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: C:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32-elf-gcc.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: C:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32-elf-g++.exe - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Building ESP-IDF components for target esp32
NOTICE:
Following dependencies have new versions available:
Dependency "espressif/esp32-camera": "2.1.2" -> "2.1.3"
Consider running "idf.py update-dependencies" to update your lock file.
NOTICE: Processing 4 dependencies:
NOTICE: [1/4] espressif/esp32-camera (2.1.2)
NOTICE: [2/4] espressif/esp_jpeg (1.3.1)
NOTICE: [3/4] espressif/esp_websocket_client (1.5.0)
NOTICE: [4/4] idf (5.4.2)
-- Project sdkconfig file F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig
Loading defaults file F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults...
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:7 CONFIG_ESP32_DEFAULT_CPU_FREQ_240 was replaced with CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:8 CONFIG_ESP32_DEFAULT_CPU_FREQ_MHZ was replaced with CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:13 CONFIG_ESP32_SPIRAM_SUPPORT was replaced with CONFIG_SPIRAM
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:26 CONFIG_ESP32_WIFI_DYNAMIC_RX_BUFFER_NUM was replaced with CONFIG_ESP_WIFI_DYNAMIC_RX_BUFFER_NUM
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:27 CONFIG_ESP32_WIFI_DYNAMIC_TX_BUFFER_NUM was replaced with CONFIG_ESP_WIFI_DYNAMIC_TX_BUFFER_NUM
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:28 CONFIG_ESP32_WIFI_STATIC_RX_BUFFER_NUM was replaced with CONFIG_ESP_WIFI_STATIC_RX_BUFFER_NUM
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:29 CONFIG_ESP32_WIFI_STATIC_TX_BUFFER_NUM was replaced with CONFIG_ESP_WIFI_STATIC_TX_BUFFER_NUM
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:63 CONFIG_ESP32_WIFI_AMPDU_TX_ENABLED was replaced with CONFIG_ESP_WIFI_AMPDU_TX_ENABLED
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:64 CONFIG_ESP32_WIFI_AMPDU_RX_ENABLED was replaced with CONFIG_ESP_WIFI_AMPDU_RX_ENABLED
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:65 CONFIG_ESP32_WIFI_NVS_ENABLED was replaced with CONFIG_ESP_WIFI_NVS_ENABLED
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:70 CONFIG_ESP_TASK_WDT was replaced with CONFIG_ESP_TASK_WDT_INIT
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:77 CONFIG_ESP32_BROWNOUT_DET was replaced with CONFIG_ESP_BROWNOUT_DET
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults:103 CONFIG_COMPILER_OPTIMIZATION_LEVEL_RELEASE was replaced with CONFIG_COMPILER_OPTIMIZATION_SIZE
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:4 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:6 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:10 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:12 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:23 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:25 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:31 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:33 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:38 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:40 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:43 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:45 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:51 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:53 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:60 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:62 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:67 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:69 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:74 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:76 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:79 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:81 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:86 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:88 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:92 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:94 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:99 line was updated to # ===========================n
C:\Users\VIGHNE~1\AppData\Local\Temp\kconfgen_tmp2_884vft:101 line was updated to # ===========================n
warning: unknown kconfig symbol 'SPIRAM_SIZE' assigned to '4194304' in F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults
warning: unknown kconfig symbol 'SPIRAM_ALLOW_DMA' assigned to 'y' in F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults
warning: unknown kconfig symbol 'ENABLE_SDMMC_HOST' assigned to 'n' in F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults
warning: unknown kconfig symbol 'WS_TRANSPORT_MAX_MESSAGE_SIZE' assigned to '8192' in F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig.defaults
-- Compiler supported targets: xtensa-esp-elf
-- Found Python3: C:/Espressif/python_env/idf5.4_py3.11_env/Scripts/python.exe (found version "3.11.2") found components: Interpreter
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE
-- Performing Test C_COMPILER_SUPPORTS_WFORMAT_SIGNEDNESS
-- Performing Test C_COMPILER_SUPPORTS_WFORMAT_SIGNEDNESS - Success
-- USING O3
-- App "hotpin_esp32_firmware" version: 2379b40-dirty
-- Adding linker script F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/build/esp-idf/esp_system/ld/memory.ld
-- Adding linker script F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/build/esp-idf/esp_system/ld/sections.ld.in
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.api.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.libgcc.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.newlib-data.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.syscalls.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/soc/esp32/ld/esp32.peripherals.ld
-- Components: app_trace app_update bootloader bootloader_support bt cmock console cxx driver efuse esp-tls esp_adc esp_app_format esp_bootloader_format esp_coex esp_common esp_driver_ana_cmpr esp_driver_cam esp_driver_dac esp_driver_gpio esp_driver_gptimer esp_driver_i2c esp_driver_i2s esp_driver_isp esp_driver_jpeg esp_driver_ledc esp_driver_mcpwm esp_driver_parlio esp_driver_pcnt esp_driver_ppa esp_driver_rmt esp_driver_sdio esp_driver_sdm esp_driver_sdmmc esp_driver_sdspi esp_driver_spi esp_driver_touch_sens esp_driver_tsens esp_driver_uart esp_driver_usb_serial_jtag esp_eth esp_event esp_gdbstub esp_hid esp_http_client esp_http_server esp_https_ota esp_https_server esp_hw_support esp_lcd esp_local_ctrl esp_mm esp_netif esp_netif_stack esp_partition esp_phy esp_pm esp_psram esp_ringbuf esp_rom esp_security esp_system esp_timer esp_vfs_console esp_wifi espcoredump espressif__esp32-camera espressif__esp_jpeg espressif__esp_websocket_client esptool_py fatfs freertos hal heap http_parser idf_test ieee802154 json log lwip main mbedtls mqtt newlib nvs_flash nvs_sec_provider openthread partition_table perfmon protobuf-c protocomm pthread rt sdmmc soc spi_flash spiffs tcp_transport ulp unity usb vfs wear_levelling wifi_provisioning wpa_supplicant xtensa
-- Component paths: C:/Espressif/frameworks/esp-idf-v5.4.2/components/app_trace C:/Espressif/frameworks/esp-idf-v5.4.2/components/app_update C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader_support C:/Espressif/frameworks/esp-idf-v5.4.2/components/bt C:/Espressif/frameworks/esp-idf-v5.4.2/components/cmock C:/Espressif/frameworks/esp-idf-v5.4.2/components/console C:/Espressif/frameworks/esp-idf-v5.4.2/components/cxx C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver C:/Espressif/frameworks/esp-idf-v5.4.2/components/efuse C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp-tls C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_adc C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_app_format C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_bootloader_format C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_coex C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_common C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_ana_cmpr C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_cam C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_dac C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_gpio C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_gptimer C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_i2c C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_i2s C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_isp C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_jpeg C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_ledc C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_mcpwm C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_parlio C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_pcnt C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_ppa C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_rmt C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_sdio C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_sdm C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_sdmmc C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_sdspi C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_spi C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_touch_sens C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_tsens C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_uart C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_driver_usb_serial_jtag C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_eth C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_event C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_gdbstub C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hid C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_http_client C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_http_server C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_https_ota C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_https_server C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_lcd C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_local_ctrl C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_mm C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_netif C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_netif_stack C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_partition C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_phy C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_pm C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_psram C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_ringbuf C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_security C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_timer C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_vfs_console C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_wifi C:/Espressif/frameworks/esp-idf-v5.4.2/components/espcoredump F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/managed_components/espressif__esp32-camera F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/managed_components/espressif__esp_jpeg F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/managed_components/espressif__esp_websocket_client C:/Espressif/frameworks/esp-idf-v5.4.2/components/esptool_py C:/Espressif/frameworks/esp-idf-v5.4.2/components/fatfs C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos C:/Espressif/frameworks/esp-idf-v5.4.2/components/hal C:/Espressif/frameworks/esp-idf-v5.4.2/components/heap C:/Espressif/frameworks/esp-idf-v5.4.2/components/http_parser C:/Espressif/frameworks/esp-idf-v5.4.2/components/idf_test C:/Espressif/frameworks/esp-idf-v5.4.2/components/ieee802154 C:/Espressif/frameworks/esp-idf-v5.4.2/components/json C:/Espressif/frameworks/esp-idf-v5.4.2/components/log C:/Espressif/frameworks/esp-idf-v5.4.2/components/lwip F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main C:/Espressif/frameworks/esp-idf-v5.4.2/components/mbedtls C:/Espressif/frameworks/esp-idf-v5.4.2/components/mqtt C:/Espressif/frameworks/esp-idf-v5.4.2/components/newlib C:/Espressif/frameworks/esp-idf-v5.4.2/components/nvs_flash C:/Espressif/frameworks/esp-idf-v5.4.2/components/nvs_sec_provider C:/Espressif/frameworks/esp-idf-v5.4.2/components/openthread C:/Espressif/frameworks/esp-idf-v5.4.2/components/partition_table C:/Espressif/frameworks/esp-idf-v5.4.2/components/perfmon C:/Espressif/frameworks/esp-idf-v5.4.2/components/protobuf-c C:/Espressif/frameworks/esp-idf-v5.4.2/components/protocomm C:/Espressif/frameworks/esp-idf-v5.4.2/components/pthread C:/Espressif/frameworks/esp-idf-v5.4.2/components/rt C:/Espressif/frameworks/esp-idf-v5.4.2/components/sdmmc C:/Espressif/frameworks/esp-idf-v5.4.2/components/soc C:/Espressif/frameworks/esp-idf-v5.4.2/components/spi_flash C:/Espressif/frameworks/esp-idf-v5.4.2/components/spiffs C:/Espressif/frameworks/esp-idf-v5.4.2/components/tcp_transport C:/Espressif/frameworks/esp-idf-v5.4.2/components/ulp C:/Espressif/frameworks/esp-idf-v5.4.2/components/unity C:/Espressif/frameworks/esp-idf-v5.4.2/components/usb C:/Espressif/frameworks/esp-idf-v5.4.2/components/vfs C:/Espressif/frameworks/esp-idf-v5.4.2/components/wear_levelling C:/Espressif/frameworks/esp-idf-v5.4.2/components/wifi_provisioning C:/Espressif/frameworks/esp-idf-v5.4.2/components/wpa_supplicant C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa
-- Configuring done (20.9s)
-- Generating done (2.0s)
-- Build files have been written to: F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/build
Running ninja in directory 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware\build'
Executing "ninja all"...
[38/1050] Generating ../../partition_table/partition-table.bin
Partition table binary generated. Contents:
*******************************************************************************
# ESP-IDF Partition Table
# Name, Type, SubType, Offset, Size, Flags
nvs,data,nvs,0x9000,16K,
otadata,data,ota,0xd000,8K,
phy_init,data,phy,0xf000,4K,
factory,app,factory,0x10000,1536K,
storage,data,fat,0x190000,448K,
*******************************************************************************
[1009/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/button_handler.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/button_handler.c:7:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/button_handler.c:193:1: warning: ignoring attribute 'section (".iram1.1")' because it conflicts with previous 'section (".iram1.0")' [-Wattributes]
  193 | static void IRAM_ATTR button_isr_handler(void *arg) {
      | ^~~~~~
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/button_handler.c:44:23: note: previous declaration here
   44 | static void IRAM_ATTR button_isr_handler(void *arg);
      |                       ^~~~~~~~~~~~~~~~~~
[1010/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/camera_controller.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/camera_controller.c:7:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1011/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/feedback_player.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/feedback_player.c:8:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1012/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/audio_feedback.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/audio_feedback.c:8:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1013/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/audio_driver.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/audio_driver.c:1:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1014/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/websocket_client.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/websocket_client.c:15:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1016/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/tts_decoder.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/tts_decoder.c:13:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1017/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/stt_pipeline.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/stt_pipeline.c:1:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/stt_pipeline.c:790:15: warning: 'ring_buffer_available_space' defined but not used [-Wunused-function]
  790 | static size_t ring_buffer_available_space(void) {
      |               ^~~~~~~~~~~~~~~~~~~~~~~~~~~
[1018/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/http_client.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/http_client.c:7:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1020/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/json_protocol.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/json_protocol.c::
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1021/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/serial_commands.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/serial_commands.c:8:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1022/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/led_controller.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/led_controller.c:7:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1039/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/main.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/main.c:35:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
[1040/1050] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/state_manager.c.obj
In file included from C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:23,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/include/config.h:18,
                 from F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/state_manager.c:12:
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/adc.h:19:2: warning: #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively" [-Wcpp]
   19 | #warning "legacy adc driver is deprecated, please migrate to use esp_adc/adc_oneshot.h and esp_adc/adc_continuous.h for oneshot mode and continuous mode drivers respectively"
      |  ^~~~~~~
C:/Espressif/frameworks/esp-idf-v5.4.2/components/driver/deprecated/driver/i2s.h:27:2: warning: #warning "This set of I2S APIs has been deprecated, please include 'driver/i2s_std.h', 'driver/i2s_pdm.h' or 'driver/i2s_tdm.h' instead. if you want to keep using the old APIs and ignore this warning, you can enable 'Suppress legacy driver deprecated warning' option under 'I2S Configuration' menu in Kconfig" [-Wcpp]
   27 | #warning "This set of I2S APIs has been deprecated, \
      |  ^~~~~~~
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/state_manager.c:49:21: warning: 'tts_task_handle' defined but not used [-Wunused-variable]
   49 | static TaskHandle_t tts_task_handle = NULL;
      |                     ^~~~~~~~~~~~~~~
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/state_manager.c:48:21: warning: 'stt_task_handle' defined but not used [-Wunused-variable]
   48 | static TaskHandle_t stt_task_handle = NULL;
      |                     ^~~~~~~~~~~~~~~
F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/main/state_manager.c:47:21: warning: 'camera_task_handle' defined but not used [-Wunused-variable]
   47 | static TaskHandle_t camera_task_handle = NULL;
      |                     ^~~~~~~~~~~~~~~~~~
[1042/1050] Performing configure step for 'bootloader'
-- Found Git: C:/Espressif/tools/idf-git/2.44.0/cmd/git.exe (found version "2.44.0.windows.1")
-- The C compiler identification is GNU 14.2.0
-- The CXX compiler identification is GNU 14.2.0
-- The ASM compiler identification is GNU
-- Found assembler: C:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32-elf-gcc.exe
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: C:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32-elf-gcc.exe - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: C:/Espressif/tools/xtensa-esp-elf/esp-14.2.0_20241119/xtensa-esp-elf/bin/xtensa-esp32-elf-g++.exe - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Building ESP-IDF components for target esp32
-- Project sdkconfig file F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/sdkconfig
-- Compiler supported targets: xtensa-esp-elf
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/soc/esp32/ld/esp32.peripherals.ld
-- Bootloader project name: "bootloader" version: 1
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.api.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.libgcc.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom/esp32/ld/esp32.rom.newlib-funcs.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader/subproject/main/ld/esp32/bootloader.ld
-- Adding linker script C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader/subproject/main/ld/esp32/bootloader.rom.ld
-- Components: bootloader bootloader_support efuse esp_app_format esp_bootloader_format esp_common esp_hw_support esp_rom esp_security esp_system esptool_py freertos hal log main micro-ecc newlib partition_table soc spi_flash xtensa
-- Component paths: C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader_support C:/Espressif/frameworks/esp-idf-v5.4.2/components/efuse C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_app_format C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_bootloader_format C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_common C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_rom C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_security C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system C:/Espressif/frameworks/esp-idf-v5.4.2/components/esptool_py C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos C:/Espressif/frameworks/esp-idf-v5.4.2/components/hal C:/Espressif/frameworks/esp-idf-v5.4.2/components/log C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader/subproject/main C:/Espressif/frameworks/esp-idf-v5.4.2/components/bootloader/subproject/components/micro-ecc C:/Espressif/frameworks/esp-idf-v5.4.2/components/newlib C:/Espressif/frameworks/esp-idf-v5.4.2/components/partition_table C:/Espressif/frameworks/esp-idf-v5.4.2/components/soc C:/Espressif/frameworks/esp-idf-v5.4.2/components/spi_flash C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa
-- Configuring done (17.8s)
-- Generating done (0.3s)
-- Build files have been written to: F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/build/bootloader
[110/111] Generating binary image from built executable
esptool.py v4.8.1
Creating esp32 image...
Merged 2 ELF sections
Successfully created esp32 image.
Generated F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/build/bootloader/bootloader.bin
[111/111] C:\WINDOWS\system32\cmd.exe /C "cd /D "F:\Docum...p/hotpin_esp32_firmware/build/bootloader/bootloader.bin"
Bootloader binary size 0x6570 bytes. 0xa90 bytes (9%) free.
[1049/1050] Generating binary image from built executable
esptool.py v4.8.1
Creating esp32 image...
Merged 2 ELF sections
Successfully created esp32 image.
Generated F:/Documents/College/6th Semester/Project/ESP_Warp/hotpin_esp32_firmware/build/hotpin_esp32_firmware.bin
[1050/1050] C:\WINDOWS\system32\cmd.exe /C "cd /D "F:\Doc...p/hotpin_esp32_firmware/build/hotpin_esp32_firmware.bin"
hotpin_esp32_firmware.bin binary size 0x120ce0 bytes. Smallest app partition is 0x180000 bytes. 0x5f320 bytes (25%) free.
Executing action: flash
Serial port COM7
Connecting....
Detecting chip type... Unsupported detection protocol, switching and trying again...
Connecting...
Detecting chip type... ESP32
Running ninja in directory 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware\build'
Executing "ninja flash"...
[1/5] C:\WINDOWS\system32\cmd.exe /C "cd /D "F:\Documents...p/hotpin_esp32_firmware/build/hotpin_esp32_firmware.bin"
hotpin_esp32_firmware.bin binary size 0x120ce0 bytes. Smallest app partition is 0x180000 bytes. 0x5f320 bytes (25%) free.
[1/1] C:\WINDOWS\system32\cmd.exe /C "cd /D "F:\Documents...p/hotpin_esp32_firmware/build/bootloader/bootloader.bin"
Bootloader binary size 0x6570 bytes. 0xa90 bytes (9%) free.
[4/5] C:\WINDOWS\system32\cmd.exe /C "cd /D C:\Espressif\...p-idf-v5.4.2/components/esptool_py/run_serial_tool.cmake
esptool.py --chip esp32 -p COM7 -b 460800 --before=default_reset --after=hard_reset write_flash --flash_mode dio --flash_freq 40m --flash_size 2MB 0x1000 bootloader/bootloader.bin 0x10000 hotpin_esp32_firmware.bin 0x8000 partition_table/partition-table.bin 0xd000 ota_data_initial.bin
esptool.py v4.8.1
Serial port COM7
Connecting...
Chip is ESP32-D0WD-V3 (revision v3.1)
Features: WiFi, BT, Dual Core, 240MHz, VRef calibration in efuse, Coding Scheme None
Crystal is 40MHz
MAC: 80:f3:da:99:8c:64
Uploading stub...
Running stub...
Stub running...
Changing baud rate to 460800
Changed.
Configuring flash size...
Flash will be erased from 0x00001000 to 0x00007fff...
Flash will be erased from 0x00010000 to 0x00130fff...
Flash will be erased from 0x00008000 to 0x00008fff...
Flash will be erased from 0x0000d000 to 0x0000efff...
SHA digest in image updated
Compressed 25968 bytes to 16368...
Writing at 0x00001000... (100 %)
Wrote 25968 bytes (16368 compressed) at 0x00001000 in 0.8 seconds (effective 271.0 kbit/s)...
Hash of data verified.
Compressed 1182944 bytes to 700499...
Writing at 0x00010000... (2 %)
Writing at 0x000202cc... (4 %)
Writing at 0x0002fcd6... (6 %)
Writing at 0x00039790... (9 %)
Writing at 0x00042752... (11 %)
Writing at 0x000534f2... (13 %)
Writing at 0x000586bb... (16 %)
Writing at 0x0005df90... (18 %)
Writing at 0x00063809... (20 %)
Writing at 0x00069c10... (23 %)
Writing at 0x000701c9... (25 %)
Writing at 0x00075d74... (27 %)
Writing at 0x0007b8c1... (30 %)
Writing at 0x000812d2... (32 %)
Writing at 0x00086db7... (34 %)
Writing at 0x0008c152... (37 %)
Writing at 0x000918bf... (39 %)
Writing at 0x0009701c... (41 %)
Writing at 0x0009ccb7... (44 %)
Writing at 0x000a202e... (46 %)
Writing at 0x000a75a6... (48 %)
Writing at 0x000acdb2... (51 %)
Writing at 0x000b2ae5... (53 %)
Writing at 0x000b8367... (55 %)
Writing at 0x000bd965... (58 %)
Writing at 0x000c34ae... (60 %)
Writing at 0x000c9140... (62 %)
Writing at 0x000ce3e6... (65 %)
Writing at 0x000d39e2... (67 %)
Writing at 0x000d8fa4... (69 %)
Writing at 0x000de3a6... (72 %)
Writing at 0x000e3552... (74 %)
Writing at 0x000e87a4... (76 %)
Writing at 0x000ee09f... (79 %)
Writing at 0x000f3798... (81 %)
Writing at 0x000fb0da... (83 %)
Writing at 0x00104f64... (86 %)
Writing at 0x0010a8c2... (88 %)
Writing at 0x001167bd... (90 %)
Writing at 0x0011bf28... (93 %)
Writing at 0x001217e1... (95 %)
Writing at 0x001273d4... (97 %)
Writing at 0x0012c9e0... (100 %)
Wrote 1182944 bytes (700499 compressed) at 0x00010000 in 17.2 seconds (effective 550.0 kbit/s)...
Hash of data verified.
Compressed 3072 bytes to 137...
Writing at 0x00008000... (100 %)
Wrote 3072 bytes (137 compressed) at 0x00008000 in 0.1 seconds (effective 377.5 kbit/s)...
Hash of data verified.
Compressed 8192 bytes to 31...
Writing at 0x0000d000... (100 %)
Wrote 8192 bytes (31 compressed) at 0x0000d000 in 0.0 seconds (effective 1951.9 kbit/s)...
Hash of data verified.

Leaving...
Hard resetting via RTS pin...
Executing action: monitor
Running idf_monitor in directory 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware'
Executing "C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe C:\Espressif\frameworks\esp-idf-v5.4.2\tools/idf_monitor.py -p COM7 -b 115200 --toolchain-prefix xtensa-esp32-elf- --target esp32 --revision 0 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware\build\hotpin_esp32_firmware.elf' --force-color -m 'C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe' 'C:\Espressif\frameworks\esp-idf-v5.4.2\tools\idf.py'"...
--- Warning: GDB cannot open serial ports accessed as COMx
--- Using \\.\COM7 instead...
--- esp-idf-monitor 1.7.0 on \\.\COM7 115200
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H
I (13) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (13) boot: compile time Oct 12 2025 12:30:27
I (13) boot: Multicore bootloader
I (14) boot: chip revision: v3.1
I (17) boot.esp32: SPI Speed      : 40MHz
I (21) boot.esp32: SPI Mode       : DIO
I (24) boot.esp32: SPI Flash Size : 2MB
I (28) boot: Enabling RNG early entropy source...
I (32) boot: Partition Table:
I (35) boot: ## Label            Usage          Type ST Offset   Length
I (41) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (48) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (54) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (61) boot:  3 factory          factory app      00 00 00010000 00180000
I (67) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (74) boot: End of partition table
I (77) boot: Defaulting to factory image
I (81) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=372c4h (225988) map
I (165) esp_image: segment 1: paddr=000472ec vaddr=3ff80000 size=0001ch (    28) load
I (166) esp_image: segment 2: paddr=00047310 vaddr=3ffb0000 size=08d08h ( 36104) load
I (182) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=bc930h (772400) map
I (447) esp_image: segment 4: paddr=0010c958 vaddr=3ffb8d08 size=08fbch ( 36796) load
I (460) esp_image: segment 5: paddr=0011591c vaddr=40080000 size=1b394h (111508) load
I (520) boot: Loaded app from partition at offset 0x10000
I (520) boot: Disabling RNG early entropy source...
I (531) quad_psram: This chip is ESP32-D0WD
I (531) esp_psram: Found 4MB PSRAM device
I (531) esp_psram: Speed: 40MHz
I (534) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (542) cpu_start: Multicore app
I (1436) esp_psram: SPI SRAM memory test OK
I (1444) cpu_start: Pro cpu start user code
I (1444) cpu_start: cpu freq: 240000000 Hz
I (1444) app_init: Application information:
I (1447) app_init: Project name:     hotpin_esp32_firmware
I (1453) app_init: App version:      2379b40-dirty
I (1459) app_init: Compile time:     Oct 12 2025 12:30:05
I (1465) app_init: ELF file SHA256:  fa46c78f5...
I (1470) app_init: ESP-IDF:          v5.4.2-dirty
I (1476) efuse_init: Min chip rev:     v0.0
I (1480) efuse_init: Max chip rev:     v3.99
I (1485) efuse_init: Chip rev:         v3.1
I (1491) heap_init: Initializing. RAM available for dynamic allocation:
I (1498) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1504) heap_init: At 3FFC9320 len 00016CE0 (91 KiB): DRAM
I (1510) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1516) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1523) heap_init: At 4009B394 len 00004C6C (19 KiB): IRAM
I (1530) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1538) spi_flash: detected chip: generic
I (1542) spi_flash: flash io: dio
W (1546) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1560) main_task: Started on CPU0
I (1563) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1572) main_task: Calling app_main()
I (1576) HOTPIN_MAIN: ====================================
I (1582) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1588) HOTPIN_MAIN: ====================================
W (1594) HOTPIN_MAIN: Brownout detector disabled
I (1599) HOTPIN_MAIN: Validating PSRAM...
I (1604) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1610) HOTPIN_MAIN: PSRAM validation passed
I (1616) HOTPIN_MAIN: ====================================
I (1622) HOTPIN_MAIN: System Information:
I (1626) HOTPIN_MAIN: Chip: esp32
I (1630) HOTPIN_MAIN: Cores: 2
I (1634) HOTPIN_MAIN: Silicon revision: 301
I (1639) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1644) HOTPIN_MAIN: Flash: 2 MB external
I (1649) HOTPIN_MAIN: Free heap: 4365196 bytes
I (1654) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1659) HOTPIN_MAIN: ====================================
I (1665) HOTPIN_MAIN: Initializing NVS...
I (1694) HOTPIN_MAIN: NVS initialized successfully
I (1695) event_dispatcher: System event queue ready (16 entries)
I (1695) HOTPIN_MAIN: Synchronization primitives created
I (1701) HOTPIN_MAIN: Initializing WiFi...
I (1710) wifi:wifi driver task: 3ffd9f18, prio:23, stack:6656, core=0
I (1723) wifi:wifi firmware version: bea31f3
I (1723) wifi:wifi certification version: v7.0
I (1723) wifi:config NVS flash: enabled
I (1724) wifi:config nano formatting: disabled
I (1728) wifi:Init data frame dynamic rx buffer num: 32
I (1733) wifi:Init static rx mgmt buffer num: 5
I (1737) wifi:Init management short buffer num: 32
I (1742) wifi:Init dynamic tx buffer num: 32
I (1746) wifi:Init static rx buffer size: 1600
I (1750) wifi:Init static rx buffer num: 16
I (1754) wifi:Init dynamic rx buffer num: 32
I (1759) wifi_init: rx ba win: 6
I (1762) wifi_init: accept mbox: 6
I (1766) wifi_init: tcpip mbox: 32
I (1770) wifi_init: udp mbox: 6
I (1774) wifi_init: tcp mbox: 6
I (1778) wifi_init: tcp tx win: 5760
I (1782) wifi_init: tcp rx win: 5760
I (1786) wifi_init: tcp mss: 1440
I (1790) wifi_init: WiFi IRAM OP enabled
I (1795) wifi_init: WiFi RX IRAM OP enabled
I (1801) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (1871) wifi:mode : sta (80:f3:da:99:8c:64)
I (1871) wifi:enable tsf
I (1874) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (1875) HOTPIN_MAIN: Waiting for WiFi connection...
I (1875) HOTPIN_MAIN: WiFi station started, connecting...
I (1899) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (1901) wifi:state: init -> auth (0xb0)
I (1909) wifi:state: auth -> assoc (0x0)
I (1922) wifi:state: assoc -> run (0x10)
I (1943) wifi:connected with wifi, aid = 2, channel 6, BW20, bssid = 0e:01:0a:e2:46:8b
I (1944) wifi:security: WPA2-PSK, phy: bgn, rssi: -85
I (1948) wifi:pm start, type: 1

I (1948) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (1960) HOTPIN_MAIN: WiFi connected to AP
I (1988) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (1988) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (2999) esp_netif_handlers: sta ip: 172.24.158.214, mask: 255.255.255.0, gw: 172.24.158.191
I (3000) HOTPIN_MAIN:  Got IP address: 172.24.158.214
I (3004) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (6889) HOTPIN_MAIN: Initializing button handler...
I (6889) BUTTON: Initializing button handler on GPIO 4
I (6890) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (6899) BUTTON: Button FSM task started
W (6905) BUTTON: Button input low at init - waiting for release before enabling detection
I (6912) BUTTON: Button handler initialized successfully (initial level=0, primed=0)
I (6920) HOTPIN_MAIN: InI (6934) SERIAL_CMD: Serial command task started on Core 0

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

I (6958) SERIAL_CMD:  Serial command interface initialized
I (6964) HOTPIN_MAIN: Initializing LED controller...
I (6970) LED_CTRL: Initializing LED controller on GPIO 33
I (6977) LED_CTRL: LED controller ready
I (6981) LED_CTRL: LED pattern -> 2
I (6985) HOTPIN_MAIN: Initializing WebSocket client...
I (6990) WEBSOCKET: Initializing WebSocket client...
I (6996) WEBSOCKET: Server URI: ws://172.24.158.58:8000/ws
I (7003) WEBSOCKET: Authorization header configured
I (7009) WEBSOCKET:  WebSocket client initialized
I (7013) WEBSOCKET: Status callback registered
I (7019) HOTPIN_MAIN: WebSocket status callback registered
I (7025) HOTPIN_MAIN: Initializing HTTP client...
I (7030) HTTP_CLIENT: Initializing HTTP client
I (7035) HTTP_CLIENT: Authorization token configured
I (7041) HTTP_CLIENT: HTTP client initialized (server: http://172.24.158.58:8000)
I (7049) HOTPIN_MAIN: Initializing STT pipeline...
I (7055) STT: Initializing STT pipeline...
I (7059) STT: 
I (7078) STT:  STT Ring Buffer Allocation (PSRAM)
I (7083) STT: 
I (7101) STT: [MEMORY] Pre-allocation state:
I (7106) STT:   Free internal RAM: 145523 bytes
I (7112) STT:   Free DMA-capable: 126695 bytes
I (7117) STT:   Free PSRAM: 4189764 bytes
I (7121) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7129) STT:    Ring buffer allocated at 0x3f8011c0 (PSRAM address)
I (7136) STT:    Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7145) STT: [MEMORY] Post-allocation state:
I (7150) STT:   Free internal RAM: 145523 bytes
I (7155) STT:   Free DMA-capable: 126695 bytes
I (7160) STT:   Free PSRAM: 4124224 bytes
I (7172) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7173) STT: Persistent audio streaming task started on Core 0
I (7180) STT:    Stream buffer allocated at 0x3ffd3904
I (7186) STT:  STT pipeline initialized
I (7191) HOTPIN_MAIN: Initializing TTS decoder...
I (7196) TTS: Initializing TTS decoder...
I (7201) WEBSOCKET: Audio callback registered
I (7206) TTS:  TTS decoder initialized
I (7210) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7218) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7224) HOTPIN_MAIN: State manager task created on Core 1
I (7224) STATE_MGR: State manager task started on Core 1
I (7230) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7236) STATE_MGR: Priority: 10
I (7243) HOTPIN_MAIN:  Attempting WebSocket connection (attempt 1)...
I (7247) STATE_MGR: Starting in camera mode...
I (7254) WEBSOCKET: Connecting to WebSocket server...
I (7259) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7270) STATE_MGR: Acquiring I2S mutex...
I (7273) websocket_client: Started
I (7275) STATE_MGR: Audio drivers already inactive; skipping deinit
I (7279) WEBSOCKET: WebSocket client started
I (7286) STATE_MGR: Initializing camera...
I (7230) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7296) CAMERA: Initializing camera...
I (7307) CAMERA: GPIO ISR service already active (shared)
I (7303) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...
I (7314) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
I (7321) HOTPIN_MAIN: State manager task added to watchdog
E (7330) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (7336) HOTPIN_MAIN: ====================================
I (7344) cam_hal: cam init ok
I (7350) HOTPIN_MAIN: System initialization complete!
I (7354) sccb-ng: pin_sda 26 pin_scl 27
I (7359) HOTPIN_MAIN: Entering camera standby mode...
I (7370) wifi:I (7364) sccb-ng: sccb_i2c_port=1
<ba-add>idx:0 (ifx:0, 0e:01:0a:e2:46:8b), tid:0, ssn:3, winSize:64
I (7376) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (7370) HOTPIN_MAIN: ====================================
I (7419) WEBSOCKET:  WebSocket connected to server
I (7420) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (7425) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (7426) WEBSOCKET: Handshake sent successfully
I (7428) camera: Detected OV2640 camera
I (7433) HOTPIN_MAIN:  WebSocket status callback: CONNECTED
I (7438) camera: Detected camera at address=0x30
I (7491) HOTPIN_MAIN:  WebSocket connection active - monitoring link
I (7498) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (7499) WEBSOCKET: Server status: connected
I (7528) cam_hal: PSRAM DMA mode disabled
I (7528) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (7533) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7539) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7546) cam_hal: cam config ok
I (7550) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (7632) CAMERA: Camera initialized successfully
I (7632) STATE_MGR: I2S mutex released
I (7632) STATE_MGR:  Camera mode transition complete
I (7632) AUDIO: 
I (7637) STATE_MGR:  Entered CAMERA_STANDBY state
I (7655) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (7660) LED_CTRL: LED pattern -> 3
I (7667) AUDIO: 
I (7682) STATE_MGR: WebSocket connected
I (7689) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (7701) AUDIO:    I2S access mutex created successfully
I (7707) AUDIO: 
I (7725) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (7732) AUDIO: 
I (7750) AUDIO: [DIAG] Pre-init state:
I (7755) AUDIO:   Free heap: 4050068 bytes
I (7759) AUDIO:   Free internal RAM: 69131 bytes
I (7765) AUDIO:   Free DMA-capable: 50303 bytes
I (7770) AUDIO:   Free PSRAM: 3999772 bytes
I (7775) AUDIO:   Timestamp: 6246 ms
I (7779) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (7786) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (7794) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (7802) AUDIO:   DMA frame num (per desc): 1020
I (7807) AUDIO:   DMA total samples (effective): 4080
I (7813) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (7820) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (7827) AUDIO:  I2S channels created (took 0 ms)
I (7832) AUDIO:   TX handle: 0x3ffe3a78 | RX handle: 0x3ffe3c28
I (7838) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (7845) AUDIO:   Sample rate: 16000 Hz
I (7849) AUDIO:   MCLK: DISABLED
I (7853) AUDIO:   BCLK: GPIO14 (shared)
I (7858) AUDIO:   WS:   GPIO15 (shared)
I (7862) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (7869) AUDIO:  TX channel configured (took 1 ms)
I (7873) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (7880) AUDIO:   Sample rate: 16000 Hz
I (7885) AUDIO:   MCLK: DISABLED
I (7888) AUDIO:   BCLK: GPIO14 (shared)
I (7893) AUDIO:   WS:   GPIO15 (shared)
I (7898) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (7904) AUDIO:  RX channel configured (took 0 ms)
I (7909) AUDIO: [STEP 4/6] Enabling TX channel...
I (7914) AUDIO:  TX channel enabled (took 0 ms)
I (7920) AUDIO: [STEP 5/6] Enabling RX channel...
I (7925) AUDIO:  RX channel enabled (took 0 ms)
I (7930) AUDIO: [STEP 6/6] Hardware stabilization...
I (7936) AUDIO:   Phase 1: Initial settle (50ms)
I (7991) AUDIO:   Phase 2: DMA verification
I (7991) AUDIO:    DMA TX operational (128 bytes)
I (7991) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8147) AUDIO: [DIAG] Post-init state:
I (8147) AUDIO:   Free heap: 4024084 bytes
I (8147) AUDIO:   Free internal RAM: 43147 bytes
I (8150) AUDIO:   Free DMA-capable: 24319 bytes
I (8155) AUDIO:   Free PSRAM: 3999772 bytes
I (8160) AUDIO:   Timestamp: 6631 ms
I (8165) AUDIO:   Total init time: 201 ms
I (8169) AUDIO: 
I (8187) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (8193) AUDIO:  Driver: i2s_std (NOT legacy!)
I (8199) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8207) AUDIO:  This should eliminate LoadStoreError crashes!
I (8214) AUDIO: 
I (8232) AUDIO: 
I (8250) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (8256) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (8262) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8269) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8275) AUDIO: 
I (9562) AUDIO: 
I (9569) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (9576) AUDIO: 
I (9594) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (9601) AUDIO:  RX channel disabled (took 0 ms)
I (9606) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (9613) AUDIO:  TX channel disabled (took 0 ms)
I (9618) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (9675) AUDIO: [STEP 4/5] Deleting RX channel...
I (9675) AUDIO:  RX channel deleted (took 0 ms)
I (9675) AUDIO: [STEP 5/5] Deleting TX channel...
I (9680) AUDIO:  TX channel deleted (took 0 ms)
I (9685) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (9743) AUDIO: 
I (9749) AUDIO:   Modern I2S STD Driver Deinitialized
I (9756) AUDIO:  Camera Can Now Initialize
I (9761) AUDIO: 
I (9779) HOTPIN_MAIN: Main task exiting - system running
I (9785) main_task: Returned from app_main()
 Voice mode STARTED (recording...)
I (13988) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (13988) SERIAL_CMD: Simulated SHORT PRESS - Voice START
I (13988) STATE_MGR: Single click - mode toggle requested
I (14000) STATE_MGR: Switching: Camera  Voice (count: 1)
I (14006) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (14012) STATE_MGR: Stopping camera...
I (14016) STATE_MGR: 
I (14032) STATE_MGR:  STEP 2: Acquiring I2S configuration mutex
I (14039) STATE_MGR: 
I (14055) STATE_MGR:   Timeout: 5000 ms
I (14060) STATE_MGR:   Timestamp: 12531 ms
I (14065) STATE_MGR:    Mutex acquired (took 0 ms)
I (14071) STATE_MGR: 
I (14087) STATE_MGR:  STEP 3: Deinitializing camera hardware
I (14093) STATE_MGR: 
I (14110) STATE_MGR:   Free heap before: 4054864 bytes
I (14115) STATE_MGR:   Free PSRAM before: 3999772 bytes
I (14121) CAMERA: Deinitializing camera...
I (14127) CAMERA: Camera deinitialized
I (14131) STATE_MGR:    Camera deinitialized (took 9 ms)
I (14137) STATE_MGR:   Free heap after: 4217272 bytes
I (14142) STATE_MGR:   Free PSRAM after: 4124088 bytes
I (14148) STATE_MGR: 
I (14165) STATE_MGR:  HARDWARE STABILIZATION - CRITICAL
I (14171) STATE_MGR: 
I (14187) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (14295) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (14395) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (14445) STATE_MGR:    Total stabilization: 250ms
I (14445) STATE_MGR:   Timestamp: 12916 ms
I (14445) STATE_MGR: 
I (14461) STATE_MGR:  STEP 4: Initializing I2S audio drivers
I (14468) STATE_MGR: 
I (14484) STATE_MGR:   Free heap before: 4217272 bytes
I (14490) AUDIO: 
I (14508) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (14515) AUDIO: 
I (14533) AUDIO: 
I (14551) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (14558) AUDIO: 
I (14576) AUDIO: [DIAG] Pre-init state:
I (14580) AUDIO:   Free heap: 4217272 bytes
I (14585) AUDIO:   Free internal RAM: 112019 bytes
I (14591) AUDIO:   Free DMA-capable: 93191 bytes
I (14596) AUDIO:   Free PSRAM: 4124088 bytes
I (14601) AUDIO:   Timestamp: 13072 ms
I (14605) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (14612) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (14620) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (14628) AUDIO:   DMA frame num (per desc): 1020
I (14634) AUDIO:   DMA total samples (effective): 4080
I (14640) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (14647) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (14653) AUDIO:  I2S channels created (took 0 ms)
I (14658) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca690
I (14665) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (14672) AUDIO:   Sample rate: 16000 Hz
I (14676) AUDIO:   MCLK: DISABLED
I (14680) AUDIO:   BCLK: GPIO14 (shared)
I (14685) AUDIO:   WS:   GPIO15 (shared)
I (14690) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (14696) AUDIO:  TX channel configured (took 1 ms)
I (14701) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (14708) AUDIO:   Sample rate: 16000 Hz
I (14712) AUDIO:   MCLK: DISABLED
I (14716) AUDIO:   BCLK: GPIO14 (shared)
I (14721) AUDIO:   WS:   GPIO15 (shared)
I (14726) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (14732) AUDIO:  RX channel configured (took 0 ms)
I (14737) AUDIO: [STEP 4/6] Enabling TX channel...
I (14743) AUDIO:  TX channel enabled (took 0 ms)
I (14748) AUDIO: [STEP 5/6] Enabling RX channel...
I (14754) AUDIO:  RX channel enabled (took 0 ms)
I (14759) AUDIO: [STEP 6/6] Hardware stabilization...
I (14765) AUDIO:   Phase 1: Initial settle (50ms)
I (14820) AUDIO:   Phase 2: DMA verification
I (14820) AUDIO:    DMA TX operational (128 bytes)
I (14821) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (14977) AUDIO: [DIAG] Post-init state:
I (14977) AUDIO:   Free heap: 4191296 bytes
I (14977) AUDIO:   Free internal RAM: 86043 bytes
I (14981) AUDIO:   Free DMA-capable: 67215 bytes
I (14986) AUDIO:   Free PSRAM: 4124088 bytes
I (14991) AUDIO:   Timestamp: 13462 ms
I (14996) AUDIO:   Total init time: 201 ms
I (15000) AUDIO: 
I (15018) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (15025) AUDIO:  Driver: i2s_std (NOT legacy!)
I (15030) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (15039) AUDIO:  This should eliminate LoadStoreError crashes!
I (15045) AUDIO: 
I (15063) AUDIO: 
I (15081) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (15088) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (15094) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (15101) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (15107) AUDIO: 
I (15125) STATE_MGR:    Audio initialized (took 635 ms)
I (15131) STATE_MGR:   Free heap after: 4191296 bytes
I (15137) STATE_MGR: 
I (15153) STATE_MGR:  STEP 5: I2S mutex released
I (15159) STATE_MGR:  Total transition time: 894 ms
I (15165) STATE_MGR: 
I (15181) STATE_MGR: 
I (15197) STATE_MGR:  STEP 6: Starting STT/TTS pipelines
I (15204) STATE_MGR: 
I (15220) STT: Starting STT pipeline...
I (15224) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (15234) STT:  STT pipeline started
I (15233) STT: 
I (15238) TTS: Starting TTS decoder...
I (15234) STT: Audio streaming session activated
I (15259) TTS: Initializing TTS decoder...
I (15254) STT:  Audio Capture Task Started on Core 0
W (15269) TTS: TTS decoder already initialized
I (15264) STT: Starting audio streaming to server...
I (15280) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)
I (15295) TTS:  TTS decoder started
I (15275) STT: 
I (15316) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (15323) STT:   Current time: 13793 ms
I (15327) STT:   Free heap: 4182384 bytes
I (15296) TTS: TTS playback task started on Core 0
I (15532) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (15532) STT:    Audio driver initialized
I (15533) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (15575) LED_CTRL: LED pattern -> 1
I (15575) STATE_MGR:  Voice mode transition complete
I (15576) STATE_MGR:  Entered VOICE_ACTIVE state
I (15590) STATE_MGR: STT pipeline reported start
I (15600) STATE_MGR: TTS playback start event received
I (15640) STT:   Total stabilization: 300ms
I (15640) STT:   Timestamp: 14110 ms
I (15640) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (15644) STT:    DMA-capable buffer allocated at 0x3ffff83c
I (15651) STT: 
I (15667) STT:   STARTING AUDIO CAPTURE
I (15672) STT:  Chunk size: 1024 bytes | Timeout: 100 ms
I (15678) STT: 
I (15695) STT: [FIRST READ] Completed:
I (15699) STT:   Result: ESP_OK
I (15703) STT:   Bytes read: 1024 / 1024
I (15707) STT:   Duration: 0 ms
I (15711) STT:   Timestamp: 14165 ms
I (15716) STT:   First 16 bytes: 9b ff bb ff 5c fe 9b ff b3 fe 5c fe a3 fd b3 fe
I (15838) STT: [CAPTURE] Read #10: 1024 bytes (total: 10240 bytes, 10.0 KB)
I (15839) STT:   Avg read time: 63 ms | Errors: 0
I (16156) STT: [CAPTURE] Read #20: 1024 bytes (total: 20480 bytes, 20.0 KB)
I (16157) STT:   Avg read time: 63 ms | Errors: 0
I (16475) STT: [CAPTURE] Read #30: 1024 bytes (total: 30720 bytes, 30.0 KB)
I (16476) STT:   Avg read time: 63 ms | Errors: 0
I (16794) STT: [CAPTURE] Read #40: 1024 bytes (total: 40960 bytes, 40.0 KB)
I (16795) STT:   Avg read time: 63 ms | Errors: 0
I (17112) STT: [CAPTURE] Read #50: 1024 bytes (total: 51200 bytes, 50.0 KB)
I (17114) STT:   Avg read time: 63 ms | Errors: 0
I (17431) STT: [CAPTURE] Read #60: 1024 bytes (total: 61440 bytes, 60.0 KB)
I (17432) STT:   Avg read time: 63 ms | Errors: 0
I (17750) STT: [CAPTURE] Read #70: 1024 bytes (total: 71680 bytes, 70.0 KB)
I (17751) STT:   Avg read time: 63 ms | Errors: 0
 Voice mode STOPPED
I (17921) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (17921) SERIAL_CMD: Simulated SHORT PRESS - Voice STOP
W (17921) STATE_MGR: Guardrail soft override: stopping voice pipeline while busy
I (17933) STATE_MGR: Single click - mode toggle requested
I (17939) STATE_MGR: Switching: Voice  Camera (count: 2)
I (17945) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (17951) STATE_MGR: Stopping voice mode components...
I (17957) STT: Stopping STT pipeline...
I (18005) STT: Audio capture task stopped (captured 79872 bytes total)
I (18102) STT: Streaming task received stop signal
I (18102) STT: Sending EOS signal...
I (18103) WEBSOCKET: Sending EOS signal
W (18466) STT: Persistent streaming task still active after timeout
I (18466) STT: STT pipeline stopped
I (19967) STATE_MGR: Voice pipeline became idle at stage idle
I (19967) TTS: Stopping TTS decoder...
I (19968) TTS: Playback stop signal received
I (19972) TTS: TTS playback task stopped
I (19978) TTS: TTS decoder stopped (played 0 bytes)
I (20082) STATE_MGR: Acquiring I2S mutex...
I (20082) STATE_MGR: Deinitializing audio drivers...
I (20082) AUDIO: 
I (20100) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (20107) AUDIO: 
I (20125) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (20132) AUDIO:  RX channel disabled (took 0 ms)
I (20138) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (20144) AUDIO:  TX channel disabled (took 0 ms)
I (20150) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (20206) AUDIO: [STEP 4/5] Deleting RX channel...
I (20207) AUDIO:  RX channel deleted (took 0 ms)
I (20207) AUDIO: [STEP 5/5] Deleting TX channel...
I (20212) AUDIO:  TX channel deleted (took 0 ms)
I (20217) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (20275) AUDIO: 
I (20282) AUDIO:   Modern I2S STD Driver Deinitialized
I (20289) AUDIO:  Camera Can Now Initialize
I (20294) AUDIO: 
I (20312) STATE_MGR: Initializing camera...
I (20316) CAMERA: Initializing camera...
I (20321) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
E (20331) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (20339) cam_hal: cam init ok
W (20343) ledc: GPIO 0 is not usable, maybe conflict with others
I (20349) sccb-ng: pin_sda 26 pin_scl 27
I (20354) sccb-ng: sccb_i2c_port=1
I (20359) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (20401) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (20401) camera: Detected OV2640 camera
I (20401) camera: Detected camera at address=0x30
I (20482) cam_hal: PSRAM DMA mode disabled
I (20482) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (20486) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (20493) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (20500) cam_hal: cam config ok
I (20503) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (20530) STT: Audio streaming session complete (streamed 78848 bytes in 20 chunks)
I (20590) CAMERA: Camera initialized successfully
I (20591) STATE_MGR: I2S mutex released
I (20591) STATE_MGR:  Camera mode transition complete
I (20595) AUDIO: 
I (20613) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (20620) AUDIO: 
I (20638) AUDIO: 
I (20656) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (20664) AUDIO: 
I (20682) AUDIO: [DIAG] Pre-init state:
I (20686) AUDIO:   Free heap: 4051624 bytes
I (20691) AUDIO:   Free internal RAM: 70687 bytes
I (20696) AUDIO:   Free DMA-capable: 51859 bytes
I (20702) AUDIO:   Free PSRAM: 3999772 bytes
I (20707) AUDIO:   Timestamp: 19177 ms
I (20711) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (20718) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (20726) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (20734) AUDIO:   DMA frame num (per desc): 1020
I (20739) AUDIO:   DMA total samples (effective): 4080
I (20745) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (20752) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (20759) AUDIO:  I2S channels created (took 0 ms)
I (20764) AUDIO:   TX handle: 0x3ffd4d6c | RX handle: 0x3ffca7f4
I (20771) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (20777) AUDIO:   Sample rate: 16000 Hz
I (20782) AUDIO:   MCLK: DISABLED
I (20786) AUDIO:   BCLK: GPIO14 (shared)
I (20791) AUDIO:   WS:   GPIO15 (shared)
I (20795) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (20802) AUDIO:  TX channel configured (took 1 ms)
I (20807) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (20814) AUDIO:   Sample rate: 16000 Hz
I (20818) AUDIO:   MCLK: DISABLED
I (20822) AUDIO:   BCLK: GPIO14 (shared)
I (20827) AUDIO:   WS:   GPIO15 (shared)
I (20831) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (20838) AUDIO:  RX channel configured (took 0 ms)
I (20843) AUDIO: [STEP 4/6] Enabling TX channel...
I (20848) AUDIO:  TX channel enabled (took 0 ms)
I (20854) AUDIO: [STEP 5/6] Enabling RX channel...
I (20859) AUDIO:  RX channel enabled (took 0 ms)
I (20865) AUDIO: [STEP 6/6] Hardware stabilization...
I (20870) AUDIO:   Phase 1: Initial settle (50ms)
I (20926) AUDIO:   Phase 2: DMA verification
I (20926) AUDIO:    DMA TX operational (128 bytes)
I (20927) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (21041) WEBSOCKET: Received text message: {"status": "processing", "stage": "transcription"}
I (21042) WEBSOCKET: Server status: processing
I (21045) WEBSOCKET: Server stage: transcription
I (21050) WEBSOCKET: Pipeline stage changed: idle -> transcription
I (21083) AUDIO: [DIAG] Post-init state:
I (21083) AUDIO:   Free heap: 4028776 bytes
I (21084) AUDIO:   Free internal RAM: 47839 bytes
I (21087) AUDIO:   Free DMA-capable: 29011 bytes
I (21092) AUDIO:   Free PSRAM: 3999772 bytes
I (21097) AUDIO:   Timestamp: 19568 ms
I (21102) AUDIO:   Total init time: 201 ms
I (21107) AUDIO: 
I (21125) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (21131) AUDIO:  Driver: i2s_std (NOT legacy!)
I (21136) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (21145) AUDIO:  This should eliminate LoadStoreError crashes!
I (21152) AUDIO: 
I (21170) AUDIO: 
I (21187) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (21194) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (21200) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (21207) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (21213) AUDIO: 
I (21515) AUDIO: 
I (21522) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (21530) AUDIO: 
I (21548) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (21555) AUDIO:  RX channel disabled (took 0 ms)
I (21560) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (21567) AUDIO:  TX channel disabled (took 0 ms)
I (21572) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (21629) AUDIO: [STEP 4/5] Deleting RX channel...
I (21630) AUDIO:  RX channel deleted (took 0 ms)
I (21630) AUDIO: [STEP 5/5] Deleting TX channel...
I (21635) AUDIO:  TX channel deleted (took 0 ms)
I (21640) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (21657) WEBSOCKET: Received text message: {"status": "processing", "stage": "llm", "transcript": "hello"}
I (21659) WEBSOCKET: Server status: processing
I (21664) WEBSOCKET: Server stage: llm
I (21668) WEBSOCKET: Pipeline stage changed: transcription -> llm
I (21698) AUDIO: 
I (21705) AUDIO:   Modern I2S STD Driver Deinitialized
I (21712) AUDIO:  Camera Can Now Initialize
I (21717) AUDIO: 
I (21735) LED_CTRL: LED pattern -> 3
I (21739) STATE_MGR:  Entered CAMERA_STANDBY state
I (21755) STATE_MGR: TTS playback finished successfully
I (21765) STATE_MGR: STT pipeline reported stop
I (21775) STATE_MGR: Pipeline stage event: transcription
I (21785) STATE_MGR: Pipeline stage event: llm
I (22281) WEBSOCKET: Received text message: {"status": "processing", "stage": "tts", "response": "Hello! How can I help you today?"}
I (22283) WEBSOCKET: Server status: processing
I (22288) WEBSOCKET: Server stage: tts
I (22292) WEBSOCKET: Pipeline stage changed: llm -> tts
I (22298) STATE_MGR: Pipeline stage event: tts
I (22488) WEBSOCKET: Received binary audio data: 1436 bytes
W (22488) TTS: Decoder not running - dropping 1436-byte chunk
I (22494) WEBSOCKET: Received binary audio data: 2660 bytes
W (22496) TTS: Decoder not running - dropping 2660-byte chunk
I (22508) WEBSOCKET: Received binary audio data: 4096 bytes
W (22509) TTS: Decoder not running - dropping 4096-byte chunk
I (22520) WEBSOCKET: Received binary audio data: 3096 bytes
W (22521) TTS: Decoder not running - dropping 3096-byte chunk
I (22530) WEBSOCKET: Received binary audio data: 1000 bytes
W (22534) TTS: Decoder not running - dropping 1000-byte chunk
I (22545) WEBSOCKET: Received binary audio data: 4096 bytes
W (22547) TTS: Decoder not running - dropping 4096-byte chunk
I (22558) WEBSOCKET: Received binary audio data: 4096 bytes
W (22559) TTS: Decoder not running - dropping 4096-byte chunk
I (22571) WEBSOCKET: Received binary audio data: 4096 bytes
W (22572) TTS: Decoder not running - dropping 4096-byte chunk
I (22582) WEBSOCKET: Received binary audio data: 1096 bytes
W (22585) TTS: Decoder not running - dropping 1096-byte chunk
I (22594) WEBSOCKET: Received binary audio data: 3000 bytes
W (22597) TTS: Decoder not running - dropping 3000-byte chunk
I (22607) WEBSOCKET: Received binary audio data: 1316 bytes
W (22610) TTS: Decoder not running - dropping 1316-byte chunk
I (22649) WEBSOCKET: Received binary audio data: 1440 bytes
W (22649) TTS: Decoder not running - dropping 1440-byte chunk
I (22657) WEBSOCKET: Received binary audio data: 1340 bytes
W (22657) TTS: Decoder not running - dropping 1340-byte chunk
I (22668) WEBSOCKET: Received binary audio data: 2976 bytes
W (22669) TTS: Decoder not running - dropping 2976-byte chunk
I (22677) WEBSOCKET: Received binary audio data: 1120 bytes
W (22682) TTS: Decoder not running - dropping 1120-byte chunk
I (22692) WEBSOCKET: Received binary audio data: 4096 bytes
W (22695) TTS: Decoder not running - dropping 4096-byte chunk
I (22705) WEBSOCKET: Received binary audio data: 536 bytes
W (22707) TTS: Decoder not running - dropping 536-byte chunk
I (22886) WEBSOCKET: Received binary audio data: 2880 bytes
W (22887) TTS: Decoder not running - dropping 2880-byte chunk
I (22890) WEBSOCKET: Received binary audio data: 680 bytes
W (22895) TTS: Decoder not running - dropping 680-byte chunk
I (22905) WEBSOCKET: Received binary audio data: 756 bytes
W (22907) TTS: Decoder not running - dropping 756-byte chunk
I (23091) WEBSOCKET: Received binary audio data: 3340 bytes
W (23091) TTS: Decoder not running - dropping 3340-byte chunk
I (23096) WEBSOCKET: Received binary audio data: 2416 bytes
W (23099) TTS: Decoder not running - dropping 2416-byte chunk
I (23112) WEBSOCKET: Received binary audio data: 1680 bytes
W (23112) TTS: Decoder not running - dropping 1680-byte chunk
I (23123) WEBSOCKET: Received binary audio data: 4076 bytes
W (23124) TTS: Decoder not running - dropping 4076-byte chunk
I (23132) WEBSOCKET: Received binary audio data: 20 bytes
W (23137) TTS: Decoder not running - dropping 20-byte chunk
I (23147) WEBSOCKET: Received binary audio data: 4096 bytes
W (23149) TTS: Decoder not running - dropping 4096-byte chunk
I (23159) WEBSOCKET: Received binary audio data: 4096 bytes
W (23162) TTS: Decoder not running - dropping 4096-byte chunk
I (23173) WEBSOCKET: Received binary audio data: 4096 bytes
W (23174) TTS: Decoder not running - dropping 4096-byte chunk
I (23186) WEBSOCKET: Received binary audio data: 3516 bytes
W (23187) TTS: Decoder not running - dropping 3516-byte chunk
I (23195) WEBSOCKET: Received binary audio data: 580 bytes
W (23200) TTS: Decoder not running - dropping 580-byte chunk
I (23210) WEBSOCKET: Received binary audio data: 4096 bytes
W (23212) TTS: Decoder not running - dropping 4096-byte chunk
I (23223) WEBSOCKET: Received binary audio data: 3956 bytes
W (23225) TTS: Decoder not running - dropping 3956-byte chunk
I (23232) WEBSOCKET: Received binary audio data: 140 bytes
W (23238) TTS: Decoder not running - dropping 140-byte chunk
I (23248) WEBSOCKET: Received binary audio data: 4096 bytes
W (23250) TTS: Decoder not running - dropping 4096-byte chunk
I (23261) WEBSOCKET: Received binary audio data: 4096 bytes
W (23263) TTS: Decoder not running - dropping 4096-byte chunk
I (23275) WEBSOCKET: Received binary audio data: 4096 bytes
W (23275) TTS: Decoder not running - dropping 4096-byte chunk
I (23286) WEBSOCKET: Received binary audio data: 516 bytes
W (23288) TTS: Decoder not running - dropping 516-byte chunk
I (23297) WEBSOCKET: Received binary audio data: 3580 bytes
W (23301) TTS: Decoder not running - dropping 3580-byte chunk
I (23312) WEBSOCKET: Received binary audio data: 2176 bytes
W (23313) TTS: Decoder not running - dropping 2176-byte chunk
I (23321) WEBSOCKET: Received binary audio data: 1920 bytes
W (23326) TTS: Decoder not running - dropping 1920-byte chunk
I (23337) WEBSOCKET: Received binary audio data: 4096 bytes
W (23339) TTS: Decoder not running - dropping 4096-byte chunk
I (23349) WEBSOCKET: Received binary audio data: 1176 bytes
W (23351) TTS: Decoder not running - dropping 1176-byte chunk
I (23360) WEBSOCKET: Received binary audio data: 2920 bytes
W (23364) TTS: Decoder not running - dropping 2920-byte chunk
I (23373) WEBSOCKET: Received binary audio data: 976 bytes
W (23377) TTS: Decoder not running - dropping 976-byte chunk
I (23385) WEBSOCKET: Received text message: {"status": "complete"}
I (23390) WEBSOCKET: Server status: complete
I (23395) WEBSOCKET: Pipeline stage changed: tts -> complete
I (23401) STATE_MGR: Pipeline stage event: complete
 Voice mode STARTED (recording...)
I (28136) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (28136) SERIAL_CMD: Simulated SHORT PRESS - Voice START
I (28136) STATE_MGR: Single click - mode toggle requested
I (28148) STATE_MGR: Switching: Camera  Voice (count: 3)
I (28154) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (28159) STATE_MGR: Stopping camera...
I (28164) STATE_MGR: 
I (28180) STATE_MGR:  STEP 2: Acquiring I2S configuration mutex
I (28187) STATE_MGR: 
I (28203) STATE_MGR:   Timeout: 5000 ms
I (28208) STATE_MGR:   Timestamp: 26679 ms
I (28213) STATE_MGR:    Mutex acquired (took 0 ms)
I (28218) STATE_MGR: 
I (28235) STATE_MGR:  STEP 3: Deinitializing camera hardware
I (28241) STATE_MGR: 
I (28257) STATE_MGR:   Free heap before: 4054728 bytes
I (28263) STATE_MGR:   Free PSRAM before: 3999772 bytes
I (28269) CAMERA: Deinitializing camera...
I (28275) CAMERA: Camera deinitialized
I (28278) STATE_MGR:    Camera deinitialized (took 9 ms)
I (28285) STATE_MGR:   Free heap after: 4217112 bytes
I (28290) STATE_MGR:   Free PSRAM after: 4124088 bytes
I (28296) STATE_MGR: 
I (28312) STATE_MGR:  HARDWARE STABILIZATION - CRITICAL
I (28319) STATE_MGR: 
I (28335) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (28443) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (28543) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (28593) STATE_MGR:    Total stabilization: 250ms
I (28593) STATE_MGR:   Timestamp: 27064 ms
I (28593) STATE_MGR: 
I (28609) STATE_MGR:  STEP 4: Initializing I2S audio drivers
I (28616) STATE_MGR: 
I (28632) STATE_MGR:   Free heap before: 4217112 bytes
I (28638) AUDIO: 
I (28656) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (28663) AUDIO: 
I (28681) AUDIO: 
I (28699) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (28706) AUDIO: 
I (28724) AUDIO: [DIAG] Pre-init state:
I (28728) AUDIO:   Free heap: 4217112 bytes
I (28733) AUDIO:   Free internal RAM: 111859 bytes
I (28739) AUDIO:   Free DMA-capable: 93031 bytes
I (28744) AUDIO:   Free PSRAM: 4124088 bytes
I (28749) AUDIO:   Timestamp: 27220 ms
I (28753) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (28760) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (28768) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (28776) AUDIO:   DMA frame num (per desc): 1020
I (28782) AUDIO:   DMA total samples (effective): 4080
I (28788) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (28795) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (28801) AUDIO:  I2S channels created (took 0 ms)
I (28806) AUDIO:   TX handle: 0x3ffafc3c | RX handle: 0x3ffcb2ac
I (28813) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (28820) AUDIO:   Sample rate: 16000 Hz
I (28824) AUDIO:   MCLK: DISABLED
I (28828) AUDIO:   BCLK: GPIO14 (shared)
I (28833) AUDIO:   WS:   GPIO15 (shared)
I (28838) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (28844) AUDIO:  TX channel configured (took 1 ms)
I (28849) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (28856) AUDIO:   Sample rate: 16000 Hz
I (28860) AUDIO:   MCLK: DISABLED
I (28864) AUDIO:   BCLK: GPIO14 (shared)
I (28869) AUDIO:   WS:   GPIO15 (shared)
I (28874) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (28880) AUDIO:  RX channel configured (took 0 ms)
I (28885) AUDIO: [STEP 4/6] Enabling TX channel...
I (28891) AUDIO:  TX channel enabled (took 0 ms)
I (28896) AUDIO: [STEP 5/6] Enabling RX channel...
I (28902) AUDIO:  RX channel enabled (took 0 ms)
I (28907) AUDIO: [STEP 6/6] Hardware stabilization...
I (28913) AUDIO:   Phase 1: Initial settle (50ms)
I (28968) AUDIO:   Phase 2: DMA verification
I (28968) AUDIO:    DMA TX operational (128 bytes)
I (28968) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (29125) AUDIO: [DIAG] Post-init state:
I (29125) AUDIO:   Free heap: 4191140 bytes
I (29125) AUDIO:   Free internal RAM: 85887 bytes
I (29129) AUDIO:   Free DMA-capable: 67059 bytes
I (29134) AUDIO:   Free PSRAM: 4124088 bytes
I (29139) AUDIO:   Timestamp: 27610 ms
I (29144) AUDIO:   Total init time: 201 ms
I (29148) AUDIO: 
I (29166) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (29173) AUDIO:  Driver: i2s_std (NOT legacy!)
I (29178) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (29187) AUDIO:  This should eliminate LoadStoreError crashes!
I (29193) AUDIO: 
I (29211) AUDIO: 
I (29229) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (29236) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (29242) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (29249) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (29255) AUDIO: 
I (29273) STATE_MGR:    Audio initialized (took 635 ms)
I (29279) STATE_MGR:   Free heap after: 4191140 bytes
I (29285) STATE_MGR: 
I (29301) STATE_MGR:  STEP 5: I2S mutex released
I (29307) STATE_MGR:  Total transition time: 894 ms
I (29313) STATE_MGR: 
I (29329) STATE_MGR: 
I (29345) STATE_MGR:  STEP 6: Starting STT/TTS pipelines
I (29352) STATE_MGR: 
I (29368) STT: Starting STT pipeline...
I (29372) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (29382) STT:  STT pipeline started
I (29381) STT: 
I (29386) TTS: Starting TTS decoder...
I (29382) STT: Audio streaming session activated
I (29407) TTS: Initializing TTS decoder...
I (29402) STT:  Audio Capture Task Started on Core 0
W (29417) TTS: TTS decoder already initialized
I (29412) STT: Starting audio streaming to server...
I (29428) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)
I (29423) STT: 
I (29443) TTS:  TTS decoder started
I (29459) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (29471) STT:   Current time: 27941 ms
I (29475) STT:   Free heap: 4182228 bytes
I (29459) TTS: TTS playback task started on Core 0
I (29680) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (29680) STT:    Audio driver initialized
I (29681) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (29739) LED_CTRL: LED pattern -> 1
I (29739) STATE_MGR:  Voice mode transition complete
I (29740) STATE_MGR:  Entered VOICE_ACTIVE state
I (29754) STATE_MGR: STT pipeline reported start
I (29764) STATE_MGR: TTS playback start event received
I (29788) STT:   Total stabilization: 300ms
I (29788) STT:   Timestamp: 28258 ms
I (29788) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (29792) STT:    DMA-capable buffer allocated at 0x3ffff83c
I (29799) STT: 
I (29815) STT:   STARTING AUDIO CAPTURE
I (29820) STT:  Chunk size: 1024 bytes | Timeout: 100 ms
I (29826) STT: 
I (29843) STT: [FIRST READ] Completed:
I (29847) STT:   Result: ESP_OK
I (29851) STT:   Bytes read: 1024 / 1024
I (29855) STT:   Duration: 0 ms
I (29859) STT:   Timestamp: 28313 ms
I (29864) STT:   First 16 bytes: 70 00 1f 01 0f 00 70 00 b0 ff 0f 00 df fe b0 ff
I (29986) STT: [CAPTURE] Read #10: 1024 bytes (total: 10240 bytes, 10.0 KB)
I (29987) STT:   Avg read time: 63 ms | Errors: 0
E (30193) transport_ws: Error transport_poll_write
E (30194) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (30200) WEBSOCKET:  WebSocket error occurred
E (30205) HOTPIN_MAIN:  WebSocket status callback: ERROR
E (30213) transport_base: tcp_read error, errno=Socket is not connected
E (30214) STATE_MGR: WebSocket error signalled
E (30218) transport_ws: Error read data
I (30224) LED_CTRL: LED pattern -> 5
E (30228) websocket_client: esp_transport_read() failed with -2, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=128
E (30245) WEBSOCKET:  WebSocket error occurred
I (30219) websocket_client: Reconnect after 5000 ms
E (30250) STATE_MGR: WebSocket error signalled
E (30250) HOTPIN_MAIN:  WebSocket status callback: ERROR
W (30267) WEBSOCKET:  WebSocket disconnected
E (30267) websocket_client: Error receive data
W (30272) HOTPIN_MAIN:  WebSocket status callback: DISCONNECTED
W (30272) STATE_MGR: WebSocket disconnected
I (30285) websocket_client: Reconnect after 5000 ms
I (30289) LED_CTRL: LED pattern -> 4
W (30295) WEBSOCKET:  WebSocket disconnected
W (30305) HOTPIN_MAIN:  WebSocket status callback: DISCONNECTED
W (30309) STATE_MGR: WebSocket disconnected
E (30285) STT: WebSocket disconnected during streaming
I (30323) STT: Streaming task received stop signal
W (30328) STT: Audio streaming aborted due to transport errors
W (30335) STT: Skipping EOS - WebSocket disconnected
I (30340) STT: Audio streaming session complete (streamed 8192 bytes in 2 chunks)
I (30312) STT: [CAPTURE] Read #20: 1024 bytes (total: 20480 bytes, 20.0 KB)
I (30348) STATE_MGR: STT pipeline reported stop
I (30356) STT:   Avg read time: 65 ms | Errors: 0
I (30361) LED_CTRL: LED pattern -> 1
I (30367) STT: Audio capture task stopped (captured 20480 bytes total)
 Voice mode STOPPED
I (30659) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (30659) SERIAL_CMD: Simulated SHORT PRESS - Voice STOP
W (30660) STATE_MGR: Guardrail soft override: stopping voice pipeline while busy
I (30671) STATE_MGR: Single click - mode toggle requested
I (30677) STATE_MGR: Switching: Voice  Camera (count: 4)
I (30684) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (30689) STATE_MGR: Stopping voice mode components...
I (30695) STT: Stopping STT pipeline...
W (30700) STT: STT pipeline already stopped
W (31491) HOTPIN_MAIN: WebSocket link not healthy, restarting connection
I (31491) WEBSOCKET: Force stopping WebSocket client
E (31493) websocket_client: Websocket client is not connected
I (32205) STATE_MGR: Voice pipeline became idle at stage idle
I (32205) TTS: Stopping TTS decoder...
I (32206) TTS: Playback stop signal received
I (32210) TTS: TTS playback task stopped
I (32216) TTS: TTS decoder stopped (played 0 bytes)
I (32320) STATE_MGR: Acquiring I2S mutex...
I (32320) STATE_MGR: Deinitializing audio drivers...
I (32320) AUDIO: 
I (32338) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (32345) AUDIO: 
I (32363) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (32370) AUDIO:  RX channel disabled (took 0 ms)
I (32376) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (32382) AUDIO:  TX channel disabled (took 0 ms)
I (32388) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (32444) AUDIO: [STEP 4/5] Deleting RX channel...
I (32445) AUDIO:  RX channel deleted (took 0 ms)
I (32445) AUDIO: [STEP 5/5] Deleting TX channel...
I (32450) AUDIO:  TX channel deleted (took 0 ms)
I (32455) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (32513) AUDIO: 
I (32520) AUDIO:   Modern I2S STD Driver Deinitialized
I (32527) AUDIO:  Camera Can Now Initialize
I (32532) AUDIO: 
I (32550) STATE_MGR: Initializing camera...
I (32554) CAMERA: Initializing camera...
I (32559) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
E (32569) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (32577) cam_hal: cam init ok
W (32581) ledc: GPIO 0 is not usable, maybe conflict with others
I (32587) sccb-ng: pin_sda 26 pin_scl 27
I (32592) sccb-ng: sccb_i2c_port=1
I (32597) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (32639) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (32639) camera: Detected OV2640 camera
I (32639) camera: Detected camera at address=0x30
I (32720) cam_hal: PSRAM DMA mode disabled
I (32720) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (32725) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (32732) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (32738) cam_hal: cam config ok
I (32742) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (32824) CAMERA: Camera initialized successfully
I (32824) STATE_MGR: I2S mutex released
I (32825) STATE_MGR:  Camera mode transition complete
I (32829) AUDIO: 
I (32847) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (32854) AUDIO: 
I (32872) AUDIO: 
I (32890) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (32897) AUDIO: 
I (32915) AUDIO: [DIAG] Pre-init state:
I (32920) AUDIO:   Free heap: 4061480 bytes
I (32925) AUDIO:   Free internal RAM: 80535 bytes
I (32930) AUDIO:   Free DMA-capable: 61707 bytes
I (32935) AUDIO:   Free PSRAM: 3999908 bytes
I (32940) AUDIO:   Timestamp: 31411 ms
I (32945) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (32952) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (32960) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (32968) AUDIO:   DMA frame num (per desc): 1020
I (32973) AUDIO:   DMA total samples (effective): 4080
I (32979) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (32986) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (32993) AUDIO:  I2S channels created (took 0 ms)
I (32998) AUDIO:   TX handle: 0x3ffca690 | RX handle: 0x3ffca7d4
I (33005) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (33011) AUDIO:   Sample rate: 16000 Hz
I (33016) AUDIO:   MCLK: DISABLED
I (33020) AUDIO:   BCLK: GPIO14 (shared)
I (33024) AUDIO:   WS:   GPIO15 (shared)
I (33029) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (33036) AUDIO:  TX channel configured (took 1 ms)
I (33040) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (33047) AUDIO:   Sample rate: 16000 Hz
I (33052) AUDIO:   MCLK: DISABLED
I (33056) AUDIO:   BCLK: GPIO14 (shared)
I (33060) AUDIO:   WS:   GPIO15 (shared)
I (33065) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (33071) AUDIO:  RX channel configured (took 0 ms)
I (33076) AUDIO: [STEP 4/6] Enabling TX channel...
I (33082) AUDIO:  TX channel enabled (took 0 ms)
I (33087) AUDIO: [STEP 5/6] Enabling RX channel...
I (33093) AUDIO:  RX channel enabled (took 0 ms)
I (33099) AUDIO: [STEP 6/6] Hardware stabilization...
I (33104) AUDIO:   Phase 1: Initial settle (50ms)
I (33160) AUDIO:   Phase 2: DMA verification
I (33160) AUDIO:    DMA TX operational (128 bytes)
I (33160) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (33312) HOTPIN_MAIN:  Attempting WebSocket connection (attempt 2)...
I (33312) WEBSOCKET: Connecting to WebSocket server...
I (33316) websocket_client: Started
I (33319) WEBSOCKET: WebSocket client started
I (33317) AUDIO: [DIAG] Post-init state:
I (33328) AUDIO:   Free heap: 4028068 bytes
I (33333) AUDIO:   Free internal RAM: 47359 bytes
I (33339) AUDIO:   Free DMA-capable: 28531 bytes
I (33344) AUDIO:   Free PSRAM: 3999772 bytes
I (33349) AUDIO:   Timestamp: 31820 ms
I (33353) AUDIO:   Total init time: 201 ms
I (33358) AUDIO: 
I (33376) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (33382) AUDIO:  Driver: i2s_std (NOT legacy!)
I (33387) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (33396) AUDIO:  This should eliminate LoadStoreError crashes!
I (33403) AUDIO: 
I (33421) AUDIO: 
I (33439) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (33445) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (33452) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (33459) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (33465) AUDIO: 
I (33766) AUDIO: 
I (33773) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (33781) AUDIO: 
I (33799) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (33806) AUDIO:  RX channel disabled (took 0 ms)
I (33811) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (33818) AUDIO:  TX channel disabled (took 0 ms)
I (33823) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (33880) AUDIO: [STEP 4/5] Deleting RX channel...
I (33881) AUDIO:  RX channel deleted (took 0 ms)
I (33881) AUDIO: [STEP 5/5] Deleting TX channel...
I (33886) AUDIO:  TX channel deleted (took 0 ms)
I (33891) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (33945) WEBSOCKET:  WebSocket connected to server
I (33946) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (33951) AUDIO: 
I (33952) WEBSOCKET: Handshake sent successfully
I (33966) AUDIO:   Modern I2S STD Driver Deinitialized
I (33971) HOTPIN_MAIN:  WebSocket status callback: CONNECTED
I (33977) AUDIO:  Camera Can Now Initialize
I (33989) AUDIO: 
I (34007) LED_CTRL: LED pattern -> 3
I (34011) STATE_MGR:  Entered CAMERA_STANDBY state
I (34027) STATE_MGR: TTS playback finished successfully
I (34037) STATE_MGR: WebSocket connected
I (34124) HOTPIN_MAIN:  WebSocket connection active - monitoring link
I (34154) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (34155) WEBSOCKET: Server status: connected
 Image capture triggered!
I (35599) STATE_MGR: Button event received: 2 in state CAMERA_STANDBY
I (35599) SERIAL_CMD: Simulated DOUBLE CLICK - Camera capture
I (35600) STATE_MGR: Double-click detected - triggering capture sequence
I (35612) STATE_MGR: Starting camera capture sequence
I (35617) LED_CTRL: LED pattern -> 6
I (35622) AUDIO: 
I (35640) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (35647) AUDIO: 
I (35665) AUDIO: 
I (35683) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (35690) AUDIO: 
I (35708) AUDIO: [DIAG] Pre-init state:
I (35712) AUDIO:   Free heap: 4054364 bytes
I (35717) AUDIO:   Free internal RAM: 73459 bytes
I (35723) AUDIO:   Free DMA-capable: 54631 bytes
I (35728) AUDIO:   Free PSRAM: 3999772 bytes
I (35733) AUDIO:   Timestamp: 34204 ms
I (35737) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (35744) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (35752) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (35760) AUDIO:   DMA frame num (per desc): 1020
I (35766) AUDIO:   DMA total samples (effective): 4080
I (35771) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (35779) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (35785) AUDIO:  I2S channels created (took 0 ms)
I (35790) AUDIO:   TX handle: 0x3ffca690 | RX handle: 0x3ffca7d4
I (35797) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (35804) AUDIO:   Sample rate: 16000 Hz
I (35808) AUDIO:   MCLK: DISABLED
I (35812) AUDIO:   BCLK: GPIO14 (shared)
I (35817) AUDIO:   WS:   GPIO15 (shared)
I (35821) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (35828) AUDIO:  TX channel configured (took 1 ms)
I (35833) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (35840) AUDIO:   Sample rate: 16000 Hz
I (35844) AUDIO:   MCLK: DISABLED
I (35848) AUDIO:   BCLK: GPIO14 (shared)
I (35853) AUDIO:   WS:   GPIO15 (shared)
I (35858) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (35864) AUDIO:  RX channel configured (took 0 ms)
I (35869) AUDIO: [STEP 4/6] Enabling TX channel...
I (35874) AUDIO:  TX channel enabled (took 0 ms)
I (35880) AUDIO: [STEP 5/6] Enabling RX channel...
I (35885) AUDIO:  RX channel enabled (took 0 ms)
I (35891) AUDIO: [STEP 6/6] Hardware stabilization...
I (35897) AUDIO:   Phase 1: Initial settle (50ms)
I (35952) AUDIO:   Phase 2: DMA verification
I (35952) AUDIO:    DMA TX operational (128 bytes)
I (35952) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (36109) AUDIO: [DIAG] Post-init state:
I (36109) AUDIO:   Free heap: 4028384 bytes
I (36109) AUDIO:   Free internal RAM: 47479 bytes
I (36113) AUDIO:   Free DMA-capable: 28651 bytes
I (36118) AUDIO:   Free PSRAM: 3999772 bytes
I (36123) AUDIO:   Timestamp: 34594 ms
I (36128) AUDIO:   Total init time: 201 ms
I (36132) AUDIO: 
I (36150) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (36157) AUDIO:  Driver: i2s_std (NOT legacy!)
I (36162) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (36171) AUDIO:  This should eliminate LoadStoreError crashes!
I (36177) AUDIO: 
I (36195) AUDIO: 
I (36213) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (36220) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (36226) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (36233) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (36239) AUDIO: 
I (36589) AUDIO: 
I (36596) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (36604) AUDIO: 
I (36622) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (36629) AUDIO:  RX channel disabled (took 0 ms)
I (36634) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (36641) AUDIO:  TX channel disabled (took 0 ms)
I (36646) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (36703) AUDIO: [STEP 4/5] Deleting RX channel...
I (36704) AUDIO:  RX channel deleted (took 0 ms)
I (36704) AUDIO: [STEP 5/5] Deleting TX channel...
I (36709) AUDIO:  TX channel deleted (took 0 ms)
I (36714) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (36772) AUDIO: 
I (36779) AUDIO:   Modern I2S STD Driver Deinitialized
I (36786) AUDIO:  Camera Can Now Initialize
I (36791) AUDIO: 
I (36809) STATE_MGR: Capturing frame from camera
I (36814) STATE_MGR: Frame captured: 10175 bytes
I (36820) JSON_PROTO: Generated session ID: hotpin-998C64-35
I (36826) STATE_MGR: Uploading image using session hotpin-998C64-35
I (36833) HTTP_CLIENT: Uploading image: session=hotpin-998C64-35, size=10175 bytes
I (36842) HTTP_CLIENT: POST body assembled: 10432 bytes
I (36848) HTTP_CLIENT: Sending POST request to http://172.24.158.58:8000/image
I (37832) HTTP_CLIENT: HTTP POST Status = 200, content_length = 199
I (37833) HTTP_CLIENT: Image uploaded successfully
I (37834) HTTP_CLIENT: Server response: {"status":"success","message":"Image received successfully","session":"hotpin-998C64-35","filename":"image.jpg","size_bytes":10175,"saved_path":"captured_images/hotpin-998C64-35_20251012_123259.jpg"}
I (37857) STATE_MGR: Image uploaded successfully
I (37861) LED_CTRL: LED pattern -> 3
I (37865) STATE_MGR: Camera capture sequence complete
I (37881) STATE_MGR: Capture complete event: success=1 (ESP_OK)
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
load:0x40080404,len:3860
entry 0x4008063c
I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 12 2025 12:30:27
I (30) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=372c4h (225988) map
I (183) esp_image: segment 1: paddr=000472ec vaddr=3ff80000 size=0001ch (    28) load
I (183) esp_image: segment 2: paddr=00047310 vaddr=3ffb0000 size=08d08h ( 36104) load
I (200) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=bc930h (772400) map
I (464) esp_image: segment 4: paddr=0010c958 vaddr=3ffb8d08 size=08fbch ( 36796) load
I (477) esp_image: segment 5: paddr=0011591c vaddr=40080000 size=1b394h (111508) load
I (537) boot: Loaded app from partition at offset 0x10000
I (537) boot: Disabling RNG early entropy source...
I (548) quad_psram: This chip is ESP32-D0WD
I (548) esp_psram: Found 4MB PSRAM device
I (548) esp_psram: Speed: 40MHz
I (551) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (559) cpu_start: Multicore app
--- 0x40080400: _init at ??:?
I (1453) esp_psram: SPI SRAM memory test OK
I (1461) cpu_start: Pro cpu start user code
I (1461) cpu_start: cpu freq: 240000000 Hz
I (1461) app_init: Application information:
I (1464) app_init: Project name:     hotpin_esp32_firmware
I (1470) app_init: App version:      2379b40-dirty
I (1476) app_init: Compile time:     Oct 12 2025 12:30:05
I (1482) app_init: ELF file SHA256:  fa46c78f5...
I (1487) app_init: ESP-IDF:          v5.4.2-dirty
I (1493) efuse_init: Min chip rev:     v0.0
I (1498) efuse_init: Max chip rev:     v3.99
I (1503) efuse_init: Chip rev:         v3.1
I (1508) heap_init: Initializing. RAM available for dynamic allocation:
I (1515) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1521) heap_init: At 3FFC9320 len 00016CE0 (91 KiB): DRAM
I (1527) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1534) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1540) heap_init: At 4009B394 len 00004C6C (19 KiB): IRAM
I (1547) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1555) spi_flash: detected chip: generic
I (1559) spi_flash: flash io: dio
W (1563) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1577) main_task: Started on CPU0
I (1580) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1589) main_task: Calling app_main()
I (1593) HOTPIN_MAIN: ====================================
I (1599) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1605) HOTPIN_MAIN: ====================================
W (1611) HOTPIN_MAIN: Brownout detector disabled
I (1616) HOTPIN_MAIN: Validating PSRAM...
I (1621) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1627) HOTPIN_MAIN: PSRAM validation passed
I (1633) HOTPIN_MAIN: ====================================
I (1639) HOTPIN_MAIN: System Information:
I (1643) HOTPIN_MAIN: Chip: esp32
I (1647) HOTPIN_MAIN: Cores: 2
I (1651) HOTPIN_MAIN: Silicon revision: 301
I (1656) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1661) HOTPIN_MAIN: Flash: 2 MB external
I (1666) HOTPIN_MAIN: Free heap: 4365196 bytes
I (1671) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1676) HOTPIN_MAIN: ====================================
I (1682) HOTPIN_MAIN: Initializing NVS...
I (1711) HOTPIN_MAIN: NVS initialized successfully
I (1712) event_dispatcher: System event queue ready (16 entries)
I (1712) HOTPIN_MAIN: Synchronization primitives created
I (1718) HOTPIN_MAIN: Initializing WiFi...
I (1727) wifi:wifi driver task: 3ffd9f18, prio:23, stack:6656, core=0
I (1740) wifi:wifi firmware version: bea31f3
I (1740) wifi:wifi certification version: v7.0
I (1740) wifi:config NVS flash: enabled
I (1741) wifi:config nano formatting: disabled
I (1745) wifi:Init data frame dynamic rx buffer num: 32
I (1750) wifi:Init static rx mgmt buffer num: 5
I (1754) wifi:Init management short buffer num: 32
I (1759) wifi:Init dynamic tx buffer num: 32
I (1763) wifi:Init static rx buffer size: 1600
I (1767) wifi:Init static rx buffer num: 16
I (1771) wifi:Init dynamic rx buffer num: 32
I (1776) wifi_init: rx ba win: 6
I (1779) wifi_init: accept mbox: 6
I (1783) wifi_init: tcpip mbox: 32
I (1787) wifi_init: udp mbox: 6
I (1791) wifi_init: tcp mbox: 6
I (1795) wifi_init: tcp tx win: 5760
I (1799) wifi_init: tcp rx win: 5760
I (1803) wifi_init: tcp mss: 1440
I (1807) wifi_init: WiFi IRAM OP enabled
I (1812) wifi_init: WiFi RX IRAM OP enabled
I (1818) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (1889) wifi:mode : sta (80:f3:da:99:8c:64)
I (1890) wifi:enable tsf
I (1893) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (1893) HOTPIN_MAIN: Waiting for WiFi connection...
I (1894) HOTPIN_MAIN: WiFi station started, connecting...
I (1917) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (1919) wifi:state: init -> auth (0xb0)
I (1928) wifi:state: auth -> assoc (0x0)
I (1936) wifi:Association refused temporarily time 1000, comeback time 1100 (TUs)
I (3063) wifi:state: assoc -> assoc (0x0)
I (3088) wifi:state: assoc -> run (0x10)
I (3111) wifi:connected with wifi, aid = 3, channel 6, BW20, bssid = 0e:01:0a:e2:46:8b
I (3112) wifi:security: WPA2-PSK, phy: bgn, rssi: -69
I (3116) wifi:pm start, type: 1

I (3116) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (3127) HOTPIN_MAIN: WiFi connected to AP
I (3208) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (3209) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (3524) wifi:<ba-add>idx:0 (ifx:0, 0e:01:0a:e2:46:8b), tid:0, ssn:2, winSize:64
I (4171) esp_netif_handlers: sta ip: 172.24.158.214, mask: 255.255.255.0, gw: 172.24.158.191
I (4172) HOTPIN_MAIN:  Got IP address: 172.24.158.214
I (4176) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (6908) HOTPIN_MAIN: Initializing button handler...
I (6908) BUTTON: Initializing button handler on GPIO 4
I (6909) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (6918) BUTTON: Button FSM task started
W (6923) BUTTON: Button input low at init - waiting for release before enabling detection
I (6931) BUTTON: Button handler initialized successfully (initial level=0, primed=0)
I (6939) HOTPIN_MAIN: IniI (6953) SERIAL_CMD: Serial command task started on Core 0

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

 Unknown command ' '. Press 'h' for help.
I (6981) SERIAL_CMD:  Serial command interface initialized
I (6987) HOTPIN_MAIN: Initializing LED controller...
 Unknown command ' '. Press 'h' for help.
I (6997) LED_CTRL: Initializing LED controller on GPIO 33
I (7004) LED_CTRL: LED controller ready
I (7008) LED_CTRL: LED pattern -> 2
I (7012) HOTPIN_MAIN: Initializing WebSocket client...
I (7018) WEBSOCKET: Initializing WebSocket client...
I (7023) WEBSOCKET: Server URI: ws://172.24.158.58:8000/ws
I (7030) WEBSOCKET: Authorization header configured
I (7036) WEBSOCKET:  WebSocket client initialized
I (7041) WEBSOCKET: Status callback registered
I (7046) HOTPIN_MAIN: WebSocket status callback registered
I (7052) HOTPIN_MAIN: Initializing HTTP client...
I (7057) HTTP_CLIENT: Initializing HTTP client
I (7062) HTTP_CLIENT: Authorization token configured
I (7068) HTTP_CLIENT: HTTP client initialized (server: http://172.24.158.58:8000)
I (7076) HOTPIN_MAIN: Initializing STT pipeline...
I (7082) STT: Initializing STT pipeline...
I (7086) STT: 
I (7105) STT:  STT Ring Buffer Allocation (PSRAM)
I (7110) STT: 
I (7129) STT: [MEMORY] Pre-allocation state:
I (7133) STT:   Free internal RAM: 145331 bytes
I (7139) STT:   Free DMA-capable: 126503 bytes
I (7144) STT:   Free PSRAM: 4189764 bytes
I (7148) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7156) STT:    Ring buffer allocated at 0x3f8011c0 (PSRAM address)
I (7163) STT:    Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7172) STT: [MEMORY] Post-allocation state:
I (7177) STT:   Free internal RAM: 145331 bytes
I (7182) STT:   Free DMA-capable: 126503 bytes
I (7188) STT:   Free PSRAM: 4124224 bytes
I (7201) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7204) STT: Persistent audio streaming task started on Core 0
I (7208) STT:    Stream buffer allocated at 0x3ffd3914
I (7214) STT:  STT pipeline initialized
I (7219) HOTPIN_MAIN: Initializing TTS decoder...
I (7224) TTS: Initializing TTS decoder...
I (7229) WEBSOCKET: Audio callback registered
I (7234) TTS:  TTS decoder initialized
I (7238) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7246) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7252) HOTPIN_MAIN: State manager task created on Core 1
I (7252) STATE_MGR: State manager task started on Core 1
I (7258) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7264) STATE_MGR: Priority: 10
I (7271) HOTPIN_MAIN:  Attempting WebSocket connection (attempt 1)...
I (7274) STATE_MGR: Starting in camera mode...
I (7282) WEBSOCKET: Connecting to WebSocket server...
I (7287) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7298) STATE_MGR: Acquiring I2S mutex...
I (7300) websocket_client: Started
I (7303) STATE_MGR: Audio drivers already inactive; skipping deinit
I (7307) WEBSOCKET: WebSocket client started
I (7314) STATE_MGR: Initializing camera...
I (7258) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7324) CAMERA: Initializing camera...
I (7331) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...
I (7335) CAMERA: GPIO ISR service already active (shared)
I (7343) HOTPIN_MAIN: State manager task added to watchdog
I (7349) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
I (7354) HOTPIN_MAIN: ====================================
E (7364) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (7370) HOTPIN_MAIN: System initialization complete!
I (7378) cam_hal: cam init ok
I (7384) HOTPIN_MAIN: Entering camera standby mode...
I (7389) sccb-ng: pin_sda 26 pin_scl 27
I (7393) HOTPIN_MAIN: ====================================
I (7398) sccb-ng: sccb_i2c_port=1
I (7409) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (7451) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (7451) camera: Detected OV2640 camera
I (7451) camera: Detected camera at address=0x30
I (7531) cam_hal: PSRAM DMA mode disabled
I (7532) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (7536) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7543) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7549) cam_hal: cam config ok
I (7553) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (7638) CAMERA: Camera initialized successfully
I (7638) STATE_MGR: I2S mutex released
I (7638) STATE_MGR:  Camera mode transition complete
I (7638) AUDIO: 
I (7642) STATE_MGR:  Entered CAMERA_STANDBY state
I (7660) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (7666) LED_CTRL: LED pattern -> 3
I (7673) AUDIO: 
I (7695) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (7702) AUDIO:    I2S access mutex created successfully
I (7708) AUDIO: 
I (7726) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (7733) AUDIO: 
I (7751) AUDIO: [DIAG] Pre-init state:
I (7756) AUDIO:   Free heap: 4048788 bytes
I (7761) AUDIO:   Free internal RAM: 67851 bytes
I (7766) AUDIO:   Free DMA-capable: 49023 bytes
I (7771) AUDIO:   Free PSRAM: 3999772 bytes
I (7776) AUDIO:   Timestamp: 6230 ms
I (7780) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (7787) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (7795) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (7803) AUDIO:   DMA frame num (per desc): 1020
I (7808) AUDIO:   DMA total samples (effective): 4080
I (7814) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (7821) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (7823) WEBSOCKET:  WebSocket connected to server
I (7828) AUDIO:  I2S channels created (took 0 ms)
I (7833) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (7838) AUDIO:   TX handle: 0x3ffe3b40 | RX handle: 0x3ffe3cf0
I (7849) WEBSOCKET: Handshake sent successfully
I (7852) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (7858) HOTPIN_MAIN:  WebSocket status callback: CONNECTED
I (7858) STATE_MGR: WebSocket connected
I (7864) AUDIO:   Sample rate: 16000 Hz
I (7880) AUDIO:   MCLK: DISABLED
I (7884) AUDIO:   BCLK: GPIO14 (shared)
I (7888) AUDIO:   WS:   GPIO15 (shared)
I (7893) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (7900) AUDIO:  TX channel configured (took 1 ms)
I (7904) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (7911) AUDIO:   Sample rate: 16000 Hz
I (7915) AUDIO:   MCLK: DISABLED
I (7919) AUDIO:   BCLK: GPIO14 (shared)
I (7924) AUDIO:   WS:   GPIO15 (shared)
I (7928) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (7934) AUDIO:  RX channel configured (took 0 ms)
I (7939) AUDIO: [STEP 4/6] Enabling TX channel...
I (7945) AUDIO:  TX channel enabled (took 0 ms)
I (7950) AUDIO: [STEP 5/6] Enabling RX channel...
I (7956) AUDIO:  RX channel enabled (took 0 ms)
I (7961) AUDIO: [STEP 6/6] Hardware stabilization...
I (7967) AUDIO:   Phase 1: Initial settle (50ms)
I (8023) AUDIO:   Phase 2: DMA verification
I (8023) AUDIO:    DMA TX operational (128 bytes)
I (8024) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8030) HOTPIN_MAIN:  WebSocket connection active - monitoring link
I (8043) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (8048) WEBSOCKET: Server status: connected
I (8180) AUDIO: [DIAG] Post-init state:
I (8180) AUDIO:   Free heap: 4024100 bytes
I (8180) AUDIO:   Free internal RAM: 43163 bytes
I (8183) AUDIO:   Free DMA-capable: 24335 bytes
I (8189) AUDIO:   Free PSRAM: 3999772 bytes
I (8193) AUDIO:   Timestamp: 6647 ms
I (8198) AUDIO:   Total init time: 201 ms
I (8202) AUDIO: 
I (8220) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (8227) AUDIO:  Driver: i2s_std (NOT legacy!)
I (8232) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8240) AUDIO:  This should eliminate LoadStoreError crashes!
I (8247) AUDIO: 
I (8265) AUDIO: 
I (8283) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (8289) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (8295) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8302) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8308) AUDIO: 
I (9591) AUDIO: 
I (9598) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (9605) AUDIO: 
I (9623) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (9630) AUDIO:  RX channel disabled (took 0 ms)
I (9635) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (9642) AUDIO:  TX channel disabled (took 0 ms)
I (9647) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (9704) AUDIO: [STEP 4/5] Deleting RX channel...
I (9704) AUDIO:  RX channel deleted (took 0 ms)
I (9704) AUDIO: [STEP 5/5] Deleting TX channel...
I (9709) AUDIO:  TX channel deleted (took 0 ms)
I (9714) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (9772) AUDIO: 
I (9779) AUDIO:   Modern I2S STD Driver Deinitialized
I (9785) AUDIO:  Camera Can Now Initialize
I (9790) AUDIO: 
I (9808) HOTPIN_MAIN: Main task exiting - system running
I (9814) main_task: Returned from app_main()
 Voice mode STARTED (recording...)
I (12105) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (12105) SERIAL_CMD: Simulated SHORT PRESS - Voice START
I (12105) STATE_MGR: Single click - mode toggle requested
I (12117) STATE_MGR: Switching: Camera  Voice (count: 1)
I (12123) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (12128) STATE_MGR: Stopping camera...
I (12133) STATE_MGR: 
I (12149) STATE_MGR:  STEP 2: Acquiring I2S configuration mutex
I (12156) STATE_MGR: 
I (12172) STATE_MGR:   Timeout: 5000 ms
I (12177) STATE_MGR:   Timestamp: 10631 ms
I (12182) STATE_MGR:    Mutex acquired (took 0 ms)
I (12187) STATE_MGR: 
I (12204) STATE_MGR:  STEP 3: Deinitializing camera hardware
I (12210) STATE_MGR: 
I (12226) STATE_MGR:   Free heap before: 4054904 bytes
I (12232) STATE_MGR:   Free PSRAM before: 3999772 bytes
I (12238) CAMERA: Deinitializing camera...
I (12244) CAMERA: Camera deinitialized
I (12247) STATE_MGR:    Camera deinitialized (took 9 ms)
I (12254) STATE_MGR:   Free heap after: 4217200 bytes
I (12259) STATE_MGR:   Free PSRAM after: 4124088 bytes
I (12265) STATE_MGR: 
I (12281) STATE_MGR:  HARDWARE STABILIZATION - CRITICAL
I (12288) STATE_MGR: 
I (12304) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (12412) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (12512) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (12562) STATE_MGR:    Total stabilization: 250ms
I (12562) STATE_MGR:   Timestamp: 11016 ms
I (12562) STATE_MGR: 
I (12578) STATE_MGR:  STEP 4: Initializing I2S audio drivers
I (12585) STATE_MGR: 
I (12601) STATE_MGR:   Free heap before: 4217200 bytes
I (12607) AUDIO: 
I (12625) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (12632) AUDIO: 
I (12650) AUDIO: 
I (12668) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (12675) AUDIO: 
I (12693) AUDIO: [DIAG] Pre-init state:
I (12697) AUDIO:   Free heap: 4217200 bytes
I (12702) AUDIO:   Free internal RAM: 112043 bytes
I (12708) AUDIO:   Free DMA-capable: 93215 bytes
I (12713) AUDIO:   Free PSRAM: 4124088 bytes
I (12718) AUDIO:   Timestamp: 11172 ms
I (12722) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (12729) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (12737) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (12745) AUDIO:   DMA frame num (per desc): 1020
I (12751) AUDIO:   DMA total samples (effective): 4080
I (12757) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (12764) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (12770) AUDIO:  I2S channels created (took 0 ms)
I (12775) AUDIO:   TX handle: 0x3ffafc3c | RX handle: 0x3ffca690
I (12782) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (12789) AUDIO:   Sample rate: 16000 Hz
I (12793) AUDIO:   MCLK: DISABLED
I (12797) AUDIO:   BCLK: GPIO14 (shared)
I (12802) AUDIO:   WS:   GPIO15 (shared)
I (12807) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (12813) AUDIO:  TX channel configured (took 1 ms)
I (12818) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (12825) AUDIO:   Sample rate: 16000 Hz
I (12829) AUDIO:   MCLK: DISABLED
I (12833) AUDIO:   BCLK: GPIO14 (shared)
I (12838) AUDIO:   WS:   GPIO15 (shared)
I (12843) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (12849) AUDIO:  RX channel configured (took 0 ms)
I (12854) AUDIO: [STEP 4/6] Enabling TX channel...
I (12860) AUDIO:  TX channel enabled (took 0 ms)
I (12865) AUDIO: [STEP 5/6] Enabling RX channel...
I (12871) AUDIO:  RX channel enabled (took 0 ms)
I (12876) AUDIO: [STEP 6/6] Hardware stabilization...
I (12882) AUDIO:   Phase 1: Initial settle (50ms)
I (12937) AUDIO:   Phase 2: DMA verification
I (12937) AUDIO:    DMA TX operational (128 bytes)
I (12938) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (13095) AUDIO: [DIAG] Post-init state:
I (13095) AUDIO:   Free heap: 4191224 bytes
I (13095) AUDIO:   Free internal RAM: 86067 bytes
I (13099) AUDIO:   Free DMA-capable: 67239 bytes
I (13104) AUDIO:   Free PSRAM: 4124088 bytes
I (13109) AUDIO:   Timestamp: 11563 ms
I (13114) AUDIO:   Total init time: 201 ms
I (13118) AUDIO: 
I (13136) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (13143) AUDIO:  Driver: i2s_std (NOT legacy!)
I (13148) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (13157) AUDIO:  This should eliminate LoadStoreError crashes!
I (13163) AUDIO: 
I (13181) AUDIO: 
I (13199) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (13206) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (13212) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (13219) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (13225) AUDIO: 
I (13243) STATE_MGR:    Audio initialized (took 636 ms)
I (13249) STATE_MGR:   Free heap after: 4191224 bytes
I (13255) STATE_MGR: 
I (13271) STATE_MGR:  STEP 5: I2S mutex released
I (13277) STATE_MGR:  Total transition time: 895 ms
I (13283) STATE_MGR: 
I (13299) STATE_MGR: 
I (13315) STATE_MGR:  STEP 6: Starting STT/TTS pipelines
I (13322) STATE_MGR: 
I (13338) STT: Starting STT pipeline...
I (13342) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (13351) STT:  STT pipeline started
I (13351) STT: 
I (13356) TTS: Starting TTS decoder...
I (13352) STT: Audio streaming session activated
I (13377) TTS: Initializing TTS decoder...
I (13372) STT:  Audio Capture Task Started on Core 0
W (13387) TTS: TTS decoder already initialized
I (13382) STT: Starting audio streaming to server...
I (13398) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)
I (13393) STT: 
I (13413) TTS:  TTS decoder started
I (13429) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (13441) STT:   Current time: 11894 ms
I (13445) STT:   Free heap: 4182312 bytes
I (13429) TTS: TTS playback task started on Core 0
I (13650) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (13650) STT:    Audio driver initialized
I (13651) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (13709) LED_CTRL: LED pattern -> 1
I (13710) STATE_MGR:  Voice mode transition complete
I (13710) STATE_MGR:  Entered VOICE_ACTIVE state
I (13724) STATE_MGR: STT pipeline reported start
I (13734) STATE_MGR: TTS playback start event received
I (13758) STT:   Total stabilization: 300ms
I (13758) STT:   Timestamp: 12212 ms
I (13758) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (13762) STT:    DMA-capable buffer allocated at 0x3ffe36dc
I (13769) STT: 
I (13785) STT:   STARTING AUDIO CAPTURE
I (13790) STT:  Chunk size: 1024 bytes | Timeout: 100 ms
I (13797) STT: 
I (13813) STT: [FIRST READ] Completed:
I (13817) STT:   Result: ESP_OK
I (13821) STT:   Bytes read: 1024 / 1024
I (13826) STT:   Duration: 0 ms
I (13829) STT:   Timestamp: 12267 ms
I (13835) STT:   First 16 bytes: 7f 00 60 00 fc ff 7f 00 b0 ff fc ff f3 ff b0 ff
I (13955) STT: [CAPTURE] Read #10: 1024 bytes (total: 10240 bytes, 10.0 KB)
I (13957) STT:   Avg read time: 63 ms | Errors: 0
E (14163) transport_ws: Error transport_poll_write
E (14164) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (14170) WEBSOCKET:  WebSocket error occurred
E (14175) HOTPIN_MAIN:  WebSocket status callback: ERROR
I (14183) websocket_client: Reconnect after 5000 ms
E (14184) STATE_MGR: WebSocket error signalled
W (14187) WEBSOCKET:  WebSocket disconnected
I (14192) LED_CTRL: LED pattern -> 5
W (14197) HOTPIN_MAIN:  WebSocket status callback: DISCONNECTED
E (14209) STT: WebSocket disconnected during streaming
W (14211) STATE_MGR: WebSocket disconnected
I (14214) STT: Streaming task received stop signal
I (14219) LED_CTRL: LED pattern -> 4
W (14225) STT: Audio streaming aborted due to transport errors
W (14235) STT: Skipping EOS - WebSocket disconnected
I (14241) STT: Audio streaming session complete (streamed 8192 bytes in 2 chunks)
I (14249) STATE_MGR: STT pipeline reported stop
I (14254) LED_CTRL: LED pattern -> 1
I (14273) STT: [CAPTURE] Read #20: 1024 bytes (total: 20480 bytes, 20.0 KB)
I (14274) STT:   Avg read time: 62 ms | Errors: 0
I (14276) STT: Audio capture task stopped (captured 20480 bytes total)
 Voice mode STOPPED
I (14722) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (14723) SERIAL_CMD: Simulated SHORT PRESS - Voice STOP
W (14723) STATE_MGR: Guardrail soft override: stopping voice pipeline while busy
I (14735) STATE_MGR: Single click - mode toggle requested
I (14741) STATE_MGR: Switching: Voice  Camera (count: 2)
I (14747) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (14753) STATE_MGR: Stopping voice mode components...
I (14759) STT: Stopping STT pipeline...
W (14763) STT: STT pipeline already stopped
W (16038) HOTPIN_MAIN: WebSocket link not healthy, restarting connection
I (16038) WEBSOCKET: Force stopping WebSocket client
E (16040) websocket_client: Websocket client is not connected
I (16268) STATE_MGR: Voice pipeline became idle at stage idle
I (16268) TTS: Stopping TTS decoder...
I (16269) TTS: Playback stop signal received
I (16273) TTS: TTS playback task stopped
I (16279) TTS: TTS decoder stopped (played 0 bytes)
I (16383) STATE_MGR: Acquiring I2S mutex...
I (16383) STATE_MGR: Deinitializing audio drivers...
I (16383) AUDIO: 
I (16401) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (16408) AUDIO: 
I (16426) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (16433) AUDIO:  RX channel disabled (took 0 ms)
I (16439) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (16445) AUDIO:  TX channel disabled (took 0 ms)
I (16451) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (16507) AUDIO: [STEP 4/5] Deleting RX channel...
I (16508) AUDIO:  RX channel deleted (took 0 ms)
I (16508) AUDIO: [STEP 5/5] Deleting TX channel...
I (16513) AUDIO:  TX channel deleted (took 0 ms)
I (16518) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (16576) AUDIO: 
I (16583) AUDIO:   Modern I2S STD Driver Deinitialized
I (16590) AUDIO:  Camera Can Now Initialize
I (16595) AUDIO: 
I (16613) STATE_MGR: Initializing camera...
I (16617) CAMERA: Initializing camera...
I (16622) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
E (16632) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (16640) cam_hal: cam init ok
W (16644) ledc: GPIO 0 is not usable, maybe conflict with others
I (16650) sccb-ng: pin_sda 26 pin_scl 27
I (16655) sccb-ng: sccb_i2c_port=1
I (16660) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (16702) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (16702) camera: Detected OV2640 camera
I (16702) camera: Detected camera at address=0x30
I (16782) cam_hal: PSRAM DMA mode disabled
I (16783) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (16787) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (16794) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (16801) cam_hal: cam config ok
I (16804) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (16887) CAMERA: Camera initialized successfully
I (16887) STATE_MGR: I2S mutex released
I (16887) STATE_MGR:  Camera mode transition complete
I (16892) AUDIO: 
I (16910) AUDIO:  Initializing Modern I2S STD Driver (Full-Duplex)
I (16917) AUDIO: 
I (16935) AUDIO: 
I (16953) AUDIO:  Configuring Modern I2S STD Driver (Separate TX/RX)
I (16960) AUDIO: 
I (16978) AUDIO: [DIAG] Pre-init state:
I (16983) AUDIO:   Free heap: 4061540 bytes
I (16988) AUDIO:   Free internal RAM: 80563 bytes
I (16993) AUDIO:   Free DMA-capable: 61735 bytes
I (16998) AUDIO:   Free PSRAM: 3999908 bytes
I (17003) AUDIO:   Timestamp: 15457 ms
I (17008) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (17014) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (17022) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (17031) AUDIO:   DMA frame num (per desc): 1020
I (17036) AUDIO:   DMA total samples (effective): 4080
I (17042) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (17049) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (17055) AUDIO:  I2S channels created (took 0 ms)
I (17061) AUDIO:   TX handle: 0x3ffca7f4 | RX handle: 0x3ffca8d8
I (17067) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (17074) AUDIO:   Sample rate: 16000 Hz
I (17079) AUDIO:   MCLK: DISABLED
I (17083) AUDIO:   BCLK: GPIO14 (shared)
I (17087) AUDIO:   WS:   GPIO15 (shared)
I (17092) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (17099) AUDIO:  TX channel configured (took 1 ms)
I (17103) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (17110) AUDIO:   Sample rate: 16000 Hz
I (17115) AUDIO:   MCLK: DISABLED
I (17119) AUDIO:   BCLK: GPIO14 (shared)
I (17123) AUDIO:   WS:   GPIO15 (shared)
I (17128) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (17134) AUDIO:  RX channel configured (took 0 ms)
I (17139) AUDIO: [STEP 4/6] Enabling TX channel...
I (17145) AUDIO:  TX channel enabled (took 0 ms)
I (17150) AUDIO: [STEP 5/6] Enabling RX channel...
I (17156) AUDIO:  RX channel enabled (took 0 ms)
I (17161) AUDIO: [STEP 6/6] Hardware stabilization...
I (17167) AUDIO:   Phase 1: Initial settle (50ms)
I (17209) HOTPIN_MAIN:  Attempting WebSocket connection (attempt 2)...
I (17209) WEBSOCKET: Connecting to WebSocket server...
I (17218) websocket_client: Started
I (17219) WEBSOCKET: WebSocket client started
I (17222) AUDIO:   Phase 2: DMA verification
I (17226) AUDIO:    DMA TX operational (128 bytes)
I (17231) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (17389) AUDIO: [DIAG] Post-init state:
I (17389) AUDIO:   Free heap: 4028312 bytes
I (17389) AUDIO:   Free internal RAM: 47375 bytes
I (17393) AUDIO:   Free DMA-capable: 28547 bytes
I (17398) AUDIO:   Free PSRAM: 3999772 bytes
I (17403) AUDIO:   Timestamp: 15857 ms
I (17408) AUDIO:   Total init time: 201 ms
I (17412) AUDIO: 
I (17430) AUDIO:   MODERN I2S STD FULL-DUPLEX READY
I (17437) AUDIO:  Driver: i2s_std (NOT legacy!)
I (17442) AUDIO:  Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (17452) AUDIO:  This should eliminate LoadStoreError crashes!
I (17457) AUDIO: 
I (17475) AUDIO: 
I (17493) AUDIO:   MODERN I2S STD DRIVER INITIALIZED
I (17500) AUDIO:  Mode: Full-duplex (separate TX + RX channels)
I (17506) AUDIO:  TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (17513) AUDIO:  Shared Clock: BCLK=GPIO14, WS=GPIO15
I (17519) AUDIO: 
I (17660) WEBSOCKET:  WebSocket connected to server
I (17661) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (17666) WEBSOCKET: Handshake sent successfully
I (17668) HOTPIN_MAIN:  WebSocket status callback: CONNECTED
I (17820) AUDIO: 
I (17821) HOTPIN_MAIN:  WebSocket connection active - monitoring link
I (17827) AUDIO:  Deinitializing Modern I2S STD Driver for Camera Capture
I (17842) AUDIO: 
I (17860) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (17867) AUDIO:  RX channel disabled (took 0 ms)
I (17873) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (17879) AUDIO:  TX channel disabled (took 0 ms)
I (17881) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (17885) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (17895) WEBSOCKET: Server status: connected
I (17951) AUDIO: [STEP 4/5] Deleting RX channel...
I (17952) AUDIO:  RX channel deleted (took 0 ms)
I (17952) AUDIO: [STEP 5/5] Deleting TX channel...
I (17957) AUDIO:  TX channel deleted (took 0 ms)
I (17962) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (18020) AUDIO: 
I (18027) AUDIO:   Modern I2S STD Driver Deinitialized
I (18034) AUDIO:  Camera Can Now Initialize
I (18039) AUDIO: 
I (18057) LED_CTRL: LED pattern -> 3
I (18061) STATE_MGR:  Entered CAMERA_STANDBY state
I (18077) STATE_MGR: TTS playback finished successfully
I (18087) STATE_MGR: WebSocket connected
