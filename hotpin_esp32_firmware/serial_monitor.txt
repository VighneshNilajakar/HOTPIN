I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 11 2025 22:11:08
I (30) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=35ea4h (220836) map
I (181) esp_image: segment 1: paddr=00045ecc vaddr=3ff80000 size=0001ch (    28) load
I (181) esp_image: segment 2: paddr=00045ef0 vaddr=3ffb0000 size=068bch ( 26812) load
I (195) esp_image: segment 3: paddr=0004c7b4 vaddr=40080000 size=03864h ( 14436) load
I (200) esp_image: segment 4: paddr=00050020 vaddr=400d0020 size=ba688h (763528) map
I (461) esp_image: segment 5: paddr=0010a6b0 vaddr=40083864 size=17820h ( 96288) load
I (512) boot: Loaded app from partition at offset 0x10000
I (513) boot: Disabling RNG early entropy source...
[0;32mI (523) quad_psram: This chip is ESP32-D0WD[0m
[0;32mI (523) esp_psram: Found 4MB PSRAM device[0m
[0;32mI (523) esp_psram: Speed: 40MHz[0m
[0;32mI (527) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.[0m
[0;32mI (534) cpu_start: Multicore app[0m
[0;32mI (1428) esp_psram: SPI SRAM memory test OK[0m
[0;32mI (1436) cpu_start: Pro cpu start user code[0m
[0;32mI (1436) cpu_start: cpu freq: 240000000 Hz[0m
[0;32mI (1437) app_init: Application information:[0m
[0;32mI (1440) app_init: Project name:     hotpin_esp32_firmware[0m
[0;32mI (1446) app_init: App version:      0e1ce51[0m
[0;32mI (1451) app_init: Compile time:     Oct 11 2025 22:10:46[0m
[0;32mI (1457) app_init: ELF file SHA256:  e945c74b4...[0m
[0;32mI (1462) app_init: ESP-IDF:          v5.4.2-dirty[0m
[0;32mI (1468) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (1473) efuse_init: Max chip rev:     v3.99 [0m
[0;32mI (1478) efuse_init: Chip rev:         v3.1[0m
[0;32mI (1483) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (1490) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM[0m
[0;32mI (1496) heap_init: At 3FFBEDD0 len 00021230 (132 KiB): DRAM[0m
[0;32mI (1502) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM[0m
[0;32mI (1509) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM[0m
[0;32mI (1515) heap_init: At 4009B084 len 00004F7C (19 KiB): IRAM[0m
[0;32mI (1522) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator[0m
[0;32mI (1530) spi_flash: detected chip: generic[0m
[0;32mI (1534) spi_flash: flash io: dio[0m
[0;33mW (1538) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.[0m
[0;32mI (1552) main_task: Started on CPU0[0m
[0;32mI (1555) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations[0m
[0;32mI (1564) main_task: Calling app_main()[0m
[0;32mI (1568) HOTPIN_MAIN: ====================================[0m
[0;32mI (1574) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting[0m
[0;32mI (1580) HOTPIN_MAIN: ====================================[0m
[0;33mW (1586) HOTPIN_MAIN: Brownout detector disabled[0m
[0;32mI (1591) HOTPIN_MAIN: Validating PSRAM...[0m
[0;32mI (1596) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)[0m
[0;32mI (1602) HOTPIN_MAIN: PSRAM validation passed[0m
[0;32mI (1607) HOTPIN_MAIN: ====================================[0m
[0;32mI (1614) HOTPIN_MAIN: System Information:[0m
[0;32mI (1618) HOTPIN_MAIN: Chip: esp32[0m
[0;32mI (1622) HOTPIN_MAIN: Cores: 2[0m
[0;32mI (1626) HOTPIN_MAIN: Silicon revision: 301[0m
[0;32mI (1631) HOTPIN_MAIN: CPU Frequency: 240 MHz[0m
[0;32mI (1636) HOTPIN_MAIN: Flash: 2 MB external[0m
[0;32mI (1641) HOTPIN_MAIN: Free heap: 4407448 bytes[0m
[0;32mI (1646) HOTPIN_MAIN: PSRAM: 4194304 bytes[0m
[0;32mI (1651) HOTPIN_MAIN: ====================================[0m
[0;32mI (1657) HOTPIN_MAIN: Initializing NVS...[0m
[0;32mI (1687) HOTPIN_MAIN: NVS initialized successfully[0m
[0;32mI (1688) HOTPIN_MAIN: Synchronization primitives created[0m
[0;32mI (1688) HOTPIN_MAIN: Initializing WiFi...[0m
I (1697) wifi:wifi driver task: 3ffcfb4c, prio:23, stack:6656, core=0
I (1709) wifi:wifi firmware version: bea31f3
I (1710) wifi:wifi certification version: v7.0
I (1710) wifi:config NVS flash: enabled
I (1711) wifi:config nano formatting: disabled
I (1715) wifi:Init data frame dynamic rx buffer num: 32
I (1720) wifi:Init static rx mgmt buffer num: 5
I (1724) wifi:Init management short buffer num: 32
I (1729) wifi:Init dynamic tx buffer num: 32
I (1733) wifi:Init static rx buffer size: 1600
I (1737) wifi:Init static rx buffer num: 16
I (1741) wifi:Init dynamic rx buffer num: 32
[0;32mI (1746) wifi_init: rx ba win: 6[0m
[0;32mI (1749) wifi_init: accept mbox: 6[0m
[0;32mI (1753) wifi_init: tcpip mbox: 32[0m
[0;32mI (1757) wifi_init: udp mbox: 6[0m
[0;32mI (1761) wifi_init: tcp mbox: 6[0m
[0;32mI (1764) wifi_init: tcp tx win: 5760[0m
[0;32mI (1769) wifi_init: tcp rx win: 5760[0m
[0;32mI (1773) wifi_init: tcp mss: 1440[0m
[0;32mI (1777) wifi_init: WiFi IRAM OP enabled[0m
[0;32mI (1781) wifi_init: WiFi RX IRAM OP enabled[0m
[0;32mI (1788) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07[0m
[0;32mI (1863) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)[0m
I (1921) wifi:mode : sta (80:f3:da:99:8c:64)
I (1922) wifi:enable tsf
[0;32mI (1924) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...[0m
[0;32mI (1925) HOTPIN_MAIN: Waiting for WiFi connection...[0m
[0;32mI (1925) HOTPIN_MAIN: WiFi station started, connecting...[0m
I (2041) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (2043) wifi:state: init -> auth (0xb0)
I (2954) wifi:state: auth -> assoc (0x0)
I (2965) wifi:state: assoc -> run (0x10)
I (3187) wifi:connected with wifi, aid = 3, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (3187) wifi:security: WPA3-SAE, phy: bgn, rssi: -51
I (3191) wifi:pm start, type: 1

I (3192) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
[0;32mI (3204) HOTPIN_MAIN: WiFi connected to AP[0m
I (3226) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (3269) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (3269) wifi:AP's beacon interval = 102400 us, DTIM period = 2
[0;32mI (4571) esp_netif_handlers: sta ip: 10.87.102.214, mask: 255.255.255.0, gw: 10.87.102.121[0m
[0;32mI (4572) HOTPIN_MAIN: âœ… Got IP address: 10.87.102.214[0m
[0;31mE (4576) LED_CTRL: LED controller not initialized[0m
[0;32mI (4581) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection[0m
[0;32mI (6939) HOTPIN_MAIN: Initializing button handler...[0m
[0;32mI (6939) BUTTON: Initializing button handler on GPIO 4[0m
[0;32mI (6940) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3 [0m
[0;32mI (6949) BUTTON: Button FSM task started[0m
[0;32mI (6954) BUTTON: Button handler initialized successfully[0m
[0;32mI (6959) HOTPIN_MAIN: In[0;32mI (6973) SERIAL_CMD: Serial command task started on Core 0[0m

========================================
  HotPin Serial Command Interface
========================================
Commands:
  s - Toggle voice recording (start/stop)
  c - Capture image
  l - Long press (shutdown simulation)
  d - Toggle debug mode
  h - Show this help
========================================

[0;32mI (6997) SERIAL_CMD: âœ… Serial command interface initialized[0m
[0;32mI (7003) HOTPIN_MAIN: Initializing LED controller...[0m
[0;32mI (7009) LED_CTRL: Initializing LED controller on GPIO 33[0m
[0;32mI (7015) gpio: GPIO[33]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (7025) LED_CTRL: LED task started[0m
[0;32mI (7026) LED_CTRL: LED controller initialized[0m
[0;32mI (7033) LED_CTRL: LED state changed: 0 -> 1[0m
[0;32mI (7038) HOTPIN_MAIN: Initializing WebSocket client...[0m
[0;32mI (7044) WEBSOCKET: Initializing WebSocket client...[0m
[0;32mI (7050) WEBSOCKET: Server URI: ws://10.87.102.58:8000/ws[0m
[0;32mI (7056) WEBSOCKET: Authorization header configured[0m
[0;32mI (7062) WEBSOCKET: âœ… WebSocket client initialized[0m
[0;32mI (7067) WEBSOCKET: Status callback registered[0m
[0;32mI (7072) HOTPIN_MAIN: WebSocket status callback registered[0m
[0;32mI (7078) HOTPIN_MAIN: Initializing HTTP client...[0m
[0;32mI (7084) HTTP_CLIENT: Initializing HTTP client[0m
[0;32mI (7089) HTTP_CLIENT: Authorization token configured[0m
[0;32mI (7094) HTTP_CLIENT: HTTP client initialized (server: http://10.87.102.58:8000)[0m
[0;32mI (7102) HOTPIN_MAIN: Initializing STT pipeline...[0m
[0;32mI (7108) STT: Initializing STT pipeline...[0m
[0;32mI (7113) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (7131) STT: â•‘ STT Ring Buffer Allocation (PSRAM)[0m
[0;32mI (7137) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (7155) STT: [MEMORY] Pre-allocation state:[0m
[0;32mI (7160) STT:   Free internal RAM: 187815 bytes[0m
[0;32mI (7165) STT:   Free DMA-capable: 168203 bytes[0m
[0;32mI (7170) STT:   Free PSRAM: 4189764 bytes[0m
[0;32mI (7175) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...[0m
[0;32mI (7182) STT:   âœ“ Ring buffer allocated at 0x3f8011c0 (PSRAM address)[0m
[0;32mI (7190) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)[0m
[0;32mI (7198) STT: [MEMORY] Post-allocation state:[0m
[0;32mI (7203) STT:   Free internal RAM: 187815 bytes[0m
[0;32mI (7209) STT:   Free DMA-capable: 168203 bytes[0m
[0;32mI (7214) STT:   Free PSRAM: 4124224 bytes[0m
[0;32mI (7225) STT: âœ… STT pipeline initialized[0m
[0;32mI (7226) HOTPIN_MAIN: Initializing TTS decoder...[0m
[0;32mI (7229) TTS: Initializing TTS decoder...[0m
[0;32mI (7233) WEBSOCKET: Audio callback registered[0m
[0;32mI (7238) TTS: âœ… TTS decoder initialized[0m
[0;32mI (7243) HOTPIN_MAIN: Camera and audio initialization deferred to state manager[0m
[0;32mI (7251) HOTPIN_MAIN: Creating FreeRTOS tasks...[0m
[0;32mI (7256) HOTPIN_MAIN: State manager task created on Core 1[0m
[0;32mI (7256) STATE_MGR: State manager task started on Core 1[0m
[0;32mI (7263) HOTPIN_MAIN: WebSocket connection task started on Core 0[0m
[0;32mI (7268) STATE_MGR: Priority: 10[0m
[0;32mI (7275) HOTPIN_MAIN: Waiting for WiFi connection...[0m
[0;32mI (7279) STATE_MGR: Starting in camera mode...[0m
[0;32mI (7285) HOTPIN_MAIN: WiFi connected! Starting WebSocket connection...[0m
[0;32mI (7290) STATE_MGR: === TRANSITION TO CAMERA MODE ===[0m
[0;32mI (7297) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...[0m
[0;32mI (7303) STATE_MGR: Acquiring I2S mutex...[0m
[0;32mI (7310) WEBSOCKET: Connecting to WebSocket server...[0m
[0;32mI (7315) STATE_MGR: Initializing camera...[0m
[0;32mI (7326) CAMERA: Initializing camera...[0m
[0;32mI (7328) websocket_client: Started[0m
[0;31mE (7330) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (7334) WEBSOCKET: WebSocket client started[0m
[0;33mW (7342) CAMERA: GPIO ISR service already installed (OK)[0m
[0;32mI (7347) HOTPIN_MAIN: âœ… WebSocket connection initiated successfully[0m
[0;32mI (7354) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2 [0m
[0;32mI (7263) HOTPIN_MAIN: WebSocket connection task created on Core 0[0m
[0;31mE (7370) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (7376) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...[0m
[0;32mI (7385) cam_hal: cam init ok[0m
[0;31mE (7391) task_wdt: esp_task_wdt_init(515): TWDT already initialized[0m
[0;32mI (7396) sccb-ng: pin_sda 26 pin_scl 27[0m
[0;32mI (7402) HOTPIN_MAIN: State manager task added to watchdog[0m
[0;32mI (7406) sccb-ng: sccb_i2c_port=1[0m
[0;32mI (7413) HOTPIN_MAIN: ====================================[0m
[0;32mI (7418) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (7423) HOTPIN_MAIN: System initialization complete![0m
[0;32mI (7438) HOTPIN_MAIN: Entering camera standby mode...[0m
[0;32mI (7444) HOTPIN_MAIN: ====================================[0m
[0;32mI (7450) HOTPIN_MAIN: Main task exiting - system running[0m
[0;32mI (7456) main_task: Returned from app_main()[0m
[0;32mI (7466) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2[0m
[0;32mI (7467) camera: Detected OV2640 camera[0m
[0;32mI (7472) camera: Detected camera at address=0x30[0m
[0;32mI (7553) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (7553) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15[0m
[0;32mI (7557) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (7564) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (7570) cam_hal: cam config ok[0m
[0;32mI (7574) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8[0m
[0;32mI (7656) CAMERA: Camera initialized successfully[0m
[0;32mI (7656) STATE_MGR: I2S mutex released[0m
[0;32mI (7656) STATE_MGR: âœ… Camera mode transition complete[0m
[0;32mI (7661) STATE_MGR: âœ… Entered CAMERA_STANDBY state[0m
[0;33mW (10360) HOTPIN_MAIN: âš ï¸ WebSocket client started but not yet connected[0m
[0;33mW (10360) HOTPIN_MAIN: â³ Retrying WebSocket connection in 5000 ms...[0m
[0;32mI (15170) WEBSOCKET: âœ… WebSocket connected to server[0m
[0;32mI (15171) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}[0m
[0;32mI (15176) WEBSOCKET: Handshake sent successfully[0m
[0;32mI (15178) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED[0m
[0;32mI (15364) HOTPIN_MAIN: âœ… WebSocket connection established![0m
[0;32mI (15364) HOTPIN_MAIN: ğŸ“¡ WebSocket monitoring task running...[0m
[0;32mI (15369) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}[0m
[0;32mI (15376) WEBSOCKET: Server status: connected[0m
ğŸ“· Image capture triggered!
[0;32mI (34289) STATE_MGR: Button event received: 2 in state CAMERA_STANDBY[0m
[0;32mI (34289) SERIAL_CMD: Simulated DOUBLE CLICK - Camera capture[0m
[0;32mI (34289) STATE_MGR: Double-click detected - triggering camera capture[0m
[0;32mI (34301) LED_CTRL: LED state changed: 1 -> 2[0m
[0;32mI (34306) STATE_MGR: Starting camera capture sequence[0m
[0;32mI (34312) STATE_MGR: Acquiring I2S mutex for camera capture...[0m
[0;32mI (34318) STATE_MGR: Capturing frame...[0m
[0;32mI (34323) STATE_MGR: Frame captured: 29630 bytes[0m
[0;32mI (34328) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34346) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (34353) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34371) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...[0m
[0;32mI (34379) AUDIO:   âœ“ I2S access mutex created successfully[0m
[0;32mI (34385) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34403) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (34410) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34428) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (34433) AUDIO:   Free heap: 4085620 bytes[0m
[0;32mI (34437) AUDIO:   Free internal RAM: 125059 bytes[0m
[0;32mI (34443) AUDIO:   Free DMA-capable: 105447 bytes[0m
[0;32mI (34448) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (34453) AUDIO:   Timestamp: 32932 ms[0m
[0;32mI (34458) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (34465) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (34472) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (34480) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (34487) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (34492) AUDIO:   TX handle: 0x3ffc5bd0 | RX handle: 0x3ffc5d74[0m
[0;32mI (34499) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (34505) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (34510) AUDIO:   MCLK: DISABLED[0m
[0;32mI (34514) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (34519) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (34523) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (34530) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (34535) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (34541) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (34546) AUDIO:   MCLK: DISABLED[0m
[0;32mI (34550) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (34555) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (34559) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (34565) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (34571) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (34576) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (34582) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (34587) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (34593) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (34598) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (34654) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (34654) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (34655) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (34812) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (34812) AUDIO:   Free heap: 4082748 bytes[0m
[0;32mI (34812) AUDIO:   Free internal RAM: 104071 bytes[0m
[0;32mI (34816) AUDIO:   Free DMA-capable: 84459 bytes[0m
[0;32mI (34821) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (34826) AUDIO:   Timestamp: 33305 ms[0m
[0;32mI (34831) AUDIO:   Total init time: 201 ms[0m
[0;32mI (34836) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34854) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (34860) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (34865) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (34873) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (34880) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34898) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (34916) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (34922) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (34929) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (34936) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (34942) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35012) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35019) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (35027) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35045) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (35052) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (35057) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (35064) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (35069) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (35126) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (35127) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (35127) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (35132) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (35137) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (35195) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35202) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (35209) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (35214) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (35232) STATE_MGR: ğŸ”” Capture feedback dispatched[0m
[0;32mI (35238) JSON_PROTO: Generated session ID: hotpin-998C64-33[0m
[0;32mI (35244) STATE_MGR: Uploading image to server...[0m
[0;32mI (35249) HTTP_CLIENT: Uploading image: session=hotpin-998C64-33, size=29630 bytes[0m
[0;32mI (35263) HTTP_CLIENT: POST body assembled: 29887 bytes[0m
[0;32mI (35265) HTTP_CLIENT: Sending POST request to http://10.87.102.58:8000/image[0m
[0;32mI (36115) HTTP_CLIENT: HTTP POST Status = 200, content_length = 199[0m
[0;32mI (36116) HTTP_CLIENT: Image uploaded successfully[0m
[0;32mI (36117) HTTP_CLIENT: Server response: {"status":"success","message":"Image received successfully","session":"hotpin-998C64-33","filename":"image.jpg","size_bytes":29630,"saved_path":"captured_images/hotpin-998C64-33_20251011_223933.jpg"}[0m
[0;32mI (36141) STATE_MGR: Image uploaded successfully[0m
[0;32mI (36144) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36162) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (36169) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36187) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36205) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (36212) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36230) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (36235) AUDIO:   Free heap: 4085360 bytes[0m
[0;32mI (36240) AUDIO:   Free internal RAM: 124687 bytes[0m
[0;32mI (36245) AUDIO:   Free DMA-capable: 105075 bytes[0m
[0;32mI (36250) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (36255) AUDIO:   Timestamp: 34734 ms[0m
[0;32mI (36260) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (36267) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (36275) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (36282) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (36289) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (36294) AUDIO:   TX handle: 0x3ffc85b8 | RX handle: 0x3ffc875c[0m
[0;32mI (36301) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (36308) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (36312) AUDIO:   MCLK: DISABLED[0m
[0;32mI (36316) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (36321) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (36325) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (36332) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (36337) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (36344) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (36348) AUDIO:   MCLK: DISABLED[0m
[0;32mI (36352) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (36357) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (36361) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (36367) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (36373) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (36378) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (36384) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (36389) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (36395) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (36400) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (36456) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (36456) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (36457) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (36614) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (36614) AUDIO:   Free heap: 4082480 bytes[0m
[0;32mI (36614) AUDIO:   Free internal RAM: 103707 bytes[0m
[0;32mI (36618) AUDIO:   Free DMA-capable: 84095 bytes[0m
[0;32mI (36623) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (36628) AUDIO:   Timestamp: 35107 ms[0m
[0;32mI (36633) AUDIO:   Total init time: 201 ms[0m
[0;32mI (36638) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36656) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (36662) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (36667) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (36675) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (36682) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36700) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36718) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (36724) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (36731) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (36738) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (36744) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36792) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36799) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (36807) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36825) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (36832) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (36837) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (36844) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (36849) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (36906) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (36907) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (36907) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (36912) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (36917) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (36975) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (36982) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (36989) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (36994) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37102) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37109) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (37116) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37134) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37152) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (37160) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37178) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (37182) AUDIO:   Free heap: 4085360 bytes[0m
[0;32mI (37187) AUDIO:   Free internal RAM: 124687 bytes[0m
[0;32mI (37192) AUDIO:   Free DMA-capable: 105075 bytes[0m
[0;32mI (37198) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (37203) AUDIO:   Timestamp: 35681 ms[0m
[0;32mI (37207) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (37214) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (37222) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (37230) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (37236) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (37241) AUDIO:   TX handle: 0x3ffc85b8 | RX handle: 0x3ffc875c[0m
[0;32mI (37248) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (37255) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (37259) AUDIO:   MCLK: DISABLED[0m
[0;32mI (37263) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (37268) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (37273) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (37279) AUDIO: âœ… TX channel configured (took 0 ms)[0m
[0;32mI (37284) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (37291) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (37295) AUDIO:   MCLK: DISABLED[0m
[0;32mI (37299) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (37304) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (37309) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (37315) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (37320) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (37325) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (37331) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (37336) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (37342) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (37348) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (37403) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (37403) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (37403) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (37561) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (37561) AUDIO:   Free heap: 4082480 bytes[0m
[0;32mI (37561) AUDIO:   Free internal RAM: 103707 bytes[0m
[0;32mI (37565) AUDIO:   Free DMA-capable: 84095 bytes[0m
[0;32mI (37570) AUDIO:   Free PSRAM: 3999772 bytes[0m
[0;32mI (37575) AUDIO:   Timestamp: 36054 ms[0m
[0;32mI (37580) AUDIO:   Total init time: 200 ms[0m
[0;32mI (37585) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37603) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (37609) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (37614) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (37622) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (37629) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37647) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37665) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (37671) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (37678) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (37685) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (37691) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37739) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37746) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (37754) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37772) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (37779) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (37784) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (37791) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (37796) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (37853) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (37854) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (37854) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (37859) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (37864) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (37922) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37929) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (37936) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (37941) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (37959) STATE_MGR: ğŸ”” Upload feedback dispatched[0m
[0;32mI (37964) STATE_MGR: Camera capture sequence complete[0m
[0;32mI (37970) LED_CTRL: LED state changed: 2 -> 2[0m
[0;32mI (39464) STATE_MGR: Button event received: 3 in state CAMERA_STANDBY[0m
[0;32mI (39464) BUTTON: Long press detected (3000 ms)[0m
[0;33mW (39464) STATE_MGR: Long press - shutdown requested[0m
[0;33mW (39471) STATE_MGR: Shutdown state reached[0m
[0;33mW (39475) STATE_MGR: === SYSTEM SHUTDOWN ===[0m
[0;32mI (39480) STATE_MGR: Stopping all subsystems...[0m
[0;32mI (39486) STATE_MGR: Shutting down camera...[0m
[0;32mI (39491) CAMERA: Deinitializing camera...[0m
[0;32mI (39496) CAMERA: Camera deinitialized[0m
[0;32mI (39500) STT: Stopping STT pipeline...[0m
[0;33mW (39504) STT: STT pipeline not running[0m
[0;32mI (39509) TTS: Stopping TTS decoder...[0m
[0;33mW (39513) TTS: TTS decoder not running[0m
[0;32mI (39518) STATE_MGR: Disconnecting WebSocket...[0m
[0;32mI (39523) WEBSOCKET: Disconnecting from WebSocket server...[0m
[0;33mW (39658) websocket_client: Client was not started[0m
[0;33mW (39659) WEBSOCKET: WebSocket client stop reported ESP_FAIL, continuing cleanup[0m
[0;32mI (39661) WEBSOCKET: WebSocket disconnected[0m
[0;32mI (39666) STATE_MGR: âœ… Shutdown complete[0m

Next Run

ğŸ“¢ Voice mode STARTED (recording...)
[0;32mI (22331) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY[0m
[0;32mI (22331) SERIAL_CMD: Simulated SHORT PRESS - Voice START[0m
[0;32mI (22332) STATE_MGR: Single click - mode toggle requested[0m
[0;32mI (22343) STATE_MGR: Switching: Camera â†’ Voice (count: 1)[0m
[0;32mI (22349) STATE_MGR: === TRANSITION TO VOICE MODE ===[0m
[0;32mI (22355) STATE_MGR: Stopping camera...[0m
[0;32mI (22359) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22376) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex[0m
[0;32mI (22383) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22399) STATE_MGR:   Timeout: 5000 ms[0m
[0;32mI (22403) STATE_MGR:   Timestamp: 20882 ms[0m
[0;32mI (22408) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)[0m
[0;32mI (22414) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22430) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware[0m
[0;32mI (22437) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22453) STATE_MGR:   Free heap before: 4085608 bytes[0m
[0;32mI (22459) STATE_MGR:   Free PSRAM before: 3999772 bytes[0m
[0;32mI (22465) CAMERA: Deinitializing camera...[0m
[0;32mI (22470) CAMERA: Camera deinitialized[0m
[0;32mI (22474) STATE_MGR:   âœ“ Camera deinitialized (took 9 ms)[0m
[0;32mI (22480) STATE_MGR:   Free heap after: 4247304 bytes[0m
[0;32mI (22486) STATE_MGR:   Free PSRAM after: 4124088 bytes[0m
[0;32mI (22492) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22508) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL[0m
[0;32mI (22514) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22530) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts[0m
[0;32mI (22638) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins[0m
[0;32mI (22738) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state[0m
[0;32mI (22788) STATE_MGR:   âœ“ Total stabilization: 250ms[0m
[0;32mI (22788) STATE_MGR:   Timestamp: 21267 ms[0m
[0;32mI (22788) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22804) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers[0m
[0;32mI (22811) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22827) STATE_MGR:   Free heap before: 4247304 bytes[0m
[0;32mI (22833) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22851) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)[0m
[0;32mI (22858) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22876) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...[0m
[0;32mI (22883) AUDIO:   âœ“ I2S access mutex created successfully[0m
[0;32mI (22889) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22907) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)[0m
[0;32mI (22915) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (22932) AUDIO: [DIAG] Pre-init state:[0m
[0;32mI (22937) AUDIO:   Free heap: 4247204 bytes[0m
[0;32mI (22942) AUDIO:   Free internal RAM: 163115 bytes[0m
[0;32mI (22947) AUDIO:   Free DMA-capable: 143503 bytes[0m
[0;32mI (22953) AUDIO:   Free PSRAM: 4124088 bytes[0m
[0;32mI (22958) AUDIO:   Timestamp: 21436 ms[0m
[0;32mI (22962) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...[0m
[0;32mI (22969) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)[0m
[0;32mI (22977) AUDIO:   DMA config: 4 buffers x 1200 samples = 4800 total samples[0m
[0;32mI (22985) AUDIO:   DMA memory: 9600 bytes (2 bytes/sample)[0m
[0;32mI (22991) AUDIO: âœ… I2S channels created (took 0 ms)[0m
[0;32mI (22996) AUDIO:   TX handle: 0x3ffca860 | RX handle: 0x3ffc02a4[0m
[0;32mI (23003) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...[0m
[0;32mI (23010) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (23014) AUDIO:   MCLK: DISABLED[0m
[0;32mI (23018) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (23023) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (23028) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)[0m
[0;32mI (23034) AUDIO: âœ… TX channel configured (took 1 ms)[0m
[0;32mI (23039) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...[0m
[0;32mI (23046) AUDIO:   Sample rate: 16000 Hz[0m
[0;32mI (23050) AUDIO:   MCLK: DISABLED[0m
[0;32mI (23054) AUDIO:   BCLK: GPIO14 (shared)[0m
[0;32mI (23059) AUDIO:   WS:   GPIO15 (shared)[0m
[0;32mI (23064) AUDIO:   DIN:  GPIO2 (INMP441 microphone)[0m
[0;32mI (23070) AUDIO: âœ… RX channel configured (took 0 ms)[0m
[0;32mI (23075) AUDIO: [STEP 4/6] Enabling TX channel...[0m
[0;32mI (23080) AUDIO: âœ… TX channel enabled (took 0 ms)[0m
[0;32mI (23086) AUDIO: [STEP 5/6] Enabling RX channel...[0m
[0;32mI (23091) AUDIO: âœ… RX channel enabled (took 0 ms)[0m
[0;32mI (23097) AUDIO: [STEP 6/6] Hardware stabilization...[0m
[0;32mI (23103) AUDIO:   Phase 1: Initial settle (50ms)[0m
[0;32mI (23158) AUDIO:   Phase 2: DMA verification[0m
[0;32mI (23158) AUDIO:   âœ“ DMA TX operational (128 bytes)[0m
[0;32mI (23159) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA[0m
[0;32mI (23316) AUDIO: [DIAG] Post-init state:[0m
[0;32mI (23316) AUDIO:   Free heap: 4243408 bytes[0m
[0;32mI (23317) AUDIO:   Free internal RAM: 142267 bytes[0m
[0;32mI (23320) AUDIO:   Free DMA-capable: 122655 bytes[0m
[0;32mI (23326) AUDIO:   Free PSRAM: 4124088 bytes[0m
[0;32mI (23330) AUDIO:   Timestamp: 21809 ms[0m
[0;32mI (23335) AUDIO:   Total init time: 201 ms[0m
[0;32mI (23340) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23358) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY[0m
[0;32mI (23364) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)[0m
[0;32mI (23369) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: 16-bit mono[0m
[0;32mI (23377) AUDIO: â•‘ This should eliminate LoadStoreError crashes![0m
[0;32mI (23384) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23402) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23420) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED[0m
[0;32mI (23426) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)[0m
[0;32mI (23433) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2[0m
[0;32mI (23440) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15[0m
[0;32mI (23446) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23464) STATE_MGR:   âœ“ Audio initialized (took 631 ms)[0m
[0;32mI (23470) STATE_MGR:   Free heap after: 4243408 bytes[0m
[0;32mI (23476) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23492) STATE_MGR: â•‘ STEP 5: I2S mutex released[0m
[0;32mI (23497) STATE_MGR: â•‘ Total transition time: 890 ms[0m
[0;32mI (23503) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23520) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23536) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines[0m
[0;32mI (23542) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23580) STATE_MGR: ğŸ”” Recording start feedback dispatched[0m
[0;32mI (23581) STT: Starting STT pipeline...[0m
[0;32mI (23581) STT: Initializing STT pipeline...[0m
[0;33mW (23585) STT: STT pipeline already initialized[0m
[0;32mI (23590) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)[0m
[0;32mI (23600) STT: âœ… STT pipeline started[0m
[0;32mI (23600) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23604) TTS: Starting TTS decoder...[0m
[0;32mI (23600) STT: Audio streaming task started on Core 0[0m
[0;32mI (23625) TTS: Initializing TTS decoder...[0m
[0;32mI (23620) STT: â•‘ Audio Capture Task Started on Core 0[0m
[0;33mW (23635) TTS: TTS decoder already initialized[0m
[0;32mI (23630) STT:   âœ“ Stream buffer allocated at 0x3ffe56c0[0m
[0;32mI (23646) TTS: [CORE AFFINITY] Creating TTS playback task on Core 0 (co-located with Wi-Fi and STT)[0m
[0;32mI (23641) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (23662) TTS: âœ… TTS decoder started[0m
[0;32mI (23652) STT: Starting audio streaming to server...[0m
[0;32mI (23683) STATE_MGR: âœ… Voice mode transition complete[0m
[0;32mI (23678) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...[0m
[0;32mI (23694) STATE_MGR: âœ… Entered VOICE_ACTIVE state[0m
[0;32mI (23701) STT:   Current time: 22180 ms[0m
[0;32mI (23711) STT:   Free heap: 4226652 bytes[0m
[0;32mI (23678) TTS: TTS playback task started on Core 0[0m
[0;32mI (23916) STT: [STABILIZATION] Phase 2: Verify audio driver state...[0m
[0;32mI (23916) STT:   âœ“ Audio driver initialized[0m
[0;32mI (23917) STT: [STABILIZATION] Phase 3: Additional 100ms settle...[0m
[0;32mI (24024) STT:   Total stabilization: 300ms[0m
[0;32mI (24024) STT:   Timestamp: 22502 ms[0m
[0;32mI (24024) STT: [BUFFER] Allocating 1024 byte capture buffer...[0m
[0;32mI (24028) STT:   âœ“ DMA-capable buffer allocated at 0x3ffc9e90[0m
[0;32mI (24035) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (24051) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE[0m
[0;32mI (24056) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms[0m
[0;32mI (24062) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (24079) STT: [FIRST READ] Completed:[0m
[0;32mI (24083) STT:   Result: ESP_OK[0m
[0;32mI (24087) STT:   Bytes read: 1024 / 1024[0m
[0;32mI (24091) STT:   Duration: 0 ms[0m
[0;32mI (24095) STT:   Timestamp: 22557 ms[0m
[0;32mI (24101) STT:   First 16 bytes: fb fe fb fe fb fe fb fe fc fe fc fe fb fe fb fe[0m
[0;32mI (24217) STT: [CAPTURE] Read #10: 1024 bytes (total: 10240 bytes, 10.0 KB)[0m
[0;32mI (24218) STT:   Avg read time: 70 ms | Errors: 0[0m
[0;32mI (24517) STT: [CAPTURE] Read #20: 1024 bytes (total: 20480 bytes, 20.0 KB)[0m
[0;32mI (24518) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (24817) STT: [CAPTURE] Read #30: 1024 bytes (total: 30720 bytes, 30.0 KB)[0m
[0;32mI (24818) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (25192) STT: [CAPTURE] Read #40: 1024 bytes (total: 40960 bytes, 40.0 KB)[0m
[0;32mI (25193) STT:   Avg read time: 74 ms | Errors: 0[0m
[0;32mI (25492) STT: [CAPTURE] Read #50: 1024 bytes (total: 51200 bytes, 50.0 KB)[0m
[0;32mI (25493) STT:   Avg read time: 74 ms | Errors: 0[0m
[0;32mI (25792) STT: [CAPTURE] Read #60: 1024 bytes (total: 61440 bytes, 60.0 KB)[0m
[0;32mI (25793) STT:   Avg read time: 0 ms | Errors: 0[0m
[0;32mI (26092) STT: [CAPTURE] Read #70: 1024 bytes (total: 71680 bytes, 70.0 KB)[0m
[0;32mI (26093) STT:   Avg read time: 0 ms | Errors: 0[0m
ğŸ”‡ Voice mode STOPPED
[0;32mI (26230) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE[0m
[0;32mI (26230) SERIAL_CMD: Simulated SHORT PRESS - Voice STOP[0m
[0;32mI (26231) STATE_MGR: Single click - mode toggle requested[0m
[0;32mI (26240) STATE_MGR: Switching: Voice â†’ Camera (count: 2)[0m
[0;32mI (26247) STATE_MGR: === TRANSITION TO CAMERA MODE ===[0m
[0;32mI (26252) STATE_MGR: Stopping voice mode components...[0m
[0;32mI (26258) STT: Stopping STT pipeline...[0m
[0;32mI (26263) STT: Sending EOS signal...[0m
[0;32mI (26267) WEBSOCKET: Sending EOS signal[0m
[0;32mI (26293) STT: Audio streaming task stopped (streamed 73728 bytes in 18 chunks)[0m
[0;32mI (26317) STT: Audio capture task stopped (captured 77824 bytes total)[0m
[0;32mI (26379) WEBSOCKET: Received text message: {"status": "processing", "stage": "transcription"}[0m
[0;32mI (26380) WEBSOCKET: Server status: processing[0m
[0;32mI (26383) WEBSOCKET: Server stage: transcription[0m
[0;32mI (26388) WEBSOCKET: Pipeline stage changed: idle -> transcription[0m
[0;32mI (26500) STT: STT pipeline stopped[0m
[0;32mI (26695) BUTTON: Long press detected (2999 ms)[0m
[0;32mI (26903) WEBSOCKET: Received text message: {"status": "processing", "stage": "llm", "transcript": "hello hello"}[0m
[0;32mI (26903) WEBSOCKET: Server status: processing[0m
[0;32mI (26908) WEBSOCKET: Server stage: llm[0m
[0;32mI (26912) WEBSOCKET: Pipeline stage changed: transcription -> llm[0m
[0;32mI (27528) WEBSOCKET: Received text message: {"status": "processing", "stage": "tts", "response": "Hello! How can I help you today?"}[0m
[0;32mI (27531) WEBSOCKET: Server status: processing[0m
[0;32mI (27535) WEBSOCKET: Server stage: tts[0m
[0;32mI (27540) WEBSOCKET: Pipeline stage changed: llm -> tts[0m
[0;32mI (27580) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (27580) TTS: âœ… WAV header parsed successfully[0m
[0;32mI (27581) TTS: === WAV File Info ===[0m
[0;32mI (27585) TTS: Sample Rate: 22050 Hz[0m
[0;32mI (27589) TTS: Channels: 1[0m
[0;32mI (27592) TTS: Bits per Sample: 16[0m
[0;32mI (27596) TTS: Audio Format: 1 (PCM)[0m
[0;32mI (27601) TTS: Declared Data Size: 153694 bytes[0m
[0;32mI (27606) TTS: Block Align: 2[0m
[0;32mI (27610) TTS: Byte Rate: 44100[0m
[0;32mI (27613) TTS: ====================[0m
[0;32mI (27618) TTS: ğŸ”” Playback start feedback dispatched (bytes_received=4096)[0m
[0;32mI (27619) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (27628) AUDIO: I2S TX sample rate updated to 22050 Hz[0m
[0;32mI (27636) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (27648) WEBSOCKET: Received binary audio data: 436 bytes[0m
[0;32mI (27668) WEBSOCKET: Received binary audio data: 3660 bytes[0m
[0;32mI (27671) WEBSOCKET: Received binary audio data: 656 bytes[0m
[0;32mI (27679) WEBSOCKET: Received binary audio data: 3440 bytes[0m
[0;32mI (27683) WEBSOCKET: Received binary audio data: 876 bytes[0m
[0;32mI (27928) WEBSOCKET: Received binary audio data: 3220 bytes[0m
[0;32mI (27931) WEBSOCKET: Received binary audio data: 1096 bytes[0m
[0;32mI (27944) WEBSOCKET: Received binary audio data: 3000 bytes[0m
[0;32mI (27948) WEBSOCKET: Received binary audio data: 1316 bytes[0m
[0;32mI (28128) WEBSOCKET: Received binary audio data: 2780 bytes[0m
[0;32mI (28133) WEBSOCKET: Received binary audio data: 1536 bytes[0m
[0;32mI (28246) WEBSOCKET: Received binary audio data: 2560 bytes[0m
[0;32mI (28250) WEBSOCKET: Received binary audio data: 3196 bytes[0m
[0;32mI (28280) WEBSOCKET: Received binary audio data: 900 bytes[0m
[0;32mI (28284) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (28288) WEBSOCKET: Received binary audio data: 756 bytes[0m
[0;32mI (28332) WEBSOCKET: Received binary audio data: 3340 bytes[0m
[0;32mI (28335) WEBSOCKET: Received binary audio data: 976 bytes[0m
[0;32mI (28347) WEBSOCKET: Received binary audio data: 3120 bytes[0m
[0;32mI (28351) WEBSOCKET: Received binary audio data: 1196 bytes[0m
[0;32mI (28355) WEBSOCKET: Received binary audio data: 2900 bytes[0m
[0;32mI (28392) WEBSOCKET: Received binary audio data: 1416 bytes[0m
[0;32mI (28446) WEBSOCKET: Received binary audio data: 2680 bytes[0m
[0;32mI (28502) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (28557) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (28610) WEBSOCKET: Received binary audio data: 636 bytes[0m
[0;32mI (28746) WEBSOCKET: Received binary audio data: 3460 bytes[0m
[0;32mI (28749) WEBSOCKET: Received binary audio data: 856 bytes[0m
[0;32mI (28772) WEBSOCKET: Received binary audio data: 3240 bytes[0m
[0;32mI (28776) WEBSOCKET: Received binary audio data: 1076 bytes[0m
[0;32mI (28882) WEBSOCKET: Received binary audio data: 3020 bytes[0m
[0;32mI (28886) WEBSOCKET: Received binary audio data: 1296 bytes[0m
[0;32mI (28935) WEBSOCKET: Received binary audio data: 2800 bytes[0m
[0;32mI (28992) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (29046) WEBSOCKET: Received binary audio data: 296 bytes[0m
[0;32mI (29158) WEBSOCKET: Received binary audio data: 3800 bytes[0m
[0;32mI (29210) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (29264) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (29318) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (29373) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (29427) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (29431) WEBSOCKET: Received binary audio data: 1616 bytes[0m
[0;32mI (29535) WEBSOCKET: Received binary audio data: 2480 bytes[0m
[0;32mI (29540) WEBSOCKET: Received binary audio data: 3276 bytes[0m
[0;32mI (29994) WEBSOCKET: Received binary audio data: 820 bytes[0m
[0;32mI (29999) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (30003) WEBSOCKET: Received binary audio data: 836 bytes[0m
[0;32mI (30031) WEBSOCKET: Received binary audio data: 3260 bytes[0m
[0;32mI (30035) WEBSOCKET: Received binary audio data: 1056 bytes[0m
[0;32mI (30040) WEBSOCKET: Received binary audio data: 3040 bytes[0m
[0;32mI (30086) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (30190) WEBSOCKET: Received binary audio data: 4096 bytes[0m
[0;32mI (30243) WEBSOCKET: Received binary audio data: 270 bytes[0m
[0;32mI (30296) WEBSOCKET: Received binary audio data: 3826 bytes[0m
[0;32mI (30351) WEBSOCKET: Received binary audio data: 490 bytes[0m
[0;32mI (30405) WEBSOCKET: Received binary audio data: 3606 bytes[0m
[0;32mI (30460) WEBSOCKET: Received binary audio data: 710 bytes[0m
[0;32mI (30609) WEBSOCKET: Received binary audio data: 1478 bytes[0m
[0;32mI (30611) WEBSOCKET: Received text message: {"status": "complete"}[0m
[0;32mI (30612) WEBSOCKET: Server status: complete[0m
[0;32mI (30616) WEBSOCKET: Pipeline stage changed: tts -> complete[0m
[0;32mI (30622) TTS: Queued TTS playback stop sentinel (server EOS)[0m
[0;32mI (30650) STATE_MGR: Voice pipeline reported COMPLETE[0m
[0;32mI (30650) STATE_MGR: Waiting for TTS playback drain (~22714 bytes pending, timeout 5000 ms)[0m
[0;32mI (31164) TTS: Playback stop signal received[0m
[0;32mI (31165) AUDIO: I2S TX sample rate updated to 16000 Hz[0m
[0;32mI (31174) STATE_MGR: TTS playback drained successfully[0m
[0;32mI (31174) TTS: Stopping TTS decoder...[0m
[0;33mW (31174) TTS: TTS decoder not running[0m
[0;32mI (31538) TTS: ğŸ”” Playback completion feedback dispatched (total bytes: 153694)[0m
[0;32mI (31538) TTS: TTS playback task stopped[0m
[0;32mI (31688) STATE_MGR: ğŸ”” Recording stop feedback dispatched[0m
[0;32mI (31788) STATE_MGR: Acquiring I2S mutex...[0m
[0;32mI (31788) STATE_MGR: Deinitializing audio drivers...[0m
[0;32mI (31788) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (31806) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture[0m
[0;32mI (31813) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (31831) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...[0m
[0;32mI (31838) AUDIO: âœ… RX channel disabled (took 0 ms)[0m
[0;32mI (31844) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...[0m
[0;32mI (31850) AUDIO: âœ… TX channel disabled (took 0 ms)[0m
[0;32mI (31856) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...[0m
[0;32mI (31912) AUDIO: [STEP 4/5] Deleting RX channel...[0m
[0;32mI (31913) AUDIO: âœ… RX channel deleted (took 0 ms)[0m
[0;32mI (31913) AUDIO: [STEP 5/5] Deleting TX channel...[0m
[0;32mI (31918) AUDIO: âœ… TX channel deleted (took 0 ms)[0m
[0;32mI (31923) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...[0m
[0;32mI (31981) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (31988) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized[0m
[0;32mI (31995) AUDIO: â•‘ Camera Can Now Initialize[0m
[0;32mI (32000) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[0m
[0;32mI (32018) STATE_MGR: Initializing camera...[0m
[0;32mI (32022) CAMERA: Initializing camera...[0m
[0;32mI (32027) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2 [0m
[0;31mE (32037) gpio: gpio_install_isr_service(503): GPIO isr service already installed[0m
[0;32mI (32045) cam_hal: cam init ok[0m
[0;33mW (32049) ledc: GPIO 0 is not usable, maybe conflict with others[0m
[0;32mI (32055) sccb-ng: pin_sda 26 pin_scl 27[0m
[0;32mI (32060) sccb-ng: sccb_i2c_port=1[0m
[0;32mI (32065) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0 [0m
[0;32mI (32107) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2[0m
[0;32mI (32107) camera: Detected OV2640 camera[0m
[0;32mI (32107) camera: Detected camera at address=0x30[0m
[0;32mI (32187) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (32188) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15[0m
[0;32mI (32192) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (32199) cam_hal: Allocating 61440 Byte frame buffer in PSRAM[0m
[0;32mI (32206) cam_hal: cam config ok[0m
[0;32mI (32209) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8[0m
[0;32mI (32292) CAMERA: Camera initialized successfully[0m
[0;32mI (32292) STATE_MGR: I2S mutex released[0m
[0;32mI (32292) STATE_MGR: âœ… Camera mode transition complete[0m
[0;32mI (32297) STATE_MGR: âœ… Entered CAMERA_STANDBY state[0m
[0;32mI (32313) STATE_MGR: Button event received: 3 in state CAMERA_STANDBY[0m
[0;33mW (32313) STATE_MGR: Long press - shutdown requested[0m
[0;33mW (32315) STATE_MGR: Shutdown state reached[0m
[0;33mW (32320) STATE_MGR: === SYSTEM SHUTDOWN ===[0m
[0;32mI (32325) STATE_MGR: Stopping all subsystems...[0m
[0;32mI (32330) STATE_MGR: Shutting down camera...[0m
[0;32mI (32335) CAMERA: Deinitializing camera...[0m
[0;32mI (32341) CAMERA: Camera deinitialized[0m
[0;32mI (32345) STT: Stopping STT pipeline...[0m
[0;33mW (32349) STT: STT pipeline not running[0m
[0;32mI (32354) TTS: Stopping TTS decoder...[0m
[0;33mW (32358) TTS: TTS decoder not running[0m
[0;32mI (32362) STATE_MGR: Disconnecting WebSocket...[0m
[0;32mI (32368) WEBSOCKET: Disconnecting from WebSocket server...[0m
[0;33mW (32391) websocket_client: Client was not started[0m
[0;33mW (32391) WEBSOCKET: WebSocket client stop reported ESP_FAIL, continuing cleanup[0m
[0;32mI (32394) WEBSOCKET: WebSocket disconnected[0m
[0;32mI (32398) STATE_MGR: âœ… Shutdown complete[0m
