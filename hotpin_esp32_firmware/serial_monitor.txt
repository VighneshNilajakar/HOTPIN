PS F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware> idf.py monitor
Executing action: monitor
Serial port COM7
Connecting.......
Detecting chip type... Unsupported detection protocol, switching and trying again...
Connecting...
Detecting chip type... ESP32
Running idf_monitor in directory 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware'
Executing "C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe C:\Espressif\frameworks\esp-idf-v5.4.2\tools/idf_monitor.py -p COM7 -b 115200 --toolchain-prefix xtensa-esp32-elf- --target esp32 --revision 0 'F:\Documents\College\6th Semester\Project\ESP_Warp\hotpin_esp32_firmware\build\hotpin_esp32_firmware.elf' --force-color -m 'C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe' 'C:\Espressif\frameworks\esp-idf-v5.4.2\tools\idf.py'"...
--- Warning: GDB cannot open serial ports accessed as COMx
--- Using \\.\COM7 instead...
--- esp-idf-monitor 1.7.0 on \\.\COM7 115200
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 17 2025 00:27:55
I (30) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=3631ch (221980) map
I (181) esp_image: segment 1: paddr=00046344 vaddr=3ff80000 size=0001ch (    28) load
I (181) esp_image: segment 2: paddr=00046368 vaddr=3ffb0000 size=09cb0h ( 40112) load
I (200) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=ba67ch (763516) map
I (461) esp_image: segment 4: paddr=0010a6a4 vaddr=3ffb9cb0 size=08014h ( 32788) load
I (473) esp_image: segment 5: paddr=001126c0 vaddr=40080000 size=1ae28h (110120) load
I (532) boot: Loaded app from partition at offset 0x10000
I (532) boot: Disabling RNG early entropy source...
I (543) quad_psram: This chip is ESP32-D0WD
I (543) esp_psram: Found 4MB PSRAM device
I (543) esp_psram: Speed: 40MHz
I (546) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (554) cpu_start: Multicore app
I (1448) esp_psram: SPI SRAM memory test OK
I (1456) cpu_start: Pro cpu start user code
I (1456) cpu_start: cpu freq: 240000000 Hz
I (1456) app_init: Application information:
I (1459) app_init: Project name:     hotpin_esp32_firmware
I (1465) app_init: App version:      8005000-dirty
I (1471) app_init: Compile time:     Oct 17 2025 00:27:31
I (1477) app_init: ELF file SHA256:  c3d09d9b6...
I (1482) app_init: ESP-IDF:          v5.4.2-dirty
I (1488) efuse_init: Min chip rev:     v0.0
I (1492) efuse_init: Max chip rev:     v3.99
I (1497) efuse_init: Chip rev:         v3.1
I (1503) heap_init: Initializing. RAM available for dynamic allocation:
I (1510) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1516) heap_init: At 3FFC9348 len 00016CB8 (91 KiB): DRAM
I (1522) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1528) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1535) heap_init: At 4009AE28 len 000051D8 (20 KiB): IRAM
I (1542) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1550) spi_flash: detected chip: generic
I (1554) spi_flash: flash io: dio
W (1558) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1572) main_task: Started on CPU0
I (1575) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1584) main_task: Calling app_main()
I (1588) HOTPIN_MAIN: ====================================
I (1594) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1600) HOTPIN_MAIN: ====================================
W (1606) HOTPIN_MAIN: Brownout detector disabled
I (1611) HOTPIN_MAIN: Validating PSRAM...
I (1616) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1622) HOTPIN_MAIN: PSRAM validation passed
I (1628) HOTPIN_MAIN: ====================================
I (1634) HOTPIN_MAIN: System Information:
I (1638) HOTPIN_MAIN: Chip: esp32
I (1642) HOTPIN_MAIN: Cores: 2
I (1646) HOTPIN_MAIN: Silicon revision: 301
I (1651) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1656) HOTPIN_MAIN: Flash: 2 MB external
I (1661) HOTPIN_MAIN: Free heap: 4365156 bytes
I (1666) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1671) HOTPIN_MAIN: ====================================
I (1677) HOTPIN_MAIN: Initializing NVS...
I (1706) HOTPIN_MAIN: NVS initialized successfully
I (1707) event_dispatcher: System event queue ready (16 entries)
I (1708) HOTPIN_MAIN: Synchronization primitives created
I (1714) HOTPIN_MAIN: Initializing WiFi...
I (1722) wifi:wifi driver task: 3ffd9f40, prio:23, stack:6656, core=0
I (1735) wifi:wifi firmware version: bea31f3
I (1736) wifi:wifi certification version: v7.0
I (1736) wifi:config NVS flash: enabled
I (1736) wifi:config nano formatting: disabled
I (1741) wifi:Init data frame dynamic rx buffer num: 32
I (1746) wifi:Init static rx mgmt buffer num: 5
I (1750) wifi:Init management short buffer num: 32
I (1754) wifi:Init dynamic tx buffer num: 32
I (1758) wifi:Init static rx buffer size: 1600
I (1763) wifi:Init static rx buffer num: 16
I (1766) wifi:Init dynamic rx buffer num: 32
I (1772) wifi_init: rx ba win: 6
I (1774) wifi_init: accept mbox: 6
I (1778) wifi_init: tcpip mbox: 32
I (1782) wifi_init: udp mbox: 6
I (1786) wifi_init: tcp mbox: 6
I (1790) wifi_init: tcp tx win: 5760
I (1794) wifi_init: tcp rx win: 5760
I (1798) wifi_init: tcp mss: 1440
I (1802) wifi_init: WiFi IRAM OP enabled
I (1807) wifi_init: WiFi RX IRAM OP enabled
I (1814) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (1880) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (1898) wifi:mode : sta (80:f3:da:99:8c:64)
I (1899) wifi:enable tsf
I (1901) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (1902) HOTPIN_MAIN: Waiting for WiFi connection...
I (1902) HOTPIN_MAIN: WiFi station started, connecting...
I (1924) wifi:new:<11,0>, old:<1,0>, ap:<255,255>, sta:<11,0>, prof:1, snd_ch_cfg:0x0
I (1926) wifi:state: init -> auth (0xb0)
I (1930) wifi:state: auth -> assoc (0x0)
I (1938) wifi:state: assoc -> run (0x10)
I (1956) wifi:connected with wifi, aid = 3, channel 11, BW20, bssid = 8a:a3:03:f8:ce:c9
I (1957) wifi:security: WPA2-PSK, phy: bgn, rssi: -53
I (1961) wifi:pm start, type: 1

I (1961) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (1972) wifi:<ba-add>idx:0 (ifx:0, 8a:a3:03:f8:ce:c9), tid:0, ssn:0, winSize:64
I (1979) HOTPIN_MAIN: WiFi connected to AP
I (2041) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (2041) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (2999) esp_netif_handlers: sta ip: 10.57.194.214, mask: 255.255.255.0, gw: 10.57.194.209
I (3000) HOTPIN_MAIN: âœ… Got IP address: 10.57.194.214
I (3004) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (6916) HOTPIN_MAIN: Initializing button handler...
I (6916) BUTTON: Initializing button handler on GPIO 4
I (6917) gpio: GPIO[4]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (6926) BUTTON: Button FSM task started
I (6931) BUTTON: Button handler initialized successfully (initial level=1, primed=1)
I (6939) HOTPIN_MAIN: Initializing LED controller...
I (6944) LED_CTRL: Initializing LED controller on GPIO 33
I (6953) LED_CTRL: LED controller ready
I (6955) LED_CTRL: LED pattern -> 2
I (6959) HOTPIN_MAIN: Initializing WebSocket client...
I (6965) WEBSOCKET: Initializing WebSocket client...
I (6970) WEBSOCKET: Server URI: ws://10.57.194.58:8000/ws
I (6977) WEBSOCKET: Authorization header configured
I (6983) WEBSOCKET: âœ… WebSocket client initialized
I (6988) WEBSOCKET: Status callback registered
I (6993) HOTPIN_MAIN: WebSocket status callback registered
I (6999) HOTPIN_MAIN: Initializing HTTP client...
I (7004) HTTP_CLIENT: Initializing HTTP client
I (7010) HTTP_CLIENT: Authorization token configured
I (7015) HTTP_CLIENT: HTTP client initialized (server: http://10.57.194.58:8000)
I (7023) HOTPIN_MAIN: Initializing STT pipeline...
I (7029) STT: Initializing STT pipeline...
I (7034) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7052) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7057) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7076) STT: [MEMORY] Pre-allocation state:
I (7081) STT:   Free internal RAM: 151391 bytes
I (7086) STT:   Free DMA-capable: 131175 bytes
I (7091) STT:   Free PSRAM: 4191564 bytes
I (7096) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7103) STT:   âœ“ Ring buffer allocated at 0x3f800ab8 (PSRAM address)
I (7111) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7119) STT: [MEMORY] Post-allocation state:
I (7124) STT:   Free internal RAM: 151391 bytes
I (7130) STT:   Free DMA-capable: 131175 bytes
I (7135) STT:   Free PSRAM: 4126024 bytes
I (7146) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7147) STT: Persistent audio streaming task started on Core 0
I (7154) STT:   âœ“ Stream buffer allocated at 0x3ffd2764
I (7160) STT: âœ… STT pipeline initialized
I (7165) HOTPIN_MAIN: Initializing TTS decoder...
I (7170) TTS: Initializing TTS decoder...
I (7175) TTS: Allocating 16384 byte PSRAM buffer for TTS stream
I (7183) WEBSOCKET: Audio callback registered
I (7187) TTS: âœ… TTS decoder initialized
I (7191) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7199) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7205) HOTPIN_MAIN: State manager task created on Core 1
I (7205) STATE_MGR: State manager task started on Core 1
I (7211) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7217) STATE_MGR: Priority: 10
I (7223) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...
I (7227) STATE_MGR: Starting in camera mode...
I (7235) WEBSOCKET: Connecting to WebSocket server...
I (7240) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7251) STATE_MGR: Acquiring I2S mutex...
I (7254) websocket_client: Started
I (7256) STATE_MGR: Audio drivers already inactive; skipping deinit
I (7260) WEBSOCKET: WebSocket client started
I (7267) STATE_MGR: Initializing camera...
I (7211) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7277) CAMERA: Initializing camera...
I (7284) HOTPIN_MAIN: Initializing task watchdog (30s timeout)...
I (7288) CAMERA: GPIO ISR service already active (shared)
I (7296) HOTPIN_MAIN: State manager task added to watchdog
I (7301) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
I (7307) HOTPIN_MAIN: ====================================
E (7317) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (7323) HOTPIN_MAIN: System initialization complete!
I (7331) cam_hal: cam init ok
I (7337) HOTPIN_MAIN: Entering camera standby mode...
I (7341) sccb-ng: pin_sda 26 pin_scl 27
I (7346) HOTPIN_MAIN: ====================================
I (7350) sccb-ng: sccb_i2c_port=1
I (7362) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (7404) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (7404) camera: Detected OV2640 camera
I (7404) camera: Detected camera at address=0x30
I (7484) cam_hal: PSRAM DMA mode disabled
I (7485) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (7489) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7496) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (7502) cam_hal: cam config ok
I (7506) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (7595) WEBSOCKET: âœ… WebSocket connected to server
I (7596) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (7598) CAMERA: Camera initialized successfully
I (7601) WEBSOCKET: Handshake sent successfully
I (7603) STATE_MGR: I2S mutex released
I (7608) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (7608) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7619) STATE_MGR: âœ… Camera mode transition complete
I (7637) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (7643) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (7650) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7655) LED_CTRL: LED pattern -> 3
I (7673) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (7685) AUDIO:   âœ“ I2S access mutex created successfully
I (7688) STATE_MGR: WebSocket connected
I (7691) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7713) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (7721) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7738) AUDIO: [DIAG] Pre-init state:
I (7743) AUDIO:   Free heap: 4037084 bytes
I (7748) AUDIO:   Free internal RAM: 72155 bytes
I (7753) AUDIO:   Free DMA-capable: 51939 bytes
I (7758) AUDIO:   Free PSRAM: 3985184 bytes
I (7763) AUDIO:   Timestamp: 6222 ms
I (7767) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (7774) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (7782) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (7788) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (7790) AUDIO:   DMA frame num (per desc): 1020
I (7805) AUDIO:   DMA total samples (effective): 4080
I (7800) WEBSOCKET: Server status: connected
I (7811) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (7823) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (7829) AUDIO: âœ… I2S channels created (took 0 ms)
I (7834) AUDIO:   TX handle: 0x3ffe39f0 | RX handle: 0x3ffe3ba0
I (7841) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (7848) AUDIO:   Sample rate: 16000 Hz
I (7852) AUDIO:   MCLK: DISABLED
I (7856) AUDIO:   BCLK: GPIO14 (shared)
I (7860) AUDIO:   WS:   GPIO15 (shared)
I (7865) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (7872) AUDIO: âœ… TX channel configured (took 1 ms)
I (7876) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (7883) AUDIO:   Sample rate: 16000 Hz
I (7887) AUDIO:   MCLK: DISABLED
I (7891) AUDIO:   BCLK: GPIO14 (shared)
I (7896) AUDIO:   WS:   GPIO15 (shared)
I (7900) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (7907) AUDIO: âœ… RX channel configured (took 0 ms)
I (7912) AUDIO: [STEP 4/6] Enabling TX channel...
I (7917) AUDIO: âœ… TX channel enabled (took 0 ms)
I (7922) AUDIO: [STEP 5/6] Enabling RX channel...
I (7928) AUDIO: âœ… RX channel enabled (took 0 ms)
I (7933) AUDIO: [STEP 6/6] Hardware stabilization...
I (7939) AUDIO:   Phase 1: Initial settle (50ms)
I (7673) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (7994) AUDIO:   Phase 2: DMA verification
I (7994) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (7994) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8151) AUDIO: [DIAG] Post-init state:
I (8151) AUDIO:   Free heap: 4014256 bytes
I (8151) AUDIO:   Free internal RAM: 49295 bytes
I (8154) AUDIO:   Free DMA-capable: 29079 bytes
I (8159) AUDIO:   Free PSRAM: 3985184 bytes
I (8164) AUDIO:   Timestamp: 6623 ms
I (8169) AUDIO:   Total init time: 201 ms
I (8173) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8191) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (8197) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (8203) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8211) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (8218) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8236) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8254) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (8260) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (8266) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8273) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8279) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9564) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9571) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (9578) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9596) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (9603) AUDIO: âœ… RX channel disabled (took 0 ms)
I (9608) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (9615) AUDIO: âœ… TX channel disabled (took 0 ms)
I (9620) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (9677) AUDIO: [STEP 4/5] Deleting RX channel...
I (9677) AUDIO: âœ… RX channel deleted (took 0 ms)
I (9677) AUDIO: [STEP 5/5] Deleting TX channel...
I (9682) AUDIO: âœ… TX channel deleted (took 0 ms)
I (9687) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (9745) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9751) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (9758) AUDIO: â•‘ Camera Can Now Initialize
I (9763) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (9781) HOTPIN_MAIN: Main task exiting - system running
I (9787) main_task: Returned from app_main()
I (17738) STATE_MGR: Button event received: 2 in state CAMERA_STANDBY
I (17738) STATE_MGR: Double-click detected - triggering capture sequence
I (17741) STATE_MGR: Starting camera capture sequence
I (17747) LED_CTRL: LED pattern -> 6
I (17751) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17769) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (17776) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17794) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17812) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (17820) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (17837) AUDIO: [DIAG] Pre-init state:
I (17842) AUDIO:   Free heap: 4045020 bytes
I (17847) AUDIO:   Free internal RAM: 80091 bytes
I (17852) AUDIO:   Free DMA-capable: 59875 bytes
I (17858) AUDIO:   Free PSRAM: 3985184 bytes
I (17862) AUDIO:   Timestamp: 16321 ms
I (17867) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (17874) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (17882) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (17890) AUDIO:   DMA frame num (per desc): 1020
I (17895) AUDIO:   DMA total samples (effective): 4080
I (17901) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (17908) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (17915) AUDIO: âœ… I2S channels created (took 0 ms)
I (17920) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca6b8
I (17927) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (17933) AUDIO:   Sample rate: 16000 Hz
I (17938) AUDIO:   MCLK: DISABLED
I (17942) AUDIO:   BCLK: GPIO14 (shared)
I (17947) AUDIO:   WS:   GPIO15 (shared)
I (17951) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (17958) AUDIO: âœ… TX channel configured (took 1 ms)
I (17962) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (17969) AUDIO:   Sample rate: 16000 Hz
I (17974) AUDIO:   MCLK: DISABLED
I (17978) AUDIO:   BCLK: GPIO14 (shared)
I (17983) AUDIO:   WS:   GPIO15 (shared)
I (17987) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (17993) AUDIO: âœ… RX channel configured (took 0 ms)
I (17999) AUDIO: [STEP 4/6] Enabling TX channel...
I (18004) AUDIO: âœ… TX channel enabled (took 0 ms)
I (18010) AUDIO: [STEP 5/6] Enabling RX channel...
I (18015) AUDIO: âœ… RX channel enabled (took 0 ms)
I (18021) AUDIO: [STEP 6/6] Hardware stabilization...
I (18026) AUDIO:   Phase 1: Initial settle (50ms)
I (18082) AUDIO:   Phase 2: DMA verification
I (18082) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (18083) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (18240) AUDIO: [DIAG] Post-init state:
I (18240) AUDIO:   Free heap: 4019016 bytes
I (18241) AUDIO:   Free internal RAM: 54087 bytes
I (18244) AUDIO:   Free DMA-capable: 33871 bytes
I (18249) AUDIO:   Free PSRAM: 3985184 bytes
I (18254) AUDIO:   Timestamp: 16713 ms
I (18259) AUDIO:   Total init time: 201 ms
I (18263) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18281) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (18288) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (18293) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (18302) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (18308) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18326) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18344) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (18351) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (18357) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (18364) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (18370) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18720) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18727) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (18735) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18753) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (18760) AUDIO: âœ… RX channel disabled (took 0 ms)
I (18765) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (18772) AUDIO: âœ… TX channel disabled (took 0 ms)
I (18777) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (18834) AUDIO: [STEP 4/5] Deleting RX channel...
I (18835) AUDIO: âœ… RX channel deleted (took 0 ms)
I (18835) AUDIO: [STEP 5/5] Deleting TX channel...
I (18840) AUDIO: âœ… TX channel deleted (took 0 ms)
I (18845) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (18903) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18910) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (18917) AUDIO: â•‘ Camera Can Now Initialize
I (18922) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (18940) STATE_MGR: Capturing frame from camera
I (18945) STATE_MGR: Frame captured: 10709 bytes
I (18951) JSON_PROTO: Generated session ID: hotpin-998C64-17
I (18957) STATE_MGR: Uploading image using session hotpin-998C64-17
I (18964) HTTP_CLIENT: Uploading image: session=hotpin-998C64-17, size=10709 bytes
I (18973) HTTP_CLIENT: POST body assembled: 10966 bytes
I (18979) HTTP_CLIENT: Sending POST request to http://10.57.194.58:8000/image
I (19248) HTTP_CLIENT: HTTP POST Status = 200, content_length = 199
I (19248) HTTP_CLIENT: Image uploaded successfully
I (19250) HTTP_CLIENT: Server response: {"status":"success","message":"Image received successfully","session":"hotpin-998C64-17","filename":"image.jpg","size_bytes":10709,"saved_path":"captured_images/hotpin-998C64-17_20251017_003005.jpg"}
I (19273) STATE_MGR: Image uploaded successfully
I (19277) LED_CTRL: LED pattern -> 3
I (19281) STATE_MGR: Camera capture sequence complete
I (19297) STATE_MGR: Capture complete event: success=1 (ESP_OK)
I (23473) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (23473) BUTTON: Single click confirmed
I (23473) STATE_MGR: Single click - mode toggle requested
I (23479) STATE_MGR: Switching: Camera â†’ Voice (count: 1)
I (23486) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (23491) STATE_MGR: Stopping camera...
I (23496) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23512) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (23519) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23535) STATE_MGR:   Timeout: 5000 ms
I (23540) STATE_MGR:   Timestamp: 21999 ms
I (23545) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (23550) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23567) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (23573) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23589) STATE_MGR:   Free heap before: 4044648 bytes
I (23595) STATE_MGR:   Free PSRAM before: 3985184 bytes
I (23601) CAMERA: Deinitializing camera...
I (23607) CAMERA: Camera deinitialized
I (23610) STATE_MGR:   âœ“ Camera deinitialized (took 9 ms)
I (23617) STATE_MGR:   Free heap after: 4206900 bytes
I (23622) STATE_MGR:   Free PSRAM after: 4109500 bytes
I (23628) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23644) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (23650) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23667) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (23775) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (23875) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (23925) STATE_MGR:   âœ“ Total stabilization: 250ms
I (23925) STATE_MGR:   Timestamp: 22384 ms
I (23925) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23941) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (23948) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23964) STATE_MGR:   Free heap before: 4206900 bytes
I (23970) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23988) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (23995) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24013) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24031) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (24038) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24056) AUDIO: [DIAG] Pre-init state:
I (24060) AUDIO:   Free heap: 4206900 bytes
I (24065) AUDIO:   Free internal RAM: 117795 bytes
I (24071) AUDIO:   Free DMA-capable: 97579 bytes
I (24076) AUDIO:   Free PSRAM: 4109500 bytes
I (24081) AUDIO:   Timestamp: 22540 ms
I (24085) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (24092) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (24100) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (24108) AUDIO:   DMA frame num (per desc): 1020
I (24114) AUDIO:   DMA total samples (effective): 4080
I (24120) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (24127) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (24133) AUDIO: âœ… I2S channels created (took 0 ms)
I (24138) AUDIO:   TX handle: 0x3ffafc3c | RX handle: 0x3ffca89c
I (24145) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (24152) AUDIO:   Sample rate: 16000 Hz
I (24156) AUDIO:   MCLK: DISABLED
I (24160) AUDIO:   BCLK: GPIO14 (shared)
I (24165) AUDIO:   WS:   GPIO15 (shared)
I (24170) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (24176) AUDIO: âœ… TX channel configured (took 1 ms)
I (24181) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (24188) AUDIO:   Sample rate: 16000 Hz
I (24192) AUDIO:   MCLK: DISABLED
I (24196) AUDIO:   BCLK: GPIO14 (shared)
I (24201) AUDIO:   WS:   GPIO15 (shared)
I (24206) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (24212) AUDIO: âœ… RX channel configured (took 0 ms)
I (24217) AUDIO: [STEP 4/6] Enabling TX channel...
I (24223) AUDIO: âœ… TX channel enabled (took 0 ms)
I (24228) AUDIO: [STEP 5/6] Enabling RX channel...
I (24234) AUDIO: âœ… RX channel enabled (took 0 ms)
I (24239) AUDIO: [STEP 6/6] Hardware stabilization...
I (24245) AUDIO:   Phase 1: Initial settle (50ms)
I (24300) AUDIO:   Phase 2: DMA verification
I (24300) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (24301) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (24458) AUDIO: [DIAG] Post-init state:
I (24458) AUDIO:   Free heap: 4180924 bytes
I (24459) AUDIO:   Free internal RAM: 91819 bytes
I (24462) AUDIO:   Free DMA-capable: 71603 bytes
I (24467) AUDIO:   Free PSRAM: 4109500 bytes
I (24472) AUDIO:   Timestamp: 22931 ms
I (24477) AUDIO:   Total init time: 201 ms
I (24481) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24499) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (24506) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (24511) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (24520) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (24526) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24544) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24562) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (24569) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (24575) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (24582) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (24588) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24606) STATE_MGR:   âœ“ Audio initialized (took 636 ms)
I (24612) STATE_MGR:   Free heap after: 4180924 bytes
I (24618) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24634) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (24640) STATE_MGR: â•‘ Total transition time: 895 ms
I (24646) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24662) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24678) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (24685) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24701) STT: Starting STT pipeline...
I (24705) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (24714) STT: âœ… STT pipeline started
I (24714) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (24726) STT:   Current time: 23185 ms
I (24715) STT: Audio streaming session activated
I (24736) STT: Starting audio streaming to server...
I (24730) STT:   Free heap: 4172372 bytes
I (24769) TTS: Starting TTS decoder...
I (24769) TTS: Initializing TTS decoder...
W (24770) TTS: TTS decoder already initialized
I (24773) TTS: [CORE AFFINITY] Creating TTS playback task on Core 1 (APP_CPU)
I (24780) TTS: âœ… TTS decoder started
Guru Meditation Error: Core  0 panic'ed (InstructionFetchError). Exception was unhandled.

Core  0 register dump:
PC      : 0x3f424e38  PS      : 0x00050033  A0      : 0x3f424e38  A1      : 0x3fff14f0
A2      : 0x3ffb093c  A3      : 0xffffffff  A4      : 0x3ffe6600  A5      : 0x00060d23
A6      : 0x00000000  A7      : 0x0000abab  A8      : 0x00000000  A9      : 0x3fff1590
A10     : 0x00000000  A11     : 0x00000000  A12     : 0x00000000  A13     : 0x00000000
A14     : 0x400844f2  A15     : 0x00060d23  SAR     : 0x0000002e  EXCCAUSE: 0x00000002
--- 0x400844f2: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1233
EXCVADDR: 0x3f424e38  LBEG    : 0x00000000  LEND    : 0x00000000  LCOUNT  : 0xb33fffff


Backtrace: 0x3f424e35:0x3fff14f0 |<-CORRUPTED




ELF file SHA256: c3d09d9b6

Rebooting...
ets Jul 29 2019 12:21:46

rst:0xc (SW_CPU_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Oct 17 2025 00:27:55
I (29) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=3631ch (221980) map
I (181) esp_image: segment 1: paddr=00046344 vaddr=3ff80000 size=0001ch (    28) load
I (181) esp_image: segment 2: paddr=00046368 vaddr=3ffb0000 size=09cb0h ( 40112) load
I (200) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=ba67ch (763516) map
I (461) esp_image: segment 4: paddr=0010a6a4 vaddr=3ffb9cb0 size=08014h ( 32788) load
I (473) esp_image: segment 5: paddr=001126c0 vaddr=40080000 size=1ae28h (110120) load
I (532) boot: Loaded app from partition at offset 0x10000
I (532) boot: Disabling RNG early entropy source...
I (543) quad_psram: This chip is ESP32-D0WD
I (543) esp_psram: Found 4MB PSRAM device
I (543) esp_psram: Speed: 40MHz
I (546) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (554) cpu_start: Multicore app
I (1448) esp_psram: SPI SRAM memory test OK
I (1456) cpu_start: Pro cpu start user code
I (1456) cpu_start: cpu freq: 240000000 Hz
I (1456) app_init: Application information:
I (1459) app_init: Project name:     hotpin_esp32_firmware
I (1465) app_init: App version:      8005000-dirty
I (1471) app_init: Compile time:     Oct 17 2025 00:27:31
I (1477) app_init: ELF file SHA256:  c3d09d9b6...
I (1482) app_init: ESP-IDF:          v5.4.2-dirty
I (1488) efuse_init: Min chip rev:     v0.0
I (1492) efuse_init: Max chip rev:     v3.99
I (1497) efuse_init: Chip rev:         v3.1
I (1503) heap_init: Initializing. RAM available for dynamic allocation:
I (1510) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1516) heap_init: At 3FFC9348 len 00016CB8 (91 KiB): DRAM
I (1522) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1528) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1535) heap_init: At 4009AE28 len 000051D8 (20 KiB): IRAM
I (1542) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1549) spi_flash: detected chip: generic
I (1553) spi_flash: flash io: dio
W (1557) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1572) main_task: Started on CPU0
I (1575) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1584) main_task: Calling app_main()
I (1588) HOTPIN_MAIN: ====================================
I (1594) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1600) HOTPIN_MAIN: ====================================
W (1606) HOTPIN_MAIN: Brownout detector disabled
I (1611) HOTPIN_MAIN: Validating PSRAM...
I (1616) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1622) HOTPIN_MAIN: PSRAM validation passed
I (1628) HOTPIN_MAIN: ====================================
I (1634) HOTPIN_MAIN: System Information:
I (1638) HOTPIN_MAIN: Chip: esp32
I (1642) HOTPIN_MAIN: Cores: 2
I (1646) HOTPIN_MAIN: Silicon revision: 301
I (1651) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1656) HOTPIN_MAIN: Flash: 2 MB external
I (1661) HOTPIN_MAIN: Free heap: 4365156 bytes
I (1666) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1671) HOTPIN_MAIN: ====================================
I (1677) HOTPIN_MAIN: Initializing NVS...
I (1706) HOTPIN_MAIN: NVS initialized successfully
I (1707) event_dispatcher: System event queue ready (16 entries)
I (1707) HOTPIN_MAIN: Synchronization primitives created
I (1713) HOTPIN_MAIN: Initializing WiFi...
I (1722) wifi:wifi driver task: 3ffd9f40, prio:23, stack:6656, core=0
I (1735) wifi:wifi firmware version: bea31f3
I (1736) wifi:wifi certification version: v7.0
I (1736) wifi:config NVS flash: enabled
I (1736) wifi:config nano formatting: disabled
I (1741) wifi:Init data frame dynamic rx buffer num: 32
I (1745) wifi:Init static rx mgmt buffer num: 5
I (1750) wifi:Init management short buffer num: 32
I (1754) wifi:Init dynamic tx buffer num: 32
I (1758) wifi:Init static rx buffer size: 1600
I (1762) wifi:Init static rx buffer num: 16
I (1766) wifi:Init dynamic rx buffer num: 32
I (1771) wifi_init: rx ba win: 6
I (1774) wifi_init: accept mbox: 6
I (1778) wifi_init: tcpip mbox: 32
I (1782) wifi_init: udp mbox: 6
I (1786) wifi_init: tcp mbox: 6
I (1790) wifi_init: tcp tx win: 5760
I (1794) wifi_init: tcp rx win: 5760
I (1798) wifi_init: tcp mss: 1440
I (1802) wifi_init: WiFi IRAM OP enabled
I (1807) wifi_init: WiFi RX IRAM OP enabled
I (1813) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (1890) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (1956) wifi:mode : sta (80:f3:da:99:8c:64)
I (1956) wifi:enable tsf
I (1959) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (1960) HOTPIN_MAIN: Waiting for WiFi connection...
I (1960) HOTPIN_MAIN: WiFi station started, connecting...
I (1982) wifi:new:<11,0>, old:<1,0>, ap:<255,255>, sta:<11,0>, prof:1, snd_ch_cfg:0x0
I (1983) wifi:state: init -> auth (0xb0)
I (1987) wifi:state: auth -> assoc (0x0)
I (1993) wifi:Association refused temporarily time 1100, comeback time 1200 (TUs)
I (3224) wifi:state: assoc -> assoc (0x0)
I (3228) wifi:state: assoc -> init (0x6c0)
I (3231) wifi:new:<11,0>, old:<11,0>, ap:<255,255>, sta:<11,0>, prof:1, snd_ch_cfg:0x0
W (3233) HOTPIN_MAIN: WiFi disconnected, retrying...
