PS F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware> idf.py monitor
Executing action: monitor
Serial port COM7
Connecting.....
Detecting chip type... Unsupported detection protocol, switching and trying again...
Connecting...
Detecting chip type... ESP32
Running idf_monitor in directory F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware
Executing "C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe C:\Espressif\frameworks\esp-idf-v5.4.2\tools/idf_monitor.py -p COM7 -b 115200 --toolchain-prefix xtensa-esp32-elf- --target esp32 --revision 0 F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware\build\hotpin_esp32_firmware.elf --force-color -m 'C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe' 'C:\Espressif\frameworks\esp-idf-v5.4.2\tools\idf.py'"...
--- Warning: GDB cannot open serial ports accessed as COMx
--- Using \\.\COM7 instead...
--- esp-idf-monitor 1.7.0 on \\.\COM7 115200
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Nov 12 2025 18:50:07
I (29) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=3b314h (242452) map
I (188) esp_image: segment 1: paddr=0004b33c vaddr=3ff80000 size=0001ch (    28) load
I (188) esp_image: segment 2: paddr=0004b360 vaddr=3ffb0000 size=04cb8h ( 19640) load
I (199) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=be298h (778904) map
I (466) esp_image: segment 4: paddr=0010e2c0 vaddr=3ffb4cb8 size=0d00ch ( 53260) load
I (485) esp_image: segment 5: paddr=0011b2d4 vaddr=40080000 size=1ad60h (109920) load
I (544) boot: Loaded app from partition at offset 0x10000
I (544) boot: Disabling RNG early entropy source...
I (555) quad_psram: This chip is ESP32-D0WD
I (555) esp_psram: Found 4MB PSRAM device
I (555) esp_psram: Speed: 40MHz
I (558) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (566) cpu_start: Multicore app
I (1461) esp_psram: SPI SRAM memory test OK
I (1469) cpu_start: Pro cpu start user code
I (1469) cpu_start: cpu freq: 240000000 Hz
I (1469) app_init: Application information:
I (1472) app_init: Project name:     hotpin_esp32_firmware
I (1478) app_init: App version:      10caf39-dirty
I (1483) app_init: Compile time:     Nov 12 2025 18:49:51
I (1490) app_init: ELF file SHA256:  c4c3b657e...
I (1495) app_init: ESP-IDF:          v5.4.2-dirty
I (1500) efuse_init: Min chip rev:     v0.0
I (1505) efuse_init: Max chip rev:     v3.99
I (1510) efuse_init: Chip rev:         v3.1
I (1516) heap_init: Initializing. RAM available for dynamic allocation:
I (1522) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1529) heap_init: At 3FFC9480 len 00016B80 (90 KiB): DRAM
I (1535) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1541) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1548) heap_init: At 4009AD60 len 000052A0 (20 KiB): IRAM
I (1554) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1562) spi_flash: detected chip: generic
I (1566) spi_flash: flash io: dio
W (1570) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1585) main_task: Started on CPU0
I (1588) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1597) main_task: Calling app_main()
I (1601) HOTPIN_MAIN: ====================================
I (1607) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1613) HOTPIN_MAIN: ====================================
W (1619) HOTPIN_MAIN: Brownout detector disabled
I (1624) HOTPIN_MAIN: Validating PSRAM...
I (1629) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1635) HOTPIN_MAIN: PSRAM validation passed
I (1640) HOTPIN_MAIN: ====================================
I (1647) HOTPIN_MAIN: System Information:
I (1651) HOTPIN_MAIN: Chip: esp32
I (1655) HOTPIN_MAIN: Cores: 2
I (1659) HOTPIN_MAIN: Silicon revision: 301
I (1664) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1669) HOTPIN_MAIN: Flash: 2 MB external
I (1674) HOTPIN_MAIN: Free heap: 4364844 bytes
I (1679) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1683) HOTPIN_MAIN: ====================================
I (1690) HOTPIN_MAIN: Initializing memory manager...
I (1695) MEM_MGR: Initializing memory manager...
I (1701) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1719) MEM_MGR: â•‘ Memory Manager Initialized
I (1724) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1743) MEM_MGR: â•‘ Baseline Memory State:
I (1747) MEM_MGR: â•‘   Internal RAM:     225179 bytes (219 KB)
I (1754) MEM_MGR: â•‘   DMA-capable:      204763 bytes (199 KB)
I (1761) MEM_MGR: â•‘   PSRAM:            4192016 bytes (4093 KB)
I (1767) MEM_MGR: â•‘   Total Heap:       4364748 bytes (4262 KB)
I (1774) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1793) MEM_MGR: â•‘ Configured Thresholds:
I (1797) MEM_MGR: â•‘   Internal RAM:     WARN=50KB, CRIT=20KB
I (1804) MEM_MGR: â•‘   DMA-capable:      WARN=35KB, CRIT=20KB
I (1810) MEM_MGR: â•‘   PSRAM:            WARN=500KB, CRIT=200KB
I (1817) MEM_MGR: â•‘   Fragmentation:    WARN=30%, CRIT=50%
I (1824) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1842) MEM_MGR: Starting memory monitoring (interval: 15000 ms)
I (1849) MEM_MGR: âœ… Memory monitoring started
I (1849) MEM_MGR: Memory monitor task started (interval: 15000 ms)
I (1854) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
W (1861) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:46% PSRAM:2%
I (1879) MEM_MGR: â•‘ Memory Statistics - System Boot
I (1893) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1911) MEM_MGR: â•‘ Internal RAM:
I (1916) MEM_MGR: â•‘   Free:             225179 bytes (219 KB)
I (1922) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (1929) MEM_MGR: â•‘   Fragmentation:     51%
I (1934) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1952) MEM_MGR: â•‘ DMA-capable RAM:
I (1957) MEM_MGR: â•‘   Free:             204763 bytes (199 KB)
I (1963) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (1970) MEM_MGR: â•‘   Fragmentation:     46%
I (1975) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1993) MEM_MGR: â•‘ PSRAM:
I (1997) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (2004) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (2010) MEM_MGR: â•‘   Fragmentation:      2%
I (2015) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2034) MEM_MGR: â•‘ Total Heap:
I (2038) MEM_MGR: â•‘   Free:             4364748 bytes (4262 KB)
I (2045) MEM_MGR: â•‘   Minimum Ever:     4364748 bytes (4262 KB)
I (2051) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2070) MEM_MGR: â•‘ Memory Delta from Baseline:
I (2075) MEM_MGR: â•‘   Internal RAM:          +0 bytes (  +0 KB)
I (2082) MEM_MGR: â•‘   DMA-capable:           +0 bytes (  +0 KB)
I (2089) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (2095) MEM_MGR: â•‘   Total Heap:            +0 bytes (  +0 KB)
I (2102) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2120) HOTPIN_MAIN: Initializing NVS...
I (2150) HOTPIN_MAIN: NVS initialized successfully
I (2150) event_dispatcher: System event queue ready (16 entries)
I (2151) HOTPIN_MAIN: Synchronization primitives created
I (2157) HOTPIN_MAIN: Initializing WiFi...
I (2166) wifi:wifi driver task: 3ffdaa40, prio:23, stack:6656, core=0
I (2179) wifi:wifi firmware version: bea31f3
I (2179) wifi:wifi certification version: v7.0
I (2179) wifi:config NVS flash: enabled
I (2180) wifi:config nano formatting: disabled
I (2184) wifi:Init data frame dynamic rx buffer num: 32
I (2189) wifi:Init static rx mgmt buffer num: 5
I (2193) wifi:Init management short buffer num: 32
I (2198) wifi:Init dynamic tx buffer num: 32
I (2202) wifi:Init static rx buffer size: 1600
I (2206) wifi:Init static rx buffer num: 10
I (2210) wifi:Init dynamic rx buffer num: 32
I (2215) wifi_init: rx ba win: 6
I (2218) wifi_init: accept mbox: 6
I (2222) wifi_init: tcpip mbox: 32
I (2226) wifi_init: udp mbox: 6
I (2230) wifi_init: tcp mbox: 6
I (2233) wifi_init: tcp tx win: 5760
I (2238) wifi_init: tcp rx win: 5760
I (2242) wifi_init: tcp mss: 1440
I (2246) wifi_init: WiFi IRAM OP enabled
I (2251) wifi_init: WiFi RX IRAM OP enabled
I (2257) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (2327) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (2393) wifi:mode : sta (80:f3:da:ac:63:70)
I (2394) wifi:enable tsf
I (2396) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (2397) HOTPIN_MAIN: Waiting for WiFi connection...
I (2397) HOTPIN_MAIN: WiFi station started, connecting...
I (2424) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (2426) wifi:state: init -> auth (0xb0)
I (3568) wifi:state: auth -> assoc (0x0)
I (3582) wifi:state: assoc -> run (0x10)
I (3609) wifi:connected with wifi, aid = 2, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (3610) wifi:security: WPA3-SAE, phy: bgn, rssi: -64
I (3614) wifi:pm start, type: 1

I (3614) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (3627) HOTPIN_MAIN: WiFi connected to AP
I (3628) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (3655) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (3655) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (4659) esp_netif_handlers: sta ip: 10.140.162.204, mask: 255.255.255.0, gw: 10.140.162.215
I (4660) HOTPIN_MAIN: âœ… Got IP address: 10.140.162.204
I (4664) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (7411) HOTPIN_MAIN: Initializing button handler...
I (7411) BUTTON: Initializing button handler on GPIO 12
I (7412) gpio: GPIO[12]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (7421) BUTTON: Button FSM task started
I (7426) BUTTON: GPIO ISR service installed successfully
I (7431) BUTTON: Button handler initialized successfully (initial level=1, primed=1)
I (7440) HOTPIN_MAIN: Initializing LED controller...
I (7445) LED_CTRL: Initializing LED controller on GPIO 33
I (7452) LED_CTRL: LED controller ready
I (7456) LED_CTRL: LED pattern -> 2
I (7460) HOTPIN_MAIN: Initializing WebSocket client...
I (7466) WEBSOCKET: Initializing WebSocket client...
I (7472) WEBSOCKET: Server URI: ws://10.140.162.58:8000/ws
I (7478) WEBSOCKET: Authorization header configured
I (7484) WEBSOCKET: âœ… WebSocket client initialized
I (7489) WEBSOCKET: Status callback registered
I (7494) HOTPIN_MAIN: WebSocket status callback registered
I (7500) HOTPIN_MAIN: Initializing HTTP client...
I (7506) HTTP_CLIENT: Initializing HTTP client
I (7511) HTTP_CLIENT: Authorization token configured
I (7516) HTTP_CLIENT: HTTP client initialized (server: http://10.140.162.58:8000)
I (7525) HOTPIN_MAIN: Initializing STT pipeline...
I (7530) STT: Initializing STT pipeline...
I (7535) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7553) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7559) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7577) STT: [MEMORY] Pre-allocation state:
I (7582) STT:   Free internal RAM: 166415 bytes
I (7587) STT:   Free DMA-capable: 145999 bytes
I (7592) STT:   Free PSRAM: 4126020 bytes
I (7597) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7605) STT:   âœ“ Ring buffer allocated at 0x3f810ac0 (PSRAM address)
I (7612) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7621) STT: [MEMORY] Post-allocation state:
I (7626) STT:   Free internal RAM: 166415 bytes
I (7631) STT:   Free DMA-capable: 145999 bytes
I (7636) STT:   Free PSRAM: 4060480 bytes
I (7647) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7649) STT: Persistent audio streaming task started on Core 0
I (7655) STT:   âœ“ Stream buffer allocated at 0x3ffd1ac8 (with safety padding)
I (7663) STT: âœ… STT pipeline initialized
I (7668) HOTPIN_MAIN: Initializing TTS decoder...
I (7673) TTS: Initializing TTS decoder...
I (7678) TTS: Allocating 327680 byte PSRAM buffer for TTS stream
I (7685) TTS:   PSRAM available: 4060480 bytes (3965 KB)
I (7691) TTS:   âœ“ TTS stream buffer allocated at 0x3f820ac4
I (7740) WEBSOCKET: Audio callback registered
I (7741) TTS: âœ… TTS decoder initialized
I (7741) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7748) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7753) HOTPIN_MAIN: State manager task created on Core 1
I (7753) STATE_MGR: State manager task started on Core 1
I (7759) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7765) STATE_MGR: Priority: 10
I (7772) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...
I (7776) STATE_MGR: Starting in camera mode...
I (7783) WEBSOCKET: Connecting to WebSocket server...
I (7788) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7799) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7802) websocket_client: Started
I (7818) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (7822) WEBSOCKET: WebSocket client started (health check disabled - managed by main connection task)
I (7829) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7759) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7857) MEM_MGR: â•‘ Internal RAM:
I (7864) HOTPIN_MAIN: Configuring task watchdog for critical tasks...
I (7868) MEM_MGR: â•‘   Free:             222771 bytes (217 KB)
I (7875) HOTPIN_MAIN: âœ… State manager task added to watchdog
I (7882) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (7888) HOTPIN_MAIN: âœ… WebSocket connection task added to watchdog
I (7895) MEM_MGR: â•‘   Fragmentation:     51%
I (7902) HOTPIN_MAIN: Task watchdog configuration complete
I (7907) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7913) HOTPIN_MAIN: ====================================
I (7932) MEM_MGR: â•‘ DMA-capable RAM:
I (7938) HOTPIN_MAIN: System initialization complete!
I (7942) MEM_MGR: â•‘   Free:             202355 bytes (197 KB)
I (7948) HOTPIN_MAIN: Entering camera standby mode...
I (7955) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (7960) HOTPIN_MAIN: ====================================
I (7967) MEM_MGR: â•‘   Fragmentation:     46%
I (7973) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7978) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7996) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (8014) MEM_MGR: â•‘ PSRAM:
I (8021) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8025) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (8043) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (8050) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (8057) AUDIO:   âœ“ I2S access mutex created successfully
I (8064) MEM_MGR: â•‘   Fragmentation:      2%
I (8070) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8075) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8093) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (8111) MEM_MGR: â•‘ Total Heap:
I (8118) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8122) MEM_MGR: â•‘   Free:             4362340 bytes (4260 KB)
I (8140) AUDIO: [DIAG] Pre-init state:
I (8147) MEM_MGR: â•‘   Minimum Ever:     4362340 bytes (4260 KB)
I (8152) AUDIO:   Free heap: 3834464 bytes
I (8158) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8164) AUDIO:   Free internal RAM: 122111 bytes
I (8181) MEM_MGR: â•‘ Memory Delta from Baseline:
I (8187) AUDIO:   Free DMA-capable: 101767 bytes
I (8192) MEM_MGR: â•‘   Internal RAM:       -2408 bytes (  -2 KB)
I (8197) AUDIO:   Free PSRAM: 3732660 bytes
I (8204) MEM_MGR: â•‘   DMA-capable:        -2408 bytes (  -2 KB)
I (8209) AUDIO:   Timestamp: 6655 ms
I (8216) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (8220) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (8227) MEM_MGR: â•‘   Total Heap:         -2408 bytes (  -2 KB)
I (8234) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (8240) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8248) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (8267) STATE_MGR: Acquiring I2S mutex...
I (8275) AUDIO:   DMA frame num (per desc): 1020
I (8285) AUDIO:   DMA total samples (effective): 4080
I (8290) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (8297) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (8304) AUDIO: âœ… I2S channels created (took 0 ms)
I (8309) AUDIO:   TX handle: 0x3ffe1a9c | RX handle: 0x3ffe1c4c
I (8316) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (8322) AUDIO:   Sample rate: 16000 Hz
I (8327) AUDIO:   MCLK: DISABLED
I (8331) AUDIO:   BCLK: GPIO14 (shared)
I (8335) AUDIO:   WS:   GPIO15 (shared)
I (8340) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (8347) AUDIO: âœ… TX channel configured (took 1 ms)
I (8351) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (8358) AUDIO:   Sample rate: 16000 Hz
I (8362) AUDIO:   MCLK: DISABLED
I (8367) AUDIO:   BCLK: GPIO14 (shared)
I (8371) AUDIO:   WS:   GPIO15 (shared)
I (8375) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (8382) AUDIO: âœ… RX channel configured (took 1 ms)
I (8386) AUDIO: [STEP 4/6] Enabling TX channel...
I (8387) WEBSOCKET: âœ… WebSocket connected to server
I (8392) AUDIO: âœ… TX channel enabled (took 0 ms)
I (8398) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (8403) AUDIO: [STEP 5/6] Enabling RX channel...
I (8413) WEBSOCKET: Handshake sent successfully
I (8416) AUDIO: âœ… RX channel enabled (took 0 ms)
I (8421) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (8426) AUDIO: [STEP 6/6] Hardware stabilization...
I (8439) AUDIO:   Phase 1: Initial settle (50ms)
I (8448) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (8474) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (8474) WEBSOCKET: Server status: connected
I (8494) AUDIO:   Phase 2: DMA verification
I (8494) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (8494) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8651) AUDIO: [DIAG] Post-init state:
I (8651) AUDIO:   Free heap: 3808440 bytes
I (8651) AUDIO:   Free internal RAM: 96203 bytes
I (8654) AUDIO:   Free DMA-capable: 75787 bytes
I (8660) AUDIO:   Free PSRAM: 3732660 bytes
I (8664) AUDIO:   Timestamp: 7110 ms
I (8669) AUDIO:   Total init time: 202 ms
I (8673) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8691) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (8697) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (8703) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8711) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (8718) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8736) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8754) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (8760) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (8767) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8773) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8779) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10039) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10046) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (10054) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10072) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (10078) AUDIO: âœ… RX channel disabled (took 0 ms)
I (10084) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (10090) AUDIO: âœ… TX channel disabled (took 0 ms)
I (10096) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (10153) AUDIO: [STEP 4/5] Deleting RX channel...
I (10153) AUDIO: âœ… RX channel deleted (took 0 ms)
I (10153) AUDIO: [STEP 5/5] Deleting TX channel...
I (10158) AUDIO: âœ… TX channel deleted (took 0 ms)
I (10164) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (10221) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10228) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (10234) AUDIO: â•‘ Camera Can Now Initialize
I (10239) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10257) LED_CTRL: LED pattern -> 3
I (10257) STATE_MGR: Audio drivers already inactive; skipping deinit
I (10261) HOTPIN_MAIN: Main task exiting - system running
I (10268) STATE_MGR: Allowing memory stabilization (100ms)...
I (10274) main_task: Returned from app_main()
I (10381) STATE_MGR: Camera will be initialized on-demand during capture
I (10381) STATE_MGR: I2S mutex released
I (10382) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10400) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (10407) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10426) MEM_MGR: â•‘ Internal RAM:
I (10430) MEM_MGR: â•‘   Free:             222771 bytes (217 KB)
I (10437) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (10443) MEM_MGR: â•‘   Fragmentation:     51%
I (10449) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10467) MEM_MGR: â•‘ DMA-capable RAM:
I (10471) MEM_MGR: â•‘   Free:             202355 bytes (197 KB)
I (10478) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (10485) MEM_MGR: â•‘   Fragmentation:     46%
I (10490) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10508) MEM_MGR: â•‘ PSRAM:
I (10512) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (10519) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (10526) MEM_MGR: â•‘   Fragmentation:      2%
I (10531) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10549) MEM_MGR: â•‘ Total Heap:
I (10553) MEM_MGR: â•‘   Free:             4362340 bytes (4260 KB)
I (10560) MEM_MGR: â•‘   Minimum Ever:     4362340 bytes (4260 KB)
I (10567) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10586) MEM_MGR: â•‘ Memory Delta from Baseline:
I (10591) MEM_MGR: â•‘   Internal RAM:       -2408 bytes (  -2 KB)
I (10598) MEM_MGR: â•‘   DMA-capable:        -2408 bytes (  -2 KB)
I (10605) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (10612) MEM_MGR: â•‘   Total Heap:         -2408 bytes (  -2 KB)
I (10619) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10637) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (10646) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (10662) STATE_MGR: âœ… WebSocket connected
I (13172) STATE_MGR: Button event received: 2 in state CAMERA_STANDBY
I (13172) STATE_MGR: Double-click detected - triggering capture sequence
I (13175) STATE_MGR: Starting camera capture sequence
I (13181) LED_CTRL: LED pattern -> 6
I (13185) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13203) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (13210) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13228) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13246) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (13253) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13271) AUDIO: [DIAG] Pre-init state:
I (13276) AUDIO:   Free heap: 3838908 bytes
I (13281) AUDIO:   Free internal RAM: 126751 bytes
I (13286) AUDIO:   Free DMA-capable: 106335 bytes
I (13292) AUDIO:   Free PSRAM: 3732660 bytes
I (13297) AUDIO:   Timestamp: 11742 ms
I (13301) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (13308) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (13316) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (13324) AUDIO:   DMA frame num (per desc): 1020
I (13329) AUDIO:   DMA total samples (effective): 4080
I (13335) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (13342) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (13349) AUDIO: âœ… I2S channels created (took 0 ms)
I (13354) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca7f0
I (13361) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (13367) AUDIO:   Sample rate: 16000 Hz
I (13372) AUDIO:   MCLK: DISABLED
I (13376) AUDIO:   BCLK: GPIO14 (shared)
I (13381) AUDIO:   WS:   GPIO15 (shared)
I (13385) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (13392) AUDIO: âœ… TX channel configured (took 1 ms)
I (13397) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (13403) AUDIO:   Sample rate: 16000 Hz
I (13408) AUDIO:   MCLK: DISABLED
I (13412) AUDIO:   BCLK: GPIO14 (shared)
I (13417) AUDIO:   WS:   GPIO15 (shared)
I (13421) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (13427) AUDIO: âœ… RX channel configured (took 0 ms)
I (13433) AUDIO: [STEP 4/6] Enabling TX channel...
I (13438) AUDIO: âœ… TX channel enabled (took 0 ms)
I (13444) AUDIO: [STEP 5/6] Enabling RX channel...
I (13449) AUDIO: âœ… RX channel enabled (took 0 ms)
I (13455) AUDIO: [STEP 6/6] Hardware stabilization...
I (13460) AUDIO:   Phase 1: Initial settle (50ms)
I (13516) AUDIO:   Phase 2: DMA verification
I (13516) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (13517) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (13674) AUDIO: [DIAG] Post-init state:
I (13674) AUDIO:   Free heap: 3812920 bytes
I (13674) AUDIO:   Free internal RAM: 100747 bytes
I (13678) AUDIO:   Free DMA-capable: 80331 bytes
I (13683) AUDIO:   Free PSRAM: 3732660 bytes
I (13688) AUDIO:   Timestamp: 12134 ms
I (13693) AUDIO:   Total init time: 201 ms
I (13698) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13715) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (13722) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (13727) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (13736) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (13742) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13760) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (13778) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (13785) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (13791) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (13798) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (13804) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14154) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14161) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (14169) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14187) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (14194) AUDIO: âœ… RX channel disabled (took 0 ms)
I (14199) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (14206) AUDIO: âœ… TX channel disabled (took 0 ms)
I (14211) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (14268) AUDIO: [STEP 4/5] Deleting RX channel...
I (14269) AUDIO: âœ… RX channel deleted (took 0 ms)
I (14269) AUDIO: [STEP 5/5] Deleting TX channel...
I (14274) AUDIO: âœ… TX channel deleted (took 0 ms)
I (14279) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (14337) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14344) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (14350) AUDIO: â•‘ Camera Can Now Initialize
I (14356) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (14374) STATE_MGR: Capturing frame from camera
I (14379) CAMERA: Initializing camera...
I (14384) gpio: GPIO[4]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (14393) CAMERA: Flash LED initialized on GPIO 4
I (14398) gpio: GPIO[25]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:2
E (14408) gpio: gpio_install_isr_service(503): GPIO isr service already installed
I (14416) cam_hal: cam init ok
I (14420) sccb-ng: pin_sda 26 pin_scl 27
I (14424) sccb-ng: sccb_i2c_port=1
I (14429) gpio: GPIO[32]| InputEn: 0| OutputEn: 1| OpenDrain: 0| Pullup: 0| Pulldown: 0| Intr:0
I (14472) camera: Camera PID=0x26 VER=0x42 MIDL=0x7f MIDH=0xa2
I (14472) camera: Detected OV2640 camera
I (14472) camera: Detected camera at address=0x30
I (14554) cam_hal: PSRAM DMA mode disabled
I (14554) cam_hal: buffer_size: 32768, half_buffer_size: 4096, node_buffer_size: 2048, node_cnt: 16, total_cnt: 15
I (14559) cam_hal: Allocating 61440 Byte frame buffer in PSRAM
I (14565) cam_hal: cam config ok
I (14569) ov2640: Set PLL: clk_2x: 0, clk_div: 0, pclk_auto: 0, pclk_div: 8
I (14651) CAMERA: Camera initialized successfully
I (15202) STATE_MGR: Frame captured: 13435 bytes
I (15202) STATE_MGR: Uploading image using session esp32-cam-hotpin
I (15203) HTTP_CLIENT: Uploading image: session=esp32-cam-hotpin, size=13435 bytes
I (15213) HTTP_CLIENT: POST body assembled: 13692 bytes
I (15218) HTTP_CLIENT: Sending POST request to http://10.140.162.58:8000/image
I (15335) HTTP_CLIENT: HTTP POST Status = 200, content_length = 245
I (15335) HTTP_CLIENT: Image uploaded successfully
I (15337) HTTP_CLIENT: Server response: {"status":"success","message":"Image received and stored for next voice interaction","session":"esp32-cam-hotpin","filename":"image.jpg","size_bytes":13435,"saved_path":"captured_images/esp32-cam-hotpin_20251112_185137.jpg","context_ready":true}
I (15364) CAMERA: Deinitializing camera...
I (15369) CAMERA: Camera deinitialized
I (15372) STATE_MGR: Camera deinitialized - DMA memory freed
I (15378) STATE_MGR: Image uploaded successfully
I (15383) LED_CTRL: LED pattern -> 3
I (15388) STATE_MGR: Camera capture sequence complete
I (15403) STATE_MGR: Capture complete event: success=1 (ESP_OK)
I (19500) BUTTON: Single click confirmed
I (19500) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (19501) STATE_MGR: Single click - mode toggle requested
I (19507) STATE_MGR: Switching: Camera â†’ Voice (count: 1)
I (19563) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (19563) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19576) MEM_MGR: â•‘ Memory Statistics - Before Voice Transition
I (19583) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19602) MEM_MGR: â•‘ Internal RAM:
I (19606) MEM_MGR: â•‘   Free:             126263 bytes (123 KB)
I (19612) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (19619) MEM_MGR: â•‘   Fragmentation:     26%
I (19624) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19643) MEM_MGR: â•‘ DMA-capable RAM:
I (19647) MEM_MGR: â•‘   Free:             105847 bytes (103 KB)
I (19654) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (19661) MEM_MGR: â•‘   Fragmentation:     11%
I (19666) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19684) MEM_MGR: â•‘ PSRAM:
I (19688) MEM_MGR: â•‘   Free:             3732660 bytes (3645 KB)
I (19695) MEM_MGR: â•‘   Largest Block:    3670016 bytes (3584 KB)
I (19702) MEM_MGR: â•‘   Fragmentation:      2%
I (19707) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19725) MEM_MGR: â•‘ Total Heap:
I (19729) MEM_MGR: â•‘   Free:             3838436 bytes (3748 KB)
I (19736) MEM_MGR: â•‘   Minimum Ever:     3697872 bytes (3611 KB)
I (19743) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19761) MEM_MGR: â•‘ Memory Delta from Baseline:
I (19767) MEM_MGR: â•‘   Internal RAM:      -98916 bytes ( -96 KB)
I (19774) MEM_MGR: â•‘   DMA-capable:       -98916 bytes ( -96 KB)
I (19781) MEM_MGR: â•‘   PSRAM:            -459356 bytes (-448 KB)
I (19787) MEM_MGR: â•‘   Total Heap:       -526312 bytes (-513 KB)
I (19794) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19813) STATE_MGR: Stopping camera...
I (19817) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19833) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (19840) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19857) STATE_MGR:   Timeout: 5000 ms
I (19861) STATE_MGR:   Timestamp: 18307 ms
I (19866) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (19872) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19888) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (19894) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19911) STATE_MGR:   Free heap before: 3838436 bytes
I (19916) STATE_MGR:   Free PSRAM before: 3732660 bytes
I (19922) CAMERA: Deinitializing camera...
I (19927) STATE_MGR:   âœ“ Camera deinitialized (took 4 ms)
I (19933) STATE_MGR:   Free heap after: 3838436 bytes
I (19939) STATE_MGR:   Free PSRAM after: 3732660 bytes
I (19945) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19961) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (19967) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (19984) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (20092) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (20192) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (20242) STATE_MGR:   âœ“ Total stabilization: 250ms
I (20242) STATE_MGR:   Timestamp: 18688 ms
I (20242) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20258) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (20264) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20281) STATE_MGR:   Free heap before: 3838436 bytes
I (20287) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20305) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (20312) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20330) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20348) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (20355) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20373) AUDIO: [DIAG] Pre-init state:
I (20377) AUDIO:   Free heap: 3838436 bytes
I (20382) AUDIO:   Free internal RAM: 126263 bytes
I (20388) AUDIO:   Free DMA-capable: 105847 bytes
I (20393) AUDIO:   Free PSRAM: 3732660 bytes
I (20398) AUDIO:   Timestamp: 18844 ms
I (20402) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (20409) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (20417) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (20425) AUDIO:   DMA frame num (per desc): 1020
I (20431) AUDIO:   DMA total samples (effective): 4080
I (20437) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (20443) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (20450) AUDIO: âœ… I2S channels created (took 0 ms)
I (20456) AUDIO:   TX handle: 0x3ffd4ecc | RX handle: 0x3ffca850
I (20462) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (20469) AUDIO:   Sample rate: 16000 Hz
I (20473) AUDIO:   MCLK: DISABLED
I (20477) AUDIO:   BCLK: GPIO14 (shared)
I (20482) AUDIO:   WS:   GPIO15 (shared)
I (20487) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (20494) AUDIO: âœ… TX channel configured (took 1 ms)
I (20498) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (20505) AUDIO:   Sample rate: 16000 Hz
I (20509) AUDIO:   MCLK: DISABLED
I (20513) AUDIO:   BCLK: GPIO14 (shared)
I (20518) AUDIO:   WS:   GPIO15 (shared)
I (20523) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (20529) AUDIO: âœ… RX channel configured (took 0 ms)
I (20534) AUDIO: [STEP 4/6] Enabling TX channel...
I (20540) AUDIO: âœ… TX channel enabled (took 0 ms)
I (20545) AUDIO: [STEP 5/6] Enabling RX channel...
I (20551) AUDIO: âœ… RX channel enabled (took 0 ms)
I (20556) AUDIO: [STEP 6/6] Hardware stabilization...
I (20562) AUDIO:   Phase 1: Initial settle (50ms)
I (20617) AUDIO:   Phase 2: DMA verification
I (20617) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (20618) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (20774) AUDIO: [DIAG] Post-init state:
I (20774) AUDIO:   Free heap: 3812452 bytes
I (20774) AUDIO:   Free internal RAM: 100279 bytes
I (20778) AUDIO:   Free DMA-capable: 79863 bytes
I (20783) AUDIO:   Free PSRAM: 3732660 bytes
I (20788) AUDIO:   Timestamp: 19234 ms
I (20793) AUDIO:   Total init time: 201 ms
I (20798) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20815) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (20822) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (20827) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (20836) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (20842) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20860) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20878) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (20885) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (20891) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (20898) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (20904) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20922) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (20929) STATE_MGR:   Free heap after: 3812452 bytes
I (20934) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20950) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (20956) STATE_MGR: â•‘ Total transition time: 889 ms
I (20962) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20978) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20994) STATE_MGR: â•‘ STEP 6: Starting STT pipeline (TTS will start when server begins responding)
I (21004) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21020) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (21028) TTS: No pending audio to flush
I (21078) TTS: TTS decoder session reset for next audio stream
I (21078) TTS: âœ… TTS decoder flushed and reset for next session
I (21081) STT: Starting STT pipeline...
I (21085) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (21094) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (21101) STT:   Current time: 19547 ms
I (21104) STT: âœ… STT pipeline started
I (21106) STT:   Free heap: 3803900 bytes
I (21110) STATE_MGR: TTS decoder will start automatically when server begins TTS streaming
I (21106) STT: Audio streaming session activated
I (21129) STT: Connection stabilization delay (2000ms)...
I (21315) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (21315) STT:   âœ“ Audio driver initialized
I (21316) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (21423) STT:   Total stabilization: 300ms
I (21423) STT:   Timestamp: 19868 ms
I (21423) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (21427) STT:   âœ“ DMA-capable buffer allocated at 0x3ffca9d4 (with safety padding)
I (21436) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21449) LED_CTRL: LED pattern -> 1
I (21452) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE
I (21456) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21461) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms
I (21480) MEM_MGR: â•‘ Memory Statistics - After Voice Transition
I (21486) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21493) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21527) MEM_MGR: â•‘ Internal RAM:
I (21531) MEM_MGR: â•‘   Free:             126263 bytes (123 KB)
I (21538) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (21545) MEM_MGR: â•‘   Fragmentation:     26%
I (21550) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21568) MEM_MGR: â•‘ DMA-capable RAM:
I (21573) MEM_MGR: â•‘   Free:             105847 bytes (103 KB)
I (21580) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (21586) MEM_MGR: â•‘   Fragmentation:     11%
I (21592) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21610) MEM_MGR: â•‘ PSRAM:
I (21614) MEM_MGR: â•‘   Free:             3732660 bytes (3645 KB)
I (21620) MEM_MGR: â•‘   Largest Block:    3670016 bytes (3584 KB)
I (21627) MEM_MGR: â•‘   Fragmentation:      2%
I (21633) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21651) MEM_MGR: â•‘ Total Heap:
I (21655) MEM_MGR: â•‘   Free:             3838436 bytes (3748 KB)
I (21662) MEM_MGR: â•‘   Minimum Ever:     3697872 bytes (3611 KB)
I (21669) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21687) MEM_MGR: â•‘ Memory Delta from Baseline:
I (21693) MEM_MGR: â•‘   Internal RAM:      -98916 bytes ( -96 KB)
I (21699) MEM_MGR: â•‘   DMA-capable:       -98916 bytes ( -96 KB)
I (21706) MEM_MGR: â•‘   PSRAM:            -459356 bytes (-448 KB)
I (21713) MEM_MGR: â•‘   Total Heap:       -526312 bytes (-513 KB)
I (21720) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21738) STATE_MGR: âœ… Voice mode transition complete
I (21744) STATE_MGR: âœ… Entered VOICE_ACTIVE state
I (21760) STATE_MGR: STT pipeline reported start
I (23135) STT: Starting audio streaming to server...
E (23419) transport_ws: Error transport_poll_write
E (23420) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (23426) WEBSOCKET: âŒ WebSocket error occurred
W (23431) TTS: Rejecting audio chunks - TTS decoder not running (chunks rejected: 1, last: 0 bytes)
E (23441) STATE_MGR: âŒ WebSocket error - visual feedback only, staying in current state
E (23441) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (23450) LED_CTRL: LED pattern -> 4
W (23460) WEBSOCKET: âš ï¸ WebSocket disconnected
I (23460) STATE_MGR: ğŸ“± Staying in VOICE_ACTIVE - audio drivers remain initialized
W (23466) HOTPIN_MAIN: âš ï¸ WebSocket status callback: DISCONNECTED
I (23474) STATE_MGR: ğŸ’¡ Press button to exit voice mode, or wait for automatic reconnection
E (23461) websocket_client: esp_transport_poll_read() returned -1, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=9
W (23500) STATE_MGR: âš ï¸ WebSocket disconnected - visual feedback only, staying in current state
E (23503) WEBSOCKET: âŒ WebSocket error occurred
E (23518) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (23512) STATE_MGR: ğŸ“± Staying in VOICE_ACTIVE - audio drivers remain initialized
E (23525) websocket_client: esp_websocket_client_abort_connection(239): Websocket already stop
I (23532) STATE_MGR: ğŸ’¡ Press button to exit voice mode, or wait for automatic reconnection
W (23466) HOTPIN_MAIN: âš ï¸ WebSocket link not healthy, initiating reconnection sequence
I (23560) WEBSOCKET: Force stopping WebSocket client
E (23561) STATE_MGR: âŒ WebSocket error - visual feedback only, staying in current state
W (23481) WEBSOCKET: WebSocket send buffer full (0 bytes sent), yielding and retrying (attempt 1/4)
I (23574) STATE_MGR: ğŸ“± Staying in VOICE_ACTIVE - audio drivers remain initialized
W (23565) websocket_client: Client was not started
I (23592) STATE_MGR: ğŸ’¡ Press button to exit voice mode, or wait for automatic reconnection
W (23598) WEBSOCKET: Graceful close returned ESP_FAIL
W (23675) STT: âš  Ring buffer full - dropping 1024 bytes (read #73)
W (23675) STT: Buffer critically full - implementing backpressure (0 bytes free)
E (23684) WEBSOCKET: WebSocket connection lost before send attempt 2
E (23686) STT: WebSocket disconnected during audio send - aborting stream
I (23693) STT: Streaming task received stop signal
W (23699) STT: Audio streaming aborted due to transport errors
W (23705) STT: Skipping EOS - WebSocket disconnected
I (23711) STT: Audio streaming session complete (streamed 4096 bytes in 1 chunks)
I (23727) STATE_MGR: STT pipeline reported stop
I (23727) STATE_MGR: â³ Awaiting server transcription response (blocking mode transitions)
I (23733) LED_CTRL: LED pattern -> 1
I (24613) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 2)...
I (24613) WEBSOCKET: Connecting to WebSocket server...
I (24618) websocket_client: Started
I (24622) WEBSOCKET: WebSocket client started (health check disabled - managed by main connection task)
I (24640) WEBSOCKET: âœ… WebSocket connected to server
I (24641) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (24646) WEBSOCKET: Handshake sent successfully
I (24648) STATE_MGR: âœ… WebSocket connected
I (24649) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
E (24682) STT: Buffer still full after backpressure wait - continuing with reduced sampling
I (24688) STT: Audio capture task stopped (captured 73728 bytes total)
I (24704) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (24704) WEBSOCKET: Server status: connected
I (24832) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (26481) WEBSOCKET: Connecting to WebSocket server...
I (28461) WEBSOCKET: Connecting to WebSocket server...
I (30105) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (30105) BUTTON: Single click confirmed
W (30105) STATE_MGR: â³ Awaiting server transcription (EOS sent) - please wait for response
W (30114) STATE_MGR: Guardrail blocked request: Server receiving audio - please wait
W (54832) HOTPIN_MAIN: âš ï¸ Connection health check timeout - forcing reconnect to prevent stale connection
W (54832) HOTPIN_MAIN: âš ï¸ WebSocket link not healthy, initiating reconnection sequence
I (54840) WEBSOCKET: Force stopping WebSocket client
W (55079) websocket_client: Client was not started
W (55079) WEBSOCKET: Force stop returned ESP_FAIL
I (56079) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 3)...
I (56080) WEBSOCKET: Connecting to WebSocket server...
I (56083) websocket_client: Started
I (56088) WEBSOCKET: WebSocket client started (health check disabled - managed by main connection task)
I (56707) WEBSOCKET: âœ… WebSocket connected to server
I (56708) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (56713) WEBSOCKET: Handshake sent successfully
I (56715) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (56721) STATE_MGR: âœ… WebSocket connected
I (56770) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (56770) WEBSOCKET: Server status: connected
I (56896) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (59914) BUTTON: Single click confirmed
I (59914) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
W (59914) STATE_MGR: â³ Awaiting server transcription (EOS sent) - please wait for response
W (59923) STATE_MGR: Guardrail blocked request: Server receiving audio - please wait
I (63353) STATE_MGR: Button event received: 2 in state VOICE_ACTIVE
W (63353) STATE_MGR: â³ Awaiting server transcription (EOS sent) - please wait for response
W (63358) STATE_MGR: Guardrail blocked request: Server receiving audio - please wait
