PS F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware> idf.py monitor
Executing action: monitor
Serial port COM7
Connecting....
Detecting chip type... Unsupported detection protocol, switching and trying again...
Connecting...
Detecting chip type... ESP32
Running idf_monitor in directory F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware
Executing "C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe C:\Espressif\frameworks\esp-idf-v5.4.2\tools/idf_monitor.py -p COM7 -b 115200 --toolchain-prefix xtensa-esp32-elf- --target esp32 --revision 0 F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware\build\hotpin_esp32_firmware.elf --force-color -m 'C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe' 'C:\Espressif\frameworks\esp-idf-v5.4.2\tools\idf.py'"...
--- Warning: GDB cannot open serial ports accessed as COMx
--- Using \\.\COM7 instead...
--- esp-idf-monitor 1.7.0 on \\.\COM7 115200
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:6276
load:0x40078000,len:15736
load:0x40080400,len:4
--- 0x40080400: _init at ??:?
load:0x40080404,len:3860
entry 0x4008063c
I (29) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (29) boot: compile time Nov  3 2025 23:26:24
I (29) boot: Multicore bootloader
I (31) boot: chip revision: v3.1
I (34) boot.esp32: SPI Speed      : 40MHz
I (38) boot.esp32: SPI Mode       : DIO
I (41) boot.esp32: SPI Flash Size : 2MB
I (45) boot: Enabling RNG early entropy source...
I (49) boot: Partition Table:
I (52) boot: ## Label            Usage          Type ST Offset   Length
I (58) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (65) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (71) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  3 factory          factory app      00 00 00010000 00180000
I (84) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (91) boot: End of partition table
I (94) boot: Defaulting to factory image
I (98) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=3af5ch (241500) map
I (188) esp_image: segment 1: paddr=0004af84 vaddr=3ff80000 size=0001ch (    28) load
I (188) esp_image: segment 2: paddr=0004afa8 vaddr=3ffb0000 size=05070h ( 20592) load
I (199) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=be2d4h (778964) map
I (466) esp_image: segment 4: paddr=0010e2fc vaddr=3ffb5070 size=0cc54h ( 52308) load
I (485) esp_image: segment 5: paddr=0011af58 vaddr=40080000 size=1ad94h (109972) load
I (544) boot: Loaded app from partition at offset 0x10000
I (544) boot: Disabling RNG early entropy source...
I (555) quad_psram: This chip is ESP32-D0WD
I (555) esp_psram: Found 4MB PSRAM device
I (555) esp_psram: Speed: 40MHz
I (558) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (566) cpu_start: Multicore app
I (1460) esp_psram: SPI SRAM memory test OK
I (1468) cpu_start: Pro cpu start user code
I (1468) cpu_start: cpu freq: 240000000 Hz
I (1468) app_init: Application information:
I (1471) app_init: Project name:     hotpin_esp32_firmware
I (1478) app_init: App version:      4eba7ea
I (1482) app_init: Compile time:     Nov  3 2025 23:26:07
I (1489) app_init: ELF file SHA256:  9f072883f...
I (1494) app_init: ESP-IDF:          v5.4.2-dirty
I (1499) efuse_init: Min chip rev:     v0.0
I (1504) efuse_init: Max chip rev:     v3.99
I (1509) efuse_init: Chip rev:         v3.1
I (1515) heap_init: Initializing. RAM available for dynamic allocation:
I (1522) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1528) heap_init: At 3FFC9488 len 00016B78 (90 KiB): DRAM
I (1534) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1540) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1547) heap_init: At 4009AD94 len 0000526C (20 KiB): IRAM
I (1553) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1561) spi_flash: detected chip: generic
I (1565) spi_flash: flash io: dio
W (1569) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1584) main_task: Started on CPU0
I (1587) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1596) main_task: Calling app_main()
I (1600) HOTPIN_MAIN: ====================================
I (1606) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1612) HOTPIN_MAIN: ====================================
W (1618) HOTPIN_MAIN: Brownout detector disabled
I (1623) HOTPIN_MAIN: Validating PSRAM...
I (1628) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1634) HOTPIN_MAIN: PSRAM validation passed
I (1640) HOTPIN_MAIN: ====================================
I (1646) HOTPIN_MAIN: System Information:
I (1650) HOTPIN_MAIN: Chip: esp32
I (1654) HOTPIN_MAIN: Cores: 2
I (1658) HOTPIN_MAIN: Silicon revision: 301
I (1663) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1668) HOTPIN_MAIN: Flash: 2 MB external
I (1673) HOTPIN_MAIN: Free heap: 4364836 bytes
I (1678) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1683) HOTPIN_MAIN: ====================================
I (1689) HOTPIN_MAIN: Initializing memory manager...
I (1694) MEM_MGR: Initializing memory manager...
I (1700) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1718) MEM_MGR: â•‘ Memory Manager Initialized
I (1723) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1742) MEM_MGR: â•‘ Baseline Memory State:
I (1747) MEM_MGR: â•‘   Internal RAM:     225119 bytes (219 KB)
I (1753) MEM_MGR: â•‘   DMA-capable:      204755 bytes (199 KB)
I (1760) MEM_MGR: â•‘   PSRAM:            4192016 bytes (4093 KB)
I (1767) MEM_MGR: â•‘   Total Heap:       4364740 bytes (4262 KB)
I (1773) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1792) MEM_MGR: â•‘ Configured Thresholds:
I (1797) MEM_MGR: â•‘   Internal RAM:     WARN=50KB, CRIT=20KB
I (1803) MEM_MGR: â•‘   DMA-capable:      WARN=35KB, CRIT=20KB
I (1810) MEM_MGR: â•‘   PSRAM:            WARN=500KB, CRIT=200KB
I (1816) MEM_MGR: â•‘   Fragmentation:    WARN=30%, CRIT=50%
I (1823) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1841) MEM_MGR: Starting memory monitoring (interval: 15000 ms)
I (1848) MEM_MGR: âœ… Memory monitoring started
I (1848) MEM_MGR: Memory monitor task started (interval: 15000 ms)
I (1853) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
W (1860) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:46% PSRAM:2%
I (1878) MEM_MGR: â•‘ Memory Statistics - System Boot
I (1892) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1910) MEM_MGR: â•‘ Internal RAM:
I (1915) MEM_MGR: â•‘   Free:             225119 bytes (219 KB)
I (1921) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (1928) MEM_MGR: â•‘   Fragmentation:     51%
I (1933) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1951) MEM_MGR: â•‘ DMA-capable RAM:
I (1956) MEM_MGR: â•‘   Free:             204755 bytes (199 KB)
I (1962) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (1969) MEM_MGR: â•‘   Fragmentation:     46%
I (1974) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1992) MEM_MGR: â•‘ PSRAM:
I (1996) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (2003) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (2009) MEM_MGR: â•‘   Fragmentation:      2%
I (2015) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2033) MEM_MGR: â•‘ Total Heap:
I (2037) MEM_MGR: â•‘   Free:             4364740 bytes (4262 KB)
I (2044) MEM_MGR: â•‘   Minimum Ever:     4364740 bytes (4262 KB)
I (2050) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2069) MEM_MGR: â•‘ Memory Delta from Baseline:
I (2074) MEM_MGR: â•‘   Internal RAM:          +0 bytes (  +0 KB)
I (2081) MEM_MGR: â•‘   DMA-capable:           +0 bytes (  +0 KB)
I (2088) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (2094) MEM_MGR: â•‘   Total Heap:            +0 bytes (  +0 KB)
I (2101) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2119) HOTPIN_MAIN: Initializing NVS...
I (2149) HOTPIN_MAIN: NVS initialized successfully
I (2150) event_dispatcher: System event queue ready (16 entries)
I (2150) HOTPIN_MAIN: Synchronization primitives created
I (2156) HOTPIN_MAIN: Initializing WiFi...
I (2165) wifi:wifi driver task: 3ffdaacc, prio:23, stack:6656, core=0
I (2178) wifi:wifi firmware version: bea31f3
I (2178) wifi:wifi certification version: v7.0
I (2178) wifi:config NVS flash: enabled
I (2179) wifi:config nano formatting: disabled
I (2183) wifi:Init data frame dynamic rx buffer num: 32
I (2188) wifi:Init static rx mgmt buffer num: 5
I (2192) wifi:Init management short buffer num: 32
I (2197) wifi:Init dynamic tx buffer num: 32
I (2201) wifi:Init static rx buffer size: 1600
I (2205) wifi:Init static rx buffer num: 10
I (2209) wifi:Init dynamic rx buffer num: 32
I (2214) wifi_init: rx ba win: 6
I (2217) wifi_init: accept mbox: 6
I (2221) wifi_init: tcpip mbox: 32
I (2225) wifi_init: udp mbox: 6
I (2229) wifi_init: tcp mbox: 6
I (2233) wifi_init: tcp tx win: 5760
I (2237) wifi_init: tcp rx win: 5760
I (2241) wifi_init: tcp mss: 1440
I (2245) wifi_init: WiFi IRAM OP enabled
I (2250) wifi_init: WiFi RX IRAM OP enabled
I (2256) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (2331) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (2402) wifi:mode : sta (80:f3:da:99:8c:64)
I (2403) wifi:enable tsf
I (2405) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (2406) HOTPIN_MAIN: Waiting for WiFi connection...
I (2406) HOTPIN_MAIN: WiFi station started, connecting...
W (4835) HOTPIN_MAIN: WiFi disconnected, retrying...
I (4859) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (4860) wifi:state: init -> auth (0xb0)
I (5952) wifi:state: auth -> assoc (0x0)
I (5961) wifi:state: assoc -> run (0x10)
I (6073) wifi:connected with wifi, aid = 3, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (6073) wifi:security: WPA3-SAE, phy: bgn, rssi: -50
I (6077) wifi:pm start, type: 1

I (6078) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (6089) HOTPIN_MAIN: WiFi connected to AP
I (6174) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (6185) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (6186) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (7420) HOTPIN_MAIN: Initializing button handler...
I (7420) BUTTON: Initializing button handler on GPIO 12
I (7421) gpio: GPIO[12]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (7430) BUTTON: Button FSM task started
I (7435) BUTTON: GPIO ISR service installed successfully
I (7440) BUTTON: Button handler initialized successfully (initial level=1, primed=1)
I (7449) HOTPIN_MAIN: Initializing LED controller...
I (7454) LED_CTRL: Initializing LED controller on GPIO 33
I (7461) LED_CTRL: LED controller ready
I (7465) LED_CTRL: LED pattern -> 2
I (7469) HOTPIN_MAIN: Initializing WebSocket client...
I (7475) WEBSOCKET: Initializing WebSocket client...
I (7481) WEBSOCKET: Server URI: ws://10.143.111.58:8000/ws
I (7487) WEBSOCKET: Authorization header configured
I (7493) WEBSOCKET: âœ… WebSocket client initialized
I (7498) WEBSOCKET: Status callback registered
I (7503) HOTPIN_MAIN: WebSocket status callback registered
I (7509) HOTPIN_MAIN: Initializing HTTP client...
I (7515) HTTP_CLIENT: Initializing HTTP client
I (7520) HTTP_CLIENT: Authorization token configured
I (7525) HTTP_CLIENT: HTTP client initialized (server: http://10.143.111.58:8000)
I (7534) HOTPIN_MAIN: Initializing STT pipeline...
I (7539) STT: Initializing STT pipeline...
I (7544) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7562) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7568) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7586) STT: [MEMORY] Pre-allocation state:
I (7591) STT:   Free internal RAM: 166195 bytes
I (7596) STT:   Free DMA-capable: 145831 bytes
I (7601) STT:   Free PSRAM: 4126020 bytes
I (7606) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7615) STT:   âœ“ Ring buffer allocated at 0x3f810ac0 (PSRAM address)
I (7621) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7630) STT: [MEMORY] Post-allocation state:
I (7635) STT:   Free internal RAM: 166195 bytes
I (7640) STT:   Free DMA-capable: 145831 bytes
I (7645) STT:   Free PSRAM: 4060480 bytes
I (7656) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7658) STT: Persistent audio streaming task started on Core 0
I (7664) STT:   âœ“ Stream buffer allocated at 0x3ffd1b3c (with safety padding)
I (7673) STT: âœ… STT pipeline initialized
I (7677) HOTPIN_MAIN: Initializing TTS decoder...
I (7682) TTS: Initializing TTS decoder...
I (7687) TTS: Allocating 196608 byte PSRAM buffer for TTS stream
I (7694) TTS:   PSRAM available: 4060480 bytes (3965 KB)
I (7700) TTS:   âœ“ TTS stream buffer allocated at 0x3f820ac4
I (7732) WEBSOCKET: Audio callback registered
I (7732) TTS: âœ… TTS decoder initialized
I (7733) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7739) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7744) HOTPIN_MAIN: State manager task created on Core 1
I (7744) STATE_MGR: State manager task started on Core 1
I (7751) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7756) STATE_MGR: Priority: 10
I (7751) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7767) STATE_MGR: Starting in camera mode...
I (7774) HOTPIN_MAIN: Configuring task watchdog for critical tasks...
I (7779) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7786) HOTPIN_MAIN: âœ… State manager task added to watchdog
I (7792) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7798) HOTPIN_MAIN: âœ… WebSocket connection task added to watchdog
I (7817) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (7824) HOTPIN_MAIN: Task watchdog configuration complete
I (7831) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7837) HOTPIN_MAIN: ====================================
I (7855) MEM_MGR: â•‘ Internal RAM:
I (7861) HOTPIN_MAIN: System initialization complete!
I (7865) MEM_MGR: â•‘   Free:             222711 bytes (217 KB)
I (7871) HOTPIN_MAIN: Entering camera standby mode...
I (7878) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (7884) HOTPIN_MAIN: ====================================
I (7890) MEM_MGR: â•‘   Fragmentation:     51%
I (7897) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7919) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (7926) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7944) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (7952) AUDIO:   âœ“ I2S access mutex created successfully
I (7958) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7976) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (7983) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8001) AUDIO: [DIAG] Pre-init state:
I (8005) AUDIO:   Free heap: 3983196 bytes
I (8010) AUDIO:   Free internal RAM: 139999 bytes
I (8015) AUDIO:   Free DMA-capable: 119635 bytes
I (7908) esp_netif_handlers: sta ip: 10.143.111.214, mask: 255.255.255.0, gw: 10.143.111.248
I (8030) HOTPIN_MAIN: âœ… Got IP address: 10.143.111.214
I (8036) LED_CTRL: LED pattern -> 3
I (8040) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (8020) AUDIO:   Free PSRAM: 3863868 bytes
I (7901) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8054) AUDIO:   Timestamp: 6500 ms
I (8072) MEM_MGR: â•‘ DMA-capable RAM:
I (8076) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (8081) MEM_MGR: â•‘   Free:             202347 bytes (197 KB)
I (8087) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (8094) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (8102) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (8108) MEM_MGR: â•‘   Fragmentation:     46%
I (8116) AUDIO:   DMA frame num (per desc): 1020
I (8122) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8127) AUDIO:   DMA total samples (effective): 4080
I (8145) MEM_MGR: â•‘ PSRAM:
I (8151) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (8155) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (8161) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (8168) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (8175) AUDIO: âœ… I2S channels created (took 0 ms)
I (8181) MEM_MGR: â•‘   Fragmentation:      2%
I (8187) AUDIO:   TX handle: 0x3ffe1688 | RX handle: 0x3ffe1838
I (8192) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8198) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (8217) MEM_MGR: â•‘ Total Heap:
I (8223) AUDIO:   Sample rate: 16000 Hz
I (8227) MEM_MGR: â•‘   Free:             4362332 bytes (4260 KB)
I (8232) AUDIO:   MCLK: DISABLED
I (8239) MEM_MGR: â•‘   Minimum Ever:     4362332 bytes (4260 KB)
I (8242) AUDIO:   BCLK: GPIO14 (shared)
I (8249) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8254) AUDIO:   WS:   GPIO15 (shared)
I (8272) MEM_MGR: â•‘ Memory Delta from Baseline:
I (8277) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (8282) MEM_MGR: â•‘   Internal RAM:       -2408 bytes (  -2 KB)
I (8289) AUDIO: âœ… TX channel configured (took 1 ms)
I (8294) MEM_MGR: â•‘   DMA-capable:        -2408 bytes (  -2 KB)
I (8300) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (8307) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (8313) AUDIO:   Sample rate: 16000 Hz
I (8320) MEM_MGR: â•‘   Total Heap:         -2408 bytes (  -2 KB)
I (8331) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8325) AUDIO:   MCLK: DISABLED
I (8350) STATE_MGR: Acquiring I2S mutex...
I (8354) AUDIO:   BCLK: GPIO14 (shared)
I (8363) AUDIO:   WS:   GPIO15 (shared)
I (8368) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (8374) AUDIO: âœ… RX channel configured (took 1 ms)
I (8379) AUDIO: [STEP 4/6] Enabling TX channel...
I (8384) AUDIO: âœ… TX channel enabled (took 0 ms)
I (8390) AUDIO: [STEP 5/6] Enabling RX channel...
I (8395) AUDIO: âœ… RX channel enabled (took 0 ms)
I (8400) AUDIO: [STEP 6/6] Hardware stabilization...
I (8406) AUDIO:   Phase 1: Initial settle (50ms)
I (8054) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...
I (8419) WEBSOCKET: Connecting to WebSocket server...
I (8431) websocket_client: Started
I (8432) WEBSOCKET: âœ… WebSocket health check task created
I (8432) WEBSOCKET: WebSocket health check task started
I (8435) WEBSOCKET: WebSocket client started
I (8461) AUDIO:   Phase 2: DMA verification
I (8461) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (8461) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8618) AUDIO: [DIAG] Post-init state:
I (8618) AUDIO:   Free heap: 3936796 bytes
I (8618) AUDIO:   Free internal RAM: 93435 bytes
I (8621) AUDIO:   Free DMA-capable: 73071 bytes
I (8627) AUDIO:   Free PSRAM: 3863732 bytes
I (8631) AUDIO:   Timestamp: 7078 ms
I (8636) AUDIO:   Total init time: 202 ms
I (8640) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8658) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (8664) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (8670) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8678) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (8685) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8703) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8721) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (8727) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (8733) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8740) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8746) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10031) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10038) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (10046) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10064) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (10070) AUDIO: âœ… RX channel disabled (took 0 ms)
I (10076) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (10082) AUDIO: âœ… TX channel disabled (took 0 ms)
I (10088) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (10145) AUDIO: [STEP 4/5] Deleting RX channel...
I (10145) AUDIO: âœ… RX channel deleted (took 0 ms)
I (10145) AUDIO: [STEP 5/5] Deleting TX channel...
I (10150) AUDIO: âœ… TX channel deleted (took 0 ms)
I (10156) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (10214) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10221) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (10227) AUDIO: â•‘ Camera Can Now Initialize
I (10232) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10250) STATE_MGR: Audio drivers already inactive; skipping deinit
I (10250) HOTPIN_MAIN: Main task exiting - system running
I (10257) STATE_MGR: Allowing memory stabilization (100ms)...
I (10263) main_task: Returned from app_main()
I (10370) STATE_MGR: Camera will be initialized on-demand during capture
I (10370) STATE_MGR: I2S mutex released
I (10371) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10389) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (10396) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10415) MEM_MGR: â•‘ Internal RAM:
I (10419) MEM_MGR: â•‘   Free:             222711 bytes (217 KB)
I (10426) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (10432) MEM_MGR: â•‘   Fragmentation:     51%
I (10438) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10456) MEM_MGR: â•‘ DMA-capable RAM:
I (10460) MEM_MGR: â•‘   Free:             202347 bytes (197 KB)
I (10467) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (10474) MEM_MGR: â•‘   Fragmentation:     46%
I (10479) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10497) MEM_MGR: â•‘ PSRAM:
I (10501) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (10508) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (10515) MEM_MGR: â•‘   Fragmentation:      2%
I (10520) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10538) MEM_MGR: â•‘ Total Heap:
I (10542) MEM_MGR: â•‘   Free:             4362332 bytes (4260 KB)
I (10549) MEM_MGR: â•‘   Minimum Ever:     4362332 bytes (4260 KB)
I (10556) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10575) MEM_MGR: â•‘ Memory Delta from Baseline:
I (10580) MEM_MGR: â•‘   Internal RAM:       -2408 bytes (  -2 KB)
I (10587) MEM_MGR: â•‘   DMA-capable:        -2408 bytes (  -2 KB)
I (10594) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (10601) MEM_MGR: â•‘   Total Heap:         -2408 bytes (  -2 KB)
I (10608) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10626) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (10635) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (13462) WEBSOCKET: âœ… WebSocket connected to server
I (13463) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (13468) WEBSOCKET: Handshake sent successfully
I (13470) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (13470) STATE_MGR: WebSocket connected
I (13588) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (14306) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (14306) WEBSOCKET: Server status: connected
W (16887) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:33% PSRAM:2%
I (18441) WEBSOCKET: WebSocket connection restored (cycle: 2, disconnects: 0, reconnects: 0)
I (23277) BUTTON: Single click confirmed
I (23281) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (23282) STATE_MGR: Single click - mode toggle requested
I (23284) STATE_MGR: Switching: Camera â†’ Voice (count: 1)
I (23340) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (23340) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23353) MEM_MGR: â•‘ Memory Statistics - Before Voice Transition
I (23360) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23379) MEM_MGR: â•‘ Internal RAM:
I (23383) MEM_MGR: â•‘   Free:             124131 bytes (121 KB)
I (23389) MEM_MGR: â•‘   Largest Block:     69632 bytes ( 68 KB)
I (23396) MEM_MGR: â•‘   Fragmentation:     44%
I (23401) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23420) MEM_MGR: â•‘ DMA-capable RAM:
I (23424) MEM_MGR: â•‘   Free:             103767 bytes (101 KB)
I (23431) MEM_MGR: â•‘   Largest Block:     69632 bytes ( 68 KB)
I (23438) MEM_MGR: â•‘   Fragmentation:     33%
I (23443) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23461) MEM_MGR: â•‘ PSRAM:
I (23465) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (23472) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (23479) MEM_MGR: â•‘   Fragmentation:      2%
I (23484) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23502) MEM_MGR: â•‘ Total Heap:
I (23506) MEM_MGR: â•‘   Free:             3967436 bytes (3874 KB)
I (23513) MEM_MGR: â•‘   Minimum Ever:     3936364 bytes (3844 KB)
I (23520) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23538) MEM_MGR: â•‘ Memory Delta from Baseline:
I (23544) MEM_MGR: â•‘   Internal RAM:     -100988 bytes ( -98 KB)
I (23551) MEM_MGR: â•‘   DMA-capable:      -100988 bytes ( -98 KB)
I (23558) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (23564) MEM_MGR: â•‘   Total Heap:       -397304 bytes (-387 KB)
I (23571) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23590) STATE_MGR: Stopping camera...
I (23594) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23610) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (23617) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23634) STATE_MGR:   Timeout: 5000 ms
I (23638) STATE_MGR:   Timestamp: 22085 ms
I (23643) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (23649) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23665) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (23671) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23688) STATE_MGR:   Free heap before: 3967436 bytes
I (23693) STATE_MGR:   Free PSRAM before: 3863732 bytes
I (23699) CAMERA: Deinitializing camera...
I (23704) STATE_MGR:   âœ“ Camera deinitialized (took 4 ms)
I (23710) STATE_MGR:   Free heap after: 3967436 bytes
I (23716) STATE_MGR:   Free PSRAM after: 3863732 bytes
I (23722) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23738) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (23744) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (23761) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (23869) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (23969) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (24019) STATE_MGR:   âœ“ Total stabilization: 250ms
I (24019) STATE_MGR:   Timestamp: 22466 ms
I (24019) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24035) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (24041) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24058) STATE_MGR:   Free heap before: 3967436 bytes
I (24064) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24082) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (24089) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24107) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24125) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (24132) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24150) AUDIO: [DIAG] Pre-init state:
I (24154) AUDIO:   Free heap: 3967436 bytes
I (24159) AUDIO:   Free internal RAM: 124131 bytes
I (24165) AUDIO:   Free DMA-capable: 103767 bytes
I (24170) AUDIO:   Free PSRAM: 3863732 bytes
I (24175) AUDIO:   Timestamp: 22622 ms
I (24179) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (24186) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (24194) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (24202) AUDIO:   DMA frame num (per desc): 1020
I (24208) AUDIO:   DMA total samples (effective): 4080
I (24214) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (24221) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (24228) AUDIO: âœ… I2S channels created (took 0 ms)
I (24233) AUDIO:   TX handle: 0x3ffafcb4 | RX handle: 0x3ffca8b8
I (24239) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (24246) AUDIO:   Sample rate: 16000 Hz
I (24250) AUDIO:   MCLK: DISABLED
I (24254) AUDIO:   BCLK: GPIO14 (shared)
I (24259) AUDIO:   WS:   GPIO15 (shared)
I (24264) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (24271) AUDIO: âœ… TX channel configured (took 1 ms)
I (24275) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (24282) AUDIO:   Sample rate: 16000 Hz
I (24286) AUDIO:   MCLK: DISABLED
I (24290) AUDIO:   BCLK: GPIO14 (shared)
I (24295) AUDIO:   WS:   GPIO15 (shared)
I (24300) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (24306) AUDIO: âœ… RX channel configured (took 0 ms)
I (24311) AUDIO: [STEP 4/6] Enabling TX channel...
I (24317) AUDIO: âœ… TX channel enabled (took 0 ms)
I (24322) AUDIO: [STEP 5/6] Enabling RX channel...
I (24328) AUDIO: âœ… RX channel enabled (took 0 ms)
I (24333) AUDIO: [STEP 6/6] Hardware stabilization...
I (24339) AUDIO:   Phase 1: Initial settle (50ms)
I (24394) AUDIO:   Phase 2: DMA verification
I (24394) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (24394) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (24551) AUDIO: [DIAG] Post-init state:
I (24551) AUDIO:   Free heap: 3941428 bytes
I (24552) AUDIO:   Free internal RAM: 98123 bytes
I (24555) AUDIO:   Free DMA-capable: 77759 bytes
I (24560) AUDIO:   Free PSRAM: 3863732 bytes
I (24565) AUDIO:   Timestamp: 23012 ms
I (24570) AUDIO:   Total init time: 201 ms
I (24575) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24593) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (24599) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (24604) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (24613) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (24620) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24637) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24655) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (24662) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (24668) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (24675) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (24681) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24699) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (24706) STATE_MGR:   Free heap after: 3941232 bytes
I (24711) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24727) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (24733) STATE_MGR: â•‘ Total transition time: 889 ms
I (24739) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24755) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24771) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (24778) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24794) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (24802) TTS: No pending audio to flush
I (24835) TTS: TTS decoder session reset for next audio stream
I (24835) TTS: âœ… TTS decoder flushed and reset for next session
I (24837) STT: Starting STT pipeline...
I (24842) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (24851) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (24858) STT:   Current time: 23305 ms
I (24861) STT: âœ… STT pipeline started
I (24862) STT:   Free heap: 3932876 bytes
I (24862) STT: Audio streaming session activated
I (24877) STT: Connection stabilization delay (2000ms)...
I (24917) TTS: ğŸµ Starting TTS decoder...
I (24917) TTS: Initializing TTS decoder...
W (24917) TTS: TTS decoder already initialized
I (24947) TTS: [CORE AFFINITY] Creating TTS playback task on Core 1 (APP_CPU) with safety measures
I (24947) TTS: âœ… TTS decoder started successfully
I (24951) TTS: ğŸµ TTS playback task started on Core 1
I (24957) TTS: âœ… TTS playback task registered with watchdog
I (24964) TTS:   âœ“ DMA buffer allocated in PSRAM at 0x3f850b50 (4096 bytes)
I (25071) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (25071) STT:   âœ“ Audio driver initialized
I (25072) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (25179) STT:   Total stabilization: 300ms
I (25179) STT:   Timestamp: 23626 ms
I (25179) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (25183) STT:   âœ“ DMA-capable buffer allocated at 0x3ffe96d4 (with safety padding)
I (25192) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25208) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE
I (25213) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms
I (25219) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25276) LED_CTRL: LED pattern -> 1
I (25277) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25288) MEM_MGR: â•‘ Memory Statistics - After Voice Transition
I (25295) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25313) MEM_MGR: â•‘ Internal RAM:
I (25317) MEM_MGR: â•‘   Free:             124131 bytes (121 KB)
I (25324) MEM_MGR: â•‘   Largest Block:     69632 bytes ( 68 KB)
I (25331) MEM_MGR: â•‘   Fragmentation:     44%
I (25336) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25354) MEM_MGR: â•‘ DMA-capable RAM:
I (25359) MEM_MGR: â•‘   Free:             103767 bytes (101 KB)
I (25366) MEM_MGR: â•‘   Largest Block:     69632 bytes ( 68 KB)
I (25372) MEM_MGR: â•‘   Fragmentation:     33%
I (25377) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25396) MEM_MGR: â•‘ PSRAM:
I (25400) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (25406) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (25413) MEM_MGR: â•‘   Fragmentation:      2%
I (25418) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25437) MEM_MGR: â•‘ Total Heap:
I (25441) MEM_MGR: â•‘   Free:             3967436 bytes (3874 KB)
I (25448) MEM_MGR: â•‘   Minimum Ever:     3936364 bytes (3844 KB)
I (25455) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25473) MEM_MGR: â•‘ Memory Delta from Baseline:
I (25479) MEM_MGR: â•‘   Internal RAM:     -100988 bytes ( -98 KB)
I (25485) MEM_MGR: â•‘   DMA-capable:      -100988 bytes ( -98 KB)
I (25492) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (25499) MEM_MGR: â•‘   Total Heap:       -397304 bytes (-387 KB)
I (25506) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25524) STATE_MGR: âœ… Voice mode transition complete
I (25530) STATE_MGR: âœ… Entered VOICE_ACTIVE state
I (25546) STATE_MGR: STT pipeline reported start
I (25556) STATE_MGR: TTS playback start event received
I (26883) STT: Testing WebSocket transport health...
I (26889) STT: âœ… WebSocket transport verified healthy
I (26989) STT: Starting audio streaming to server...
W (27079) STT: Waiting for server ACK (sent: 2, acked: 0)
I (27133) WEBSOCKET: Received text message: {"status": "receiving", "chunks_received": 2, "bytes_received": 4112}
I (27134) WEBSOCKET: Server status: receiving
I (27138) STT: Flow control: ACK received, resuming (sent=2, acked=2)
I (27145) WEBSOCKET: Server ACK: 2 chunks processed
W (27236) STT: Waiting for server ACK (sent: 4, acked: 2)
I (27278) WEBSOCKET: Received text message: {"status": "receiving", "chunks_received": 4, "bytes_received": 12304}
I (27279) WEBSOCKET: Server status: receiving
I (27284) STT: Flow control: ACK received, resuming (sent=4, acked=4)
I (27291) WEBSOCKET: Server ACK: 4 chunks processed
W (27619) STT: Waiting for server ACK (sent: 6, acked: 4)
I (27665) WEBSOCKET: Received text message: {"status": "receiving", "chunks_received": 6, "bytes_received": 20496}
I (27665) WEBSOCKET: Server status: receiving
I (27670) STT: Flow control: ACK received, resuming (sent=6, acked=6)
I (27677) WEBSOCKET: Server ACK: 6 chunks processed
I (27750) WEBSOCKET: Received text message: {"status": "receiving", "chunks_received": 8, "bytes_received": 28688}
I (27751) WEBSOCKET: Server status: receiving
I (27755) WEBSOCKET: Server ACK: 8 chunks processed
W (27873) STT: Waiting for server ACK (sent: 10, acked: 8)
I (27900) WEBSOCKET: Received text message: {"status": "receiving", "chunks_received": 10, "bytes_received": 36880}
I (27901) WEBSOCKET: Server status: receiving
I (27905) STT: Flow control: ACK received, resuming (sent=10, acked=10)
I (27912) WEBSOCKET: Server ACK: 10 chunks processed
E (28199) transport_ws: Error transport_poll_write
E (28200) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (28206) WEBSOCKET: âŒ WebSocket error occurred
I (28211) TTS: Received audio chunk #1: 0 bytes
E (28216) STATE_MGR: WebSocket error signalled
E (28216) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (28221) LED_CTRL: LED pattern -> 5
W (28231) WEBSOCKET: âš ï¸ WebSocket disconnected
E (28232) STATE_MGR: WebSocket error occurred while in voice mode - triggering transition to camera
I (28237) TTS: Received audio chunk #2: 0 bytes
E (28233) websocket_client: esp_transport_poll_read() returned -1, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=9
I (28252) TTS: New audio session detected - resetting chunk counter
E (28257) STATE_MGR: WebSocket error signalled
W (28272) HOTPIN_MAIN: âš ï¸ WebSocket status callback: DISCONNECTED
E (28284) WEBSOCKET: âŒ WebSocket error occurred
W (28287) STATE_MGR: WebSocket disconnected
I (28289) TTS: Received audio chunk #2: 0 bytes
I (28299) TTS: New audio session detected - resetting chunk counter
E (28306) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (28294) LED_CTRL: LED pattern -> 4
E (28313) websocket_client: esp_websocket_client_abort_connection(239): Websocket already stop
W (28284) WEBSOCKET: WebSocket send buffer full (0 bytes sent), yielding and retrying (attempt 1/4)
E (28327) STATE_MGR: WebSocket error signalled
I (28341) LED_CTRL: LED pattern -> 5
E (28436) WEBSOCKET: WebSocket connection lost before send attempt 2
E (28436) STT: WebSocket disconnected during audio send - aborting stream
I (28439) STT: Streaming task received stop signal
W (28445) STT: Audio streaming aborted due to transport errors
W (28441) WEBSOCKET: WebSocket connection lost (cycle: 4, disconnects: 0, reconnects: 1)
W (28451) STT: Skipping EOS - WebSocket disconnected
I (28466) STT: Audio streaming session complete (streamed 45056 bytes in 11 chunks)
I (28473) STT: Audio capture task stopped (captured 108544 bytes total)
I (28474) STATE_MGR: STT pipeline reported stop
I (28487) LED_CTRL: LED pattern -> 1
I (28786) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (28786) BUTTON: Single click confirmed
W (28786) STATE_MGR: Guardrail soft override: stopping voice pipeline (user cancellation)
I (28795) STATE_MGR: Single click - mode toggle requested
I (28801) STATE_MGR: Switching: Voice â†’ Camera (count: 2)
I (28857) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (28857) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28870) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (28877) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28896) MEM_MGR: â•‘ Internal RAM:
I (28900) MEM_MGR: â•‘   Free:             124131 bytes (121 KB)
I (28907) MEM_MGR: â•‘   Largest Block:     69632 bytes ( 68 KB)
I (28913) MEM_MGR: â•‘   Fragmentation:     44%
I (28919) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28937) MEM_MGR: â•‘ DMA-capable RAM:
I (28941) MEM_MGR: â•‘   Free:             103767 bytes (101 KB)
I (28948) MEM_MGR: â•‘   Largest Block:     69632 bytes ( 68 KB)
I (28955) MEM_MGR: â•‘   Fragmentation:     33%
I (28960) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28978) MEM_MGR: â•‘ PSRAM:
I (28982) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (28989) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (28996) MEM_MGR: â•‘   Fragmentation:      2%
I (29001) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29019) MEM_MGR: â•‘ Total Heap:
I (29024) MEM_MGR: â•‘   Free:             3967436 bytes (3874 KB)
I (29030) MEM_MGR: â•‘   Minimum Ever:     3936364 bytes (3844 KB)
I (29037) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29056) MEM_MGR: â•‘ Memory Delta from Baseline:
I (29061) MEM_MGR: â•‘   Internal RAM:     -100988 bytes ( -98 KB)
I (29068) MEM_MGR: â•‘   DMA-capable:      -100988 bytes ( -98 KB)
I (29075) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (29082) MEM_MGR: â•‘   Total Heap:       -397304 bytes (-387 KB)
I (29089) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29107) STATE_MGR: Stopping voice mode components...
I (29113) STT: Stopping STT pipeline...
W (29117) STT: STT pipeline already stopped
W (29588) HOTPIN_MAIN: WebSocket link not healthy, restarting connection
I (29588) WEBSOCKET: Force stopping WebSocket client
W (29590) websocket_client: Client was not started
W (29595) WEBSOCKET: Graceful close returned ESP_FAIL
I (29601) WEBSOCKET: WebSocket health check task shutdown signal received
I (29608) WEBSOCKET: WebSocket health check task exiting (cycles: 4, disconnects: 1, reconnects: 1)
I (30201) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 2)...
I (30201) WEBSOCKET: Connecting to WebSocket server...
I (30208) websocket_client: Started
I (30209) WEBSOCKET: âœ… WebSocket health check task created
I (30209) WEBSOCKET: WebSocket health check task started
I (30214) WEBSOCKET: WebSocket client started
I (30437) WEBSOCKET: âœ… WebSocket connected to server
I (30438) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (30443) WEBSOCKET: Handshake sent successfully
I (30445) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (30622) STATE_MGR: Voice pipeline became idle at stage idle
I (30622) STATE_MGR: Waiting for TTS playback drain (~0 bytes pending, timeout 15000 ms)
I (30625) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
E (30634) task_wdt: esp_task_wdt_reset(705): task not found
I (30927) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (30928) STATE_MGR: TTS decoder confirmed idle
I (30931) STATE_MGR: Flushing and resetting TTS decoder for next session
I (30938) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (30946) TTS: Flushing pending audio before reset (~0 bytes)
I (31252) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (31252) TTS: TTS decoder session reset for next audio stream
I (31257) TTS: âœ… TTS decoder flushed and reset for next session
I (31264) TTS: TTS playback task shutting down - is_running=0
I (31270) TTS: ğŸµ TTS playback task exiting (played 0 bytes, result: ESP_OK)
I (31278) TTS:   âœ“ DMA buffer freed from PSRAM
I (31283) TTS:   âœ“ Watchdog unregistered, handle cleared, flags set
I (31284) WEBSOCKET: Connecting to WebSocket server...
I (31299) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (31306) WEBSOCKET: Server status: connected
I (31463) TTS: â¹ï¸ Stopping TTS decoder...
W (31464) TTS: TTS decoder not running
I (31588) STATE_MGR: Acquiring I2S mutex...
I (31588) STATE_MGR: Deinitializing audio drivers...
I (31588) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (31606) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (31613) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (31631) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (31638) AUDIO: âœ… RX channel disabled (took 0 ms)
I (31644) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (31650) AUDIO: âœ… TX channel disabled (took 0 ms)
I (31656) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (31712) AUDIO: [STEP 4/5] Deleting RX channel...
I (31713) AUDIO: âœ… RX channel deleted (took 0 ms)
I (31713) AUDIO: [STEP 5/5] Deleting TX channel...
I (31718) AUDIO: âœ… TX channel deleted (took 0 ms)
I (31723) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (31781) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (31788) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (31794) AUDIO: â•‘ Camera Can Now Initialize
I (31800) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (31868) STATE_MGR: Allowing memory stabilization (100ms)...
E (31888) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:54% PSRAM:2%
I (31968) STATE_MGR: Camera will be initialized on-demand during capture
I (31968) STATE_MGR: I2S mutex released
I (31969) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (31987) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (31994) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32013) MEM_MGR: â•‘ Internal RAM:
I (32017) MEM_MGR: â•‘   Free:             121247 bytes (118 KB)
I (32024) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (32030) MEM_MGR: â•‘   Fragmentation:     62%
I (32036) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32054) MEM_MGR: â•‘ DMA-capable RAM:
I (32058) MEM_MGR: â•‘   Free:             100883 bytes ( 98 KB)
I (32065) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (32072) MEM_MGR: â•‘   Fragmentation:     54%
I (32077) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32095) MEM_MGR: â•‘ PSRAM:
I (32099) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (32106) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (32113) MEM_MGR: â•‘   Fragmentation:      2%
I (32118) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32136) MEM_MGR: â•‘ Total Heap:
I (32141) MEM_MGR: â•‘   Free:             3964552 bytes (3871 KB)
I (32147) MEM_MGR: â•‘   Minimum Ever:     3905020 bytes (3813 KB)
I (32154) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32173) MEM_MGR: â•‘ Memory Delta from Baseline:
I (32178) MEM_MGR: â•‘   Internal RAM:     -103872 bytes (-101 KB)
I (32185) MEM_MGR: â•‘   DMA-capable:      -103872 bytes (-101 KB)
I (32192) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (32199) MEM_MGR: â•‘   Total Heap:       -400188 bytes (-390 KB)
I (32206) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32224) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (32233) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32251) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (32258) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32276) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32294) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (32302) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32320) AUDIO: [DIAG] Pre-init state:
I (32324) AUDIO:   Free heap: 3964552 bytes
I (32329) AUDIO:   Free internal RAM: 121247 bytes
I (32334) AUDIO:   Free DMA-capable: 100883 bytes
I (32340) AUDIO:   Free PSRAM: 3863732 bytes
I (32345) AUDIO:   Timestamp: 30791 ms
I (32349) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (32356) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (32364) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (32372) AUDIO:   DMA frame num (per desc): 1020
I (32378) AUDIO:   DMA total samples (effective): 4080
I (32383) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (32390) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (32397) AUDIO: âœ… I2S channels created (took 0 ms)
I (32402) AUDIO:   TX handle: 0x3ffafcb4 | RX handle: 0x3ffcb5c4
I (32409) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (32416) AUDIO:   Sample rate: 16000 Hz
I (32420) AUDIO:   MCLK: DISABLED
I (32424) AUDIO:   BCLK: GPIO14 (shared)
I (32429) AUDIO:   WS:   GPIO15 (shared)
I (32433) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (32440) AUDIO: âœ… TX channel configured (took 1 ms)
I (32445) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (32452) AUDIO:   Sample rate: 16000 Hz
I (32456) AUDIO:   MCLK: DISABLED
I (32460) AUDIO:   BCLK: GPIO14 (shared)
I (32465) AUDIO:   WS:   GPIO15 (shared)
I (32469) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (32475) AUDIO: âœ… RX channel configured (took 0 ms)
I (32481) AUDIO: [STEP 4/6] Enabling TX channel...
I (32486) AUDIO: âœ… TX channel enabled (took 0 ms)
I (32492) AUDIO: [STEP 5/6] Enabling RX channel...
I (32497) AUDIO: âœ… RX channel enabled (took 0 ms)
I (32503) AUDIO: [STEP 6/6] Hardware stabilization...
I (32509) AUDIO:   Phase 1: Initial settle (50ms)
I (32564) AUDIO:   Phase 2: DMA verification
I (32564) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (32564) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
E (32641) task_wdt: esp_task_wdt_reset(705): task not found
I (32721) AUDIO: [DIAG] Post-init state:
I (32721) AUDIO:   Free heap: 3938548 bytes
I (32721) AUDIO:   Free internal RAM: 95243 bytes
I (32725) AUDIO:   Free DMA-capable: 74879 bytes
I (32730) AUDIO:   Free PSRAM: 3863732 bytes
I (32735) AUDIO:   Timestamp: 31182 ms
I (32740) AUDIO:   Total init time: 201 ms
I (32744) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32762) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (32768) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (32774) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (32783) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (32789) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32807) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (32825) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (32832) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (32838) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (32845) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (32851) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (33152) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (33159) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (33167) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (33185) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (33192) AUDIO: âœ… RX channel disabled (took 0 ms)
I (33197) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (33204) AUDIO: âœ… TX channel disabled (took 0 ms)
I (33209) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (33233) WEBSOCKET: Connecting to WebSocket server...
I (33266) AUDIO: [STEP 4/5] Deleting RX channel...
I (33267) AUDIO: âœ… RX channel deleted (took 0 ms)
I (33267) AUDIO: [STEP 5/5] Deleting TX channel...
I (33272) AUDIO: âœ… TX channel deleted (took 0 ms)
I (33277) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (33335) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (33342) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (33348) AUDIO: â•‘ Camera Can Now Initialize
I (33354) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (33372) LED_CTRL: LED pattern -> 3
I (33376) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (33392) STATE_MGR: WebSocket connected
E (34641) task_wdt: esp_task_wdt_reset(705): task not found
I (35220) WEBSOCKET: WebSocket connection restored (cycle: 5, disconnects: 1, reconnects: 1)
I (35510) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (35510) BUTTON: Single click confirmed
I (35510) STATE_MGR: Single click - mode toggle requested
I (35516) STATE_MGR: Switching: Camera â†’ Voice (count: 3)
I (35573) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (35573) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35586) MEM_MGR: â•‘ Memory Statistics - Before Voice Transition
I (35593) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35612) MEM_MGR: â•‘ Internal RAM:
I (35616) MEM_MGR: â•‘   Free:             121247 bytes (118 KB)
I (35622) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (35629) MEM_MGR: â•‘   Fragmentation:     62%
I (35634) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35653) MEM_MGR: â•‘ DMA-capable RAM:
I (35657) MEM_MGR: â•‘   Free:             100883 bytes ( 98 KB)
I (35664) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (35671) MEM_MGR: â•‘   Fragmentation:     54%
I (35676) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35694) MEM_MGR: â•‘ PSRAM:
I (35698) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (35705) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (35712) MEM_MGR: â•‘   Fragmentation:      2%
I (35717) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35735) MEM_MGR: â•‘ Total Heap:
I (35739) MEM_MGR: â•‘   Free:             3964552 bytes (3871 KB)
I (35746) MEM_MGR: â•‘   Minimum Ever:     3905020 bytes (3813 KB)
I (35753) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35771) MEM_MGR: â•‘ Memory Delta from Baseline:
I (35777) MEM_MGR: â•‘   Internal RAM:     -103872 bytes (-101 KB)
I (35784) MEM_MGR: â•‘   DMA-capable:      -103872 bytes (-101 KB)
I (35791) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (35797) MEM_MGR: â•‘   Total Heap:       -400188 bytes (-390 KB)
I (35804) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35823) STATE_MGR: Stopping camera...
I (35827) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35843) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (35850) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35867) STATE_MGR:   Timeout: 5000 ms
I (35871) STATE_MGR:   Timestamp: 34318 ms
I (35876) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (35882) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35898) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (35904) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35921) STATE_MGR:   Free heap before: 3966960 bytes
I (35926) STATE_MGR:   Free PSRAM before: 3863732 bytes
I (35932) CAMERA: Deinitializing camera...
I (35937) STATE_MGR:   âœ“ Camera deinitialized (took 4 ms)
I (35943) STATE_MGR:   Free heap after: 3966960 bytes
I (35949) STATE_MGR:   Free PSRAM after: 3863732 bytes
I (35955) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35971) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (35977) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (35994) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (36102) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (36202) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (36252) STATE_MGR:   âœ“ Total stabilization: 250ms
I (36252) STATE_MGR:   Timestamp: 34699 ms
I (36252) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36268) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (36274) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36291) STATE_MGR:   Free heap before: 3966960 bytes
I (36297) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36315) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (36322) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36340) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36358) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (36365) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36383) AUDIO: [DIAG] Pre-init state:
I (36387) AUDIO:   Free heap: 3966960 bytes
I (36392) AUDIO:   Free internal RAM: 123655 bytes
I (36398) AUDIO:   Free DMA-capable: 103291 bytes
I (36403) AUDIO:   Free PSRAM: 3863732 bytes
I (36408) AUDIO:   Timestamp: 34855 ms
I (36412) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (36419) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (36427) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (36435) AUDIO:   DMA frame num (per desc): 1020
I (36441) AUDIO:   DMA total samples (effective): 4080
I (36447) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (36454) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (36460) AUDIO: âœ… I2S channels created (took 0 ms)
I (36466) AUDIO:   TX handle: 0x3ffafcb4 | RX handle: 0x3ffcb5c4
I (36472) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (36479) AUDIO:   Sample rate: 16000 Hz
I (36483) AUDIO:   MCLK: DISABLED
I (36487) AUDIO:   BCLK: GPIO14 (shared)
I (36492) AUDIO:   WS:   GPIO15 (shared)
I (36497) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (36503) AUDIO: âœ… TX channel configured (took 0 ms)
I (36508) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (36515) AUDIO:   Sample rate: 16000 Hz
I (36519) AUDIO:   MCLK: DISABLED
I (36523) AUDIO:   BCLK: GPIO14 (shared)
I (36528) AUDIO:   WS:   GPIO15 (shared)
I (36533) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (36539) AUDIO: âœ… RX channel configured (took 0 ms)
I (36544) AUDIO: [STEP 4/6] Enabling TX channel...
I (36550) AUDIO: âœ… TX channel enabled (took 0 ms)
I (36555) AUDIO: [STEP 5/6] Enabling RX channel...
I (36561) AUDIO: âœ… RX channel enabled (took 0 ms)
I (36566) AUDIO: [STEP 6/6] Hardware stabilization...
I (36572) AUDIO:   Phase 1: Initial settle (50ms)
I (36627) AUDIO:   Phase 2: DMA verification
I (36627) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (36627) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
E (36641) task_wdt: esp_task_wdt_reset(705): task not found
I (36784) AUDIO: [DIAG] Post-init state:
I (36784) AUDIO:   Free heap: 3940964 bytes
I (36784) AUDIO:   Free internal RAM: 97659 bytes
I (36788) AUDIO:   Free DMA-capable: 77295 bytes
I (36793) AUDIO:   Free PSRAM: 3863732 bytes
I (36798) AUDIO:   Timestamp: 35245 ms
I (36803) AUDIO:   Total init time: 200 ms
I (36807) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36825) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (36831) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (36837) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (36846) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (36852) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36870) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36888) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (36895) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (36901) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (36908) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (36914) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36932) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (36938) STATE_MGR:   Free heap after: 3940964 bytes
I (36944) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36960) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (36966) STATE_MGR: â•‘ Total transition time: 889 ms
I (36972) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (36988) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37004) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (37010) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37027) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (37035) TTS: No pending audio to flush
I (37064) TTS: TTS decoder session reset for next audio stream
I (37064) TTS: âœ… TTS decoder flushed and reset for next session
I (37066) STT: Starting STT pipeline...
I (37071) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (37080) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (37087) STT:   Current time: 35534 ms
I (37090) STT: âœ… STT pipeline started
I (37091) STT:   Free heap: 3932412 bytes
I (37091) STT: Audio streaming session activated
I (37107) STT: Connection stabilization delay (2000ms)...
I (37146) TTS: ğŸµ Starting TTS decoder...
I (37146) TTS: Initializing TTS decoder...
W (37146) TTS: TTS decoder already initialized
I (37175) TTS: [CORE AFFINITY] Creating TTS playback task on Core 1 (APP_CPU) with safety measures
I (37176) TTS: âœ… TTS decoder started successfully
I (37179) TTS: ğŸµ TTS playback task started on Core 1
I (37185) TTS: âœ… TTS playback task registered with watchdog
I (37192) TTS:   âœ“ DMA buffer allocated in PSRAM at 0x3f850b50 (4096 bytes)
I (37300) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (37300) STT:   âœ“ Audio driver initialized
I (37301) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (37408) STT:   Total stabilization: 300ms
I (37408) STT:   Timestamp: 35854 ms
I (37408) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (37412) STT:   âœ“ DMA-capable buffer allocated at 0x3ffe19d8 (with safety padding)
I (37421) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37437) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE
I (37442) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms
I (37448) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37504) LED_CTRL: LED pattern -> 1
I (37504) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37516) MEM_MGR: â•‘ Memory Statistics - After Voice Transition
I (37523) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37541) MEM_MGR: â•‘ Internal RAM:
I (37545) MEM_MGR: â•‘   Free:             121247 bytes (118 KB)
I (37552) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (37559) MEM_MGR: â•‘   Fragmentation:     62%
I (37564) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37582) MEM_MGR: â•‘ DMA-capable RAM:
I (37587) MEM_MGR: â•‘   Free:             100883 bytes ( 98 KB)
I (37594) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (37600) MEM_MGR: â•‘   Fragmentation:     54%
I (37605) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37624) MEM_MGR: â•‘ PSRAM:
I (37627) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (37634) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (37641) MEM_MGR: â•‘   Fragmentation:      2%
I (37646) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37665) MEM_MGR: â•‘ Total Heap:
I (37669) MEM_MGR: â•‘   Free:             3964552 bytes (3871 KB)
I (37676) MEM_MGR: â•‘   Minimum Ever:     3905020 bytes (3813 KB)
I (37683) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37701) MEM_MGR: â•‘ Memory Delta from Baseline:
I (37706) MEM_MGR: â•‘   Internal RAM:     -103872 bytes (-101 KB)
I (37713) MEM_MGR: â•‘   DMA-capable:      -103872 bytes (-101 KB)
I (37720) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (37727) MEM_MGR: â•‘   Total Heap:       -400188 bytes (-390 KB)
I (37734) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (37752) STATE_MGR: âœ… Voice mode transition complete
I (37758) STATE_MGR: âœ… Entered VOICE_ACTIVE state
I (37774) STATE_MGR: STT pipeline reported start
I (37784) STATE_MGR: TTS playback start event received
E (38641) task_wdt: esp_task_wdt_reset(705): task not found
I (39112) STT: Testing WebSocket transport health...
I (39119) STT: âœ… WebSocket transport verified healthy
I (39219) STT: Starting audio streaming to server...
E (39499) transport_ws: Error transport_poll_write
E (39500) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (39506) WEBSOCKET: âŒ WebSocket error occurred
I (39511) TTS: Received audio chunk #2: 0 bytes
I (39516) TTS: New audio session detected - resetting chunk counter
E (39523) STATE_MGR: WebSocket error signalled
E (39523) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (39528) LED_CTRL: LED pattern -> 5
W (39538) WEBSOCKET: âš ï¸ WebSocket disconnected
E (39539) STATE_MGR: WebSocket error occurred while in voice mode - triggering transition to camera
I (39544) TTS: Received audio chunk #2: 0 bytes
I (39559) TTS: New audio session detected - resetting chunk counter
E (39564) STATE_MGR: WebSocket error signalled
W (39566) HOTPIN_MAIN: âš ï¸ WebSocket status callback: DISCONNECTED
W (39579) WEBSOCKET: WebSocket send buffer full (0 bytes sent), yielding and retrying (attempt 1/4)
W (39581) STATE_MGR: WebSocket disconnected
I (39593) LED_CTRL: LED pattern -> 4
W (39622) STT: âš  Ring buffer full - dropping 1024 bytes (read #73)
W (39622) STT: Buffer critically full - implementing backpressure (0 bytes free)
E (39688) WEBSOCKET: WebSocket connection lost before send attempt 2
E (39688) STT: WebSocket disconnected during audio send - aborting stream
I (39691) STT: Streaming task received stop signal
W (39697) STT: Audio streaming aborted due to transport errors
W (39703) STT: Skipping EOS - WebSocket disconnected
I (39709) STT: Audio streaming session complete (streamed 4096 bytes in 1 chunks)
I (39717) STATE_MGR: STT pipeline reported stop
I (39722) LED_CTRL: LED pattern -> 1
W (40220) WEBSOCKET: WebSocket connection lost (cycle: 6, disconnects: 1, reconnects: 2)
I (40220) WEBSOCKET: Attempting WebSocket reconnection (disconnects: 2, cycle: 6)
I (40226) WEBSOCKET: Force stopping WebSocket client
W (40231) websocket_client: Client was not started
W (40237) WEBSOCKET: Graceful close returned ESP_FAIL
I (40343) WEBSOCKET: Connecting to WebSocket server...
I (40344) websocket_client: Started
I (40345) WEBSOCKET: âœ… WebSocket health check task created
I (40348) WEBSOCKET: WebSocket client started
I (40345) WEBSOCKET: WebSocket health check task started
I (40353) WEBSOCKET: WebSocket reconnection successful
I (40365) WEBSOCKET: WebSocket health check task shutdown signal received
I (40372) WEBSOCKET: WebSocket health check task exiting (cycles: 6, disconnects: 2, reconnects: 3)
E (40382) task_wdt: delete_entry(236): task not found
W (40388) WEBSOCKET: Failed to remove health check task from WDT: ESP_ERR_NOT_FOUND
E (40626) STT: Buffer still full after backpressure wait - continuing with reduced sampling
I (40632) STT: Audio capture task stopped (captured 73728 bytes total)
W (40641) HOTPIN_MAIN: WebSocket link not healthy, restarting connection
I (40641) WEBSOCKET: Force stopping WebSocket client
E (40644) websocket_client: Websocket client is not connected
I (40853) BUTTON: Single click confirmed
I (40853) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
W (40854) STATE_MGR: Guardrail soft override: stopping voice pipeline (user cancellation)
I (40862) STATE_MGR: Single click - mode toggle requested
I (40868) STATE_MGR: Switching: Voice â†’ Camera (count: 4)
I (40925) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (40925) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (40938) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (40945) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (40964) MEM_MGR: â•‘ Internal RAM:
I (40968) MEM_MGR: â•‘   Free:             121247 bytes (118 KB)
I (40975) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (40981) MEM_MGR: â•‘   Fragmentation:     62%
I (40987) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (41005) MEM_MGR: â•‘ DMA-capable RAM:
I (41010) MEM_MGR: â•‘   Free:             100883 bytes ( 98 KB)
I (41016) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (41023) MEM_MGR: â•‘   Fragmentation:     54%
I (41028) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (41046) MEM_MGR: â•‘ PSRAM:
I (41050) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (41057) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (41064) MEM_MGR: â•‘   Fragmentation:      2%
I (41069) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (41087) MEM_MGR: â•‘ Total Heap:
I (41092) MEM_MGR: â•‘   Free:             3964552 bytes (3871 KB)
I (41098) MEM_MGR: â•‘   Minimum Ever:     3905020 bytes (3813 KB)
I (41105) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (41124) MEM_MGR: â•‘ Memory Delta from Baseline:
I (41129) MEM_MGR: â•‘   Internal RAM:     -103872 bytes (-101 KB)
I (41136) MEM_MGR: â•‘   DMA-capable:      -103872 bytes (-101 KB)
I (41143) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (41150) MEM_MGR: â•‘   Total Heap:       -400188 bytes (-390 KB)
I (41157) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (41175) STATE_MGR: Stopping voice mode components...
I (41181) STT: Stopping STT pipeline...
W (41185) STT: STT pipeline already stopped
I (41204) WEBSOCKET: âœ… WebSocket connected to server
I (41205) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (41211) WEBSOCKET: Handshake sent successfully
I (41212) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (42127) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (42127) WEBSOCKET: Server status: connected
W (42133) websocket_client: Client was not started
W (42136) WEBSOCKET: Force stop returned ESP_FAIL
I (42578) WEBSOCKET: Connecting to WebSocket server...
I (42579) websocket_client: Started
I (42580) WEBSOCKET: âœ… WebSocket health check task created
I (42583) WEBSOCKET: WebSocket client started
I (42584) WEBSOCKET: WebSocket health check task started
I (42642) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 3)...
I (42642) WEBSOCKET: Connecting to WebSocket server...
W (42644) WEBSOCKET: WebSocket client marked as started but link not connected - forcing restart
I (42690) STATE_MGR: Voice pipeline became idle at stage idle
I (42691) STATE_MGR: Waiting for TTS playback drain (~0 bytes pending, timeout 15000 ms)
I (42995) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (42995) STATE_MGR: TTS decoder confirmed idle
I (42998) STATE_MGR: Flushing and resetting TTS decoder for next session
I (43006) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (43014) TTS: Flushing pending audio before reset (~0 bytes)
I (43320) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (43321) TTS: TTS decoder session reset for next audio stream
I (43325) TTS: âœ… TTS decoder flushed and reset for next session
I (43332) TTS: TTS playback task shutting down - is_running=0
I (43338) TTS: ğŸµ TTS playback task exiting (played 0 bytes, result: ESP_OK)
I (43346) TTS:   âœ“ DMA buffer freed from PSRAM
I (43351) TTS:   âœ“ Watchdog unregistered, handle cleared, flags set
I (43532) TTS: â¹ï¸ Stopping TTS decoder...
W (43532) TTS: TTS decoder not running
I (43628) WEBSOCKET: âœ… WebSocket connected to server
I (43629) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (43635) WEBSOCKET: Handshake sent successfully
I (43636) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (43657) STATE_MGR: Acquiring I2S mutex...
I (43657) STATE_MGR: Deinitializing audio drivers...
I (43657) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43675) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (43682) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43700) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (43707) AUDIO: âœ… RX channel disabled (took 0 ms)
I (43713) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (43719) AUDIO: âœ… TX channel disabled (took 0 ms)
I (43725) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (43781) AUDIO: [STEP 4/5] Deleting RX channel...
I (43782) AUDIO: âœ… RX channel deleted (took 0 ms)
I (43782) AUDIO: [STEP 5/5] Deleting TX channel...
I (43787) AUDIO: âœ… TX channel deleted (took 0 ms)
I (43792) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (43850) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43857) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (43863) AUDIO: â•‘ Camera Can Now Initialize
I (43869) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43937) STATE_MGR: Allowing memory stabilization (100ms)...
I (44037) STATE_MGR: Camera will be initialized on-demand during capture
I (44037) STATE_MGR: I2S mutex released
I (44038) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44057) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (44063) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44082) MEM_MGR: â•‘ Internal RAM:
I (44086) MEM_MGR: â•‘   Free:             121247 bytes (118 KB)
I (44093) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (44099) MEM_MGR: â•‘   Fragmentation:     62%
I (44105) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44123) MEM_MGR: â•‘ DMA-capable RAM:
I (44128) MEM_MGR: â•‘   Free:             100883 bytes ( 98 KB)
I (44134) MEM_MGR: â•‘   Largest Block:     47104 bytes ( 46 KB)
I (44141) MEM_MGR: â•‘   Fragmentation:     54%
I (44146) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44165) MEM_MGR: â•‘ PSRAM:
I (44168) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (44175) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (44182) MEM_MGR: â•‘   Fragmentation:      2%
I (44187) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44206) MEM_MGR: â•‘ Total Heap:
I (44210) MEM_MGR: â•‘   Free:             3964552 bytes (3871 KB)
I (44216) MEM_MGR: â•‘   Minimum Ever:     3905020 bytes (3813 KB)
I (44223) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44242) MEM_MGR: â•‘ Memory Delta from Baseline:
I (44247) MEM_MGR: â•‘   Internal RAM:     -103872 bytes (-101 KB)
I (44254) MEM_MGR: â•‘   DMA-capable:      -103872 bytes (-101 KB)
I (44261) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (44268) MEM_MGR: â•‘   Total Heap:       -400188 bytes (-390 KB)
I (44275) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44293) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (44303) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44307) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (44320) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (44331) WEBSOCKET: Server status: connected
I (44337) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44350) websocket_client: Started
I (44360) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44365) WEBSOCKET: âœ… WebSocket health check task created
I (44383) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (44389) WEBSOCKET: WebSocket client started
I (44396) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44401) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
E (44427) task_wdt: esp_task_wdt_reset(705): task not found
I (44419) AUDIO: [DIAG] Pre-init state:
I (44365) WEBSOCKET: WebSocket health check task started
I (44437) AUDIO:   Free heap: 3958684 bytes
I (44448) AUDIO:   Free internal RAM: 115503 bytes
I (44454) AUDIO:   Free DMA-capable: 95139 bytes
I (44459) AUDIO:   Free PSRAM: 3863732 bytes
I (44464) AUDIO:   Timestamp: 42911 ms
I (44468) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (44475) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (44483) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (44491) AUDIO:   DMA frame num (per desc): 1020
I (44497) AUDIO:   DMA total samples (effective): 4080
I (44503) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (44510) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (44516) AUDIO: âœ… I2S channels created (took 0 ms)
I (44522) AUDIO:   TX handle: 0x3ffcb504 | RX handle: 0x3ffcab6c
I (44528) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (44535) AUDIO:   Sample rate: 16000 Hz
I (44538) WEBSOCKET: Connecting to WebSocket server...
I (44539) AUDIO:   MCLK: DISABLED
W (44545) WEBSOCKET: Already connected
I (44549) AUDIO:   BCLK: GPIO14 (shared)
I (44558) AUDIO:   WS:   GPIO15 (shared)
I (44563) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (44570) AUDIO: âœ… TX channel configured (took 1 ms)
I (44574) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (44581) AUDIO:   Sample rate: 16000 Hz
I (44586) AUDIO:   MCLK: DISABLED
I (44590) AUDIO:   BCLK: GPIO14 (shared)
I (44594) AUDIO:   WS:   GPIO15 (shared)
I (44599) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (44605) AUDIO: âœ… RX channel configured (took 0 ms)
I (44610) AUDIO: [STEP 4/6] Enabling TX channel...
I (44616) AUDIO: âœ… TX channel enabled (took 0 ms)
I (44621) AUDIO: [STEP 5/6] Enabling RX channel...
I (44627) AUDIO: âœ… RX channel enabled (took 0 ms)
I (44632) AUDIO: [STEP 6/6] Hardware stabilization...
I (44638) AUDIO:   Phase 1: Initial settle (50ms)
I (44693) AUDIO:   Phase 2: DMA verification
I (44693) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (44693) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (44850) AUDIO: [DIAG] Post-init state:
I (44850) AUDIO:   Free heap: 3935244 bytes
I (44850) AUDIO:   Free internal RAM: 91939 bytes
I (44854) AUDIO:   Free DMA-capable: 71575 bytes
I (44859) AUDIO:   Free PSRAM: 3863732 bytes
I (44864) AUDIO:   Timestamp: 43311 ms
I (44869) AUDIO:   Total init time: 201 ms
I (44873) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44891) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (44897) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (44903) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (44912) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (44918) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44936) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44954) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (44961) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (44967) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (44974) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (44980) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45230) WEBSOCKET: âœ… WebSocket connected to server
I (45231) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (45236) WEBSOCKET: Handshake sent successfully
I (45238) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (45285) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45292) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (45300) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45318) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (45325) AUDIO: âœ… RX channel disabled (took 0 ms)
I (45330) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (45337) AUDIO: âœ… TX channel disabled (took 0 ms)
I (45342) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (45359) WEBSOCKET: WebSocket connection restored (cycle: 7, disconnects: 2, reconnects: 3)
I (45399) AUDIO: [STEP 4/5] Deleting RX channel...
I (45400) AUDIO: âœ… RX channel deleted (took 0 ms)
I (45400) AUDIO: [STEP 5/5] Deleting TX channel...
I (45405) AUDIO: âœ… TX channel deleted (took 0 ms)
I (45410) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (45468) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45475) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (45481) AUDIO: â•‘ Camera Can Now Initialize
I (45487) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45505) LED_CTRL: LED pattern -> 3
I (45509) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (45525) STATE_MGR: WebSocket connected
I (45536) STATE_MGR: WebSocket connected
I (45546) STATE_MGR: WebSocket connected
I (45847) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (45847) WEBSOCKET: Server status: connected
E (46433) task_wdt: esp_task_wdt_reset(705): task not found
W (46889) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:48% PSRAM:2%
E (48433) task_wdt: esp_task_wdt_reset(705): task not found
I (49495) STATE_MGR: Button event received: 3 in state CAMERA_STANDBY
I (49495) BUTTON: Long press detected (3000 ms)
W (49495) STATE_MGR: Long press - shutdown requested
W (49502) STATE_MGR: Shutdown state reached
W (49506) STATE_MGR: === SYSTEM SHUTDOWN ===
I (49512) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (49529) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (49537) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (49555) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (49572) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (49580) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (49598) AUDIO: [DIAG] Pre-init state:
I (49602) AUDIO:   Free heap: 3961464 bytes
I (49607) AUDIO:   Free internal RAM: 118159 bytes
I (49613) AUDIO:   Free DMA-capable: 97795 bytes
I (49618) AUDIO:   Free PSRAM: 3863732 bytes
I (49623) AUDIO:   Timestamp: 48070 ms
I (49627) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (49634) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (49642) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (49650) AUDIO:   DMA frame num (per desc): 1020
I (49656) AUDIO:   DMA total samples (effective): 4080
I (49661) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (49668) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (49675) AUDIO: âœ… I2S channels created (took 0 ms)
I (49680) AUDIO:   TX handle: 0x3ffcb504 | RX handle: 0x3ffcab0c
I (49687) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (49694) AUDIO:   Sample rate: 16000 Hz
I (49698) AUDIO:   MCLK: DISABLED
I (49702) AUDIO:   BCLK: GPIO14 (shared)
I (49707) AUDIO:   WS:   GPIO15 (shared)
I (49711) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (49718) AUDIO: âœ… TX channel configured (took 1 ms)
I (49723) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (49730) AUDIO:   Sample rate: 16000 Hz
I (49734) AUDIO:   MCLK: DISABLED
I (49738) AUDIO:   BCLK: GPIO14 (shared)
I (49743) AUDIO:   WS:   GPIO15 (shared)
I (49747) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (49754) AUDIO: âœ… RX channel configured (took 0 ms)
I (49759) AUDIO: [STEP 4/6] Enabling TX channel...
I (49764) AUDIO: âœ… TX channel enabled (took 0 ms)
I (49770) AUDIO: [STEP 5/6] Enabling RX channel...
I (49775) AUDIO: âœ… RX channel enabled (took 0 ms)
I (49781) AUDIO: [STEP 6/6] Hardware stabilization...
I (49787) AUDIO:   Phase 1: Initial settle (50ms)
I (49842) AUDIO:   Phase 2: DMA verification
I (49842) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (49842) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (49999) AUDIO: [DIAG] Post-init state:
I (49999) AUDIO:   Free heap: 3935468 bytes
I (49999) AUDIO:   Free internal RAM: 92163 bytes
I (50003) AUDIO:   Free DMA-capable: 71799 bytes
I (50008) AUDIO:   Free PSRAM: 3863732 bytes
I (50013) AUDIO:   Timestamp: 48460 ms
I (50018) AUDIO:   Total init time: 201 ms
I (50022) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50040) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (50046) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (50052) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (50061) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (50067) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50085) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50103) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (50110) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (50116) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (50123) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (50129) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
E (50342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (50342) task_wdt:  - ws_health_check (CPU 0/1)
E (50342) task_wdt:  - ws_health_check (CPU 0/1)
E (50342) task_wdt: Tasks currently running:
E (50342) task_wdt: CPU 0: IDLE0
E (50342) task_wdt: CPU 1: state_mgr
E (50342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (50342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

I (50433) HOTPIN_MAIN: System shutdown detected, terminating WebSocket connection task
I (50433) HOTPIN_MAIN: Unregistering WebSocket connection task from watchdog
E (50438) task_wdt: delete_entry(236): task not found
W (50444) HOTPIN_MAIN: Failed to unregister ws_connect task from watchdog: ESP_ERR_NOT_FOUND
I (50453) HOTPIN_MAIN: WebSocket connection task terminated
I (51391) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51398) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (51406) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51424) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (51431) AUDIO: âœ… RX channel disabled (took 0 ms)
I (51436) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (51443) AUDIO: âœ… TX channel disabled (took 0 ms)
I (51448) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (51505) AUDIO: [STEP 4/5] Deleting RX channel...
I (51506) AUDIO: âœ… RX channel deleted (took 0 ms)
I (51506) AUDIO: [STEP 5/5] Deleting TX channel...
I (51511) AUDIO: âœ… TX channel deleted (took 0 ms)
I (51516) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (51574) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51581) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (51587) AUDIO: â•‘ Camera Can Now Initialize
I (51593) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51611) LED_CTRL: LED pattern -> 1
I (52215) LED_CTRL: LED pattern -> 3
I (53415) LED_CTRL: LED pattern -> 0
I (53415) STATE_MGR: Stopping all subsystems...
I (53415) STATE_MGR: Shutting down camera...
I (53419) CAMERA: Deinitializing camera...
I (53423) STT: Stopping STT pipeline...
W (53428) STT: STT pipeline already stopped
I (53433) TTS: â¹ï¸ Stopping TTS decoder...
W (53438) TTS: TTS decoder not running
I (53467) STATE_MGR: Stopping WebSocket client
I (53467) WEBSOCKET: Disconnecting from WebSocket server...
W (53936) websocket_client: Client was not started
W (53937) WEBSOCKET: WebSocket client stop reported ESP_FAIL, continuing cleanup
I (53939) WEBSOCKET: WebSocket health check task shutdown signal received
I (53946) WEBSOCKET: WebSocket health check task exiting (cycles: 11, disconnects: 2, reconnects: 4)
I (54039) WEBSOCKET: WebSocket disconnected
I (54039) WEBSOCKET: Force stopping WebSocket client
W (54039) websocket_client: Client was not started
W (54044) WEBSOCKET: Graceful close returned ESP_FAIL
I (54050) STATE_MGR: âœ… Shutdown complete
W (55387) WEBSOCKET: WebSocket connection lost (cycle: 12, disconnects: 2, reconnects: 4)
I (55387) WEBSOCKET: Attempting WebSocket reconnection (disconnects: 3, cycle: 12)
I (55393) WEBSOCKET: Force stopping WebSocket client
W (55399) websocket_client: Client was not started
W (55404) WEBSOCKET: Graceful close returned ESP_FAIL
I (55410) WEBSOCKET: Connecting to WebSocket server...
I (55416) websocket_client: Started
I (55421) WEBSOCKET: âœ… WebSocket health check task created
I (55421) WEBSOCKET: WebSocket health check task started
I (55426) WEBSOCKET: WebSocket client started
I (55437) WEBSOCKET: WebSocket reconnection successful
I (56889) WEBSOCKET: âœ… WebSocket connected to server
I (56890) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (56895) WEBSOCKET: Handshake sent successfully
I (56897) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (57516) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (57517) WEBSOCKET: Server status: connected
I (57594) WEBSOCKET: WebSocket connection restored (cycle: 13, disconnects: 3, reconnects: 5)
E (60342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (60342) task_wdt:  - ws_health_check (CPU 0/1)
E (60342) task_wdt:  - ws_health_check (CPU 0/1)
E (60342) task_wdt:  - ws_health_check (CPU 0/1)
E (60342) task_wdt: Tasks currently running:
E (60342) task_wdt: CPU 0: IDLE0
E (60342) task_wdt: CPU 1: IDLE1
E (60342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (60342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (61890) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:51% PSRAM:2%
E (70342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (70342) task_wdt:  - ws_health_check (CPU 0/1)
E (70342) task_wdt:  - ws_health_check (CPU 0/1)
E (70342) task_wdt: Tasks currently running:
E (70342) task_wdt: CPU 0: IDLE0
E (70342) task_wdt: CPU 1: IDLE1
E (70342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c
E (70342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
:4341
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (76891) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:51% PSRAM:2%
E (80342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (80342) task_wdt:  - ws_health_check (CPU 0/1)
E (80342) task_wdt:  - ws_health_check (CPU 0/1)
E (80342) task_wdt: Tasks currently running:
E (80342) task_wdt: CPU 0: IDLE0
E (80342) task_wdt: CPU 1: IDLE1
E (80342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (80342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (90342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (90342) task_wdt:  - ws_health_check (CPU 0/1)
E (90342) task_wdt:  - ws_health_check (CPU 0/1)
E (90342) task_wdt: Tasks currently running:
E (90342) task_wdt: CPU 0: IDLE0
E (90342) task_wdt: CPU 1: IDLE1
E (90342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c
E (90342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
:4341
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (91892) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:54% PSRAM:2%
E (100342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (100342) task_wdt:  - ws_health_check (CPU 0/1)
E (100342) task_wdt:  - ws_health_check (CPU 0/1)
E (100342) task_wdt: Tasks currently running:
E (100342) task_wdt: CPU 0: IDLE0
E (100342) task_wdt: CPU 1: IDLE1
E (100342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (100342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (106892) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:54% PSRAM:2%
E (110342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (110342) task_wdt:  - ws_health_check (CPU 0/1)
E (110342) task_wdt:  - ws_health_check (CPU 0/1)
E (110342) task_wdt: Tasks currently running:
E (110342) task_wdt: CPU 0: IDLE0
E (110342) task_wdt: CPU 1: IDLE1
E (110342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (110342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (120342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (120342) task_wdt:  - ws_health_check (CPU 0/1)
E (120342) task_wdt:  - ws_health_check (CPU 0/1)
E (120342) task_wdt: Tasks currently running:
E (120342) task_wdt: CPU 0: IDLE0
E (120342) task_wdt: CPU 1: IDLE1
E (120342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (120342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (121893) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:54% PSRAM:2%
E (130342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (130342) task_wdt:  - ws_health_check (CPU 0/1)
E (130342) task_wdt:  - ws_health_check (CPU 0/1)
E (130342) task_wdt: Tasks currently running:
E (130342) task_wdt: CPU 0: IDLE0
E (130342) task_wdt: CPU 1: IDLE1
E (130342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (130342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (136894) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:54% PSRAM:2%
E (140342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (140342) task_wdt:  - ws_health_check (CPU 0/1)
E (140342) task_wdt:  - ws_health_check (CPU 0/1)
E (140342) task_wdt: Tasks currently running:
E (140342) task_wdt: CPU 0: IDLE0
E (140342) task_wdt: CPU 1: IDLE1
E (140342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (140342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (150342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (150342) task_wdt:  - ws_health_check (CPU 0/1)
E (150342) task_wdt:  - ws_health_check (CPU 0/1)
E (150342) task_wdt: Tasks currently running:
E (150342) task_wdt: CPU 0: IDLE0
E (150342) task_wdt: CPU 1: IDLE1
E (150342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (150342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (151895) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:55% PSRAM:2%
E (160342) task_wdt: Task watchdog got triggered. The following tasks/users did not reset the watchdog in time:
E (160342) task_wdt:  - ws_health_check (CPU 0/1)
E (160342) task_wdt:  - ws_health_check (CPU 0/1)
E (160342) task_wdt: Tasks currently running:
E (160342) task_wdt: CPU 0: IDLE0
E (160342) task_wdt: CPU 1: IDLE1
E (160342) task_wdt: Print CPU 0 (current core) backtrace


Backtrace: 0x400F4D8B:0x3FFB21E0 0x40084521:0x3FFB2210 0x4008B3B7:0x3FFCBD30 0x400D573A:0x3FFCBD50 0x4008EE07:0x3FFCBD70
--- 0x400f4d8b: task_wdt_timeout_handling at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:434
--- (inlined by) task_wdt_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/task_wdt/task_wdt.c:507
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (160342) task_wdt: Print CPU 1 backtrace


Backtrace: 0x40085C4F:0x3FFB27F0 0x40084521:0x3FFB2810 0x4008B3B7:0x3FFCC330 0x400D573A:0x3FFCC350 0x4008EE07:0x3FFCC370
--- 0x40085c4f: esp_crosscore_isr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/crosscore_int.c:73
--- 0x40084521: _xt_lowint1 at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/xtensa_vectors.S:1240
--- 0x4008b3b7: xt_utils_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/xtensa/include/xt_utils.h:82
--- (inlined by) esp_cpu_wait_for_intr at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_hw_support/cpu.c:55
--- 0x400d573a: esp_vApplicationIdleHook at C:/Espressif/frameworks/esp-idf-v5.4.2/components/esp_system/freertos_hooks.c:58
--- 0x4008ee07: prvIdleTask at C:/Espressif/frameworks/esp-idf-v5.4.2/components/freertos/FreeRTOS-Kernel/tasks.c:4341

E (166896) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:55% PSRAM:2%
