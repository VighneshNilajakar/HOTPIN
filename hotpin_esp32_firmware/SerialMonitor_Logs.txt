PS F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware> idf.py monitor
Executing action: monitor
Serial port COM7
Connecting....
Detecting chip type... Unsupported detection protocol, switching and trying again...
Connecting...
Detecting chip type... ESP32
Running idf_monitor in directory F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware
Executing "C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe C:\Espressif\frameworks\esp-idf-v5.4.2\tools/idf_monitor.py -p COM7 -b 115200 --toolchain-prefix xtensa-esp32-elf- --target esp32 --revision 0 F:\Documents\HOTPIN\HOTPIN\hotpin_esp32_firmware\build\hotpin_esp32_firmware.elf --force-color -m 'C:\Espressif\python_env\idf5.4_py3.11_env\Scripts\python.exe' 'C:\Espressif\frameworks\esp-idf-v5.4.2\tools\idf.py'"...
--- Warning: GDB cannot open serial ports accessed as COMx
--- Using \\.\COM7 instead...
--- esp-idf-monitor 1.7.0 on \\.\COM7 115200
--- Quit: Ctrl+] | Menu: Ctrl+T | Help: Ctrl+T followed by Ctrl+H
ets Jul 29 2019 12:21:46

rst:0x1 (POWERON_RESET),boot:0x3 (DOWNLOAD_BOOT(UART0/UART1/SDIO_REI_REO_V2))
waiting for download
I (13) boot: ESP-IDF v5.4.2-dirty 2nd stage bootloader
I (13) boot: compile time Nov  3 2025 22:40:12
I (13) boot: Multicore bootloader
I (14) boot: chip revision: v3.1
I (17) boot.esp32: SPI Speed      : 40MHz
I (21) boot.esp32: SPI Mode       : DIO
I (24) boot.esp32: SPI Flash Size : 2MB
I (28) boot: Enabling RNG early entropy source...
I (32) boot: Partition Table:
I (35) boot: ## Label            Usage          Type ST Offset   Length
I (41) boot:  0 nvs              WiFi data        01 02 00009000 00004000
I (48) boot:  1 otadata          OTA data         01 00 0000d000 00002000
I (54) boot:  2 phy_init         RF data          01 01 0000f000 00001000
I (61) boot:  3 factory          factory app      00 00 00010000 00180000
I (67) boot:  4 storage          Unknown data     01 81 00190000 00070000
I (74) boot: End of partition table
I (77) boot: Defaulting to factory image
I (81) esp_image: segment 0: paddr=00010020 vaddr=3f400020 size=3addch (241116) map
I (170) esp_image: segment 1: paddr=0004ae04 vaddr=3ff80000 size=0001ch (    28) load
I (171) esp_image: segment 2: paddr=0004ae28 vaddr=3ffb0000 size=051f0h ( 20976) load
I (182) esp_image: segment 3: paddr=00050020 vaddr=400d0020 size=be0ech (778476) map
I (448) esp_image: segment 4: paddr=0010e114 vaddr=3ffb51f0 size=0cad4h ( 51924) load
I (467) esp_image: segment 5: paddr=0011abf0 vaddr=40080000 size=1ad94h (109972) load
I (527) boot: Loaded app from partition at offset 0x10000
I (527) boot: Disabling RNG early entropy source...
I (537) quad_psram: This chip is ESP32-D0WD
I (537) esp_psram: Found 4MB PSRAM device
I (538) esp_psram: Speed: 40MHz
I (541) esp_psram: PSRAM initialized, cache is in low/high (2-core) mode.
I (548) cpu_start: Multicore app
I (1443) esp_psram: SPI SRAM memory test OK
I (1451) cpu_start: Pro cpu start user code
I (1451) cpu_start: cpu freq: 240000000 Hz
I (1451) app_init: Application information:
I (1454) app_init: Project name:     hotpin_esp32_firmware
I (1460) app_init: App version:      40a7bbc
I (1465) app_init: Compile time:     Nov  3 2025 22:39:55
I (1471) app_init: ELF file SHA256:  fe41f5694...
I (1476) app_init: ESP-IDF:          v5.4.2-dirty
I (1482) efuse_init: Min chip rev:     v0.0
I (1487) efuse_init: Max chip rev:     v3.99
I (1492) efuse_init: Chip rev:         v3.1
I (1497) heap_init: Initializing. RAM available for dynamic allocation:
I (1504) heap_init: At 3FFAE6E0 len 00001920 (6 KiB): DRAM
I (1510) heap_init: At 3FFC9478 len 00016B88 (90 KiB): DRAM
I (1516) heap_init: At 3FFE0440 len 00003AE0 (14 KiB): D/IRAM
I (1523) heap_init: At 3FFE4350 len 0001BCB0 (111 KiB): D/IRAM
I (1529) heap_init: At 4009AD94 len 0000526C (20 KiB): IRAM
I (1536) esp_psram: Adding pool of 4096K of PSRAM memory to heap allocator
I (1544) spi_flash: detected chip: generic
I (1548) spi_flash: flash io: dio
W (1552) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (1566) main_task: Started on CPU0
I (1569) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations
I (1578) main_task: Calling app_main()
I (1582) HOTPIN_MAIN: ====================================
I (1588) HOTPIN_MAIN: HotPin ESP32-CAM AI Agent Starting
I (1594) HOTPIN_MAIN: ====================================
W (1600) HOTPIN_MAIN: Brownout detector disabled
I (1605) HOTPIN_MAIN: Validating PSRAM...
I (1610) HOTPIN_MAIN: PSRAM detected: 4194304 bytes (4.00 MB)
I (1616) HOTPIN_MAIN: PSRAM validation passed
I (1622) HOTPIN_MAIN: ====================================
I (1628) HOTPIN_MAIN: System Information:
I (1632) HOTPIN_MAIN: Chip: esp32
I (1636) HOTPIN_MAIN: Cores: 2
I (1640) HOTPIN_MAIN: Silicon revision: 301
I (1645) HOTPIN_MAIN: CPU Frequency: 240 MHz
I (1650) HOTPIN_MAIN: Flash: 2 MB external
I (1655) HOTPIN_MAIN: Free heap: 4364852 bytes
I (1660) HOTPIN_MAIN: PSRAM: 4194304 bytes
I (1665) HOTPIN_MAIN: ====================================
I (1671) HOTPIN_MAIN: Initializing memory manager...
I (1676) MEM_MGR: Initializing memory manager...
I (1682) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1700) MEM_MGR: â•‘ Memory Manager Initialized
I (1705) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1724) MEM_MGR: â•‘ Baseline Memory State:
I (1729) MEM_MGR: â•‘   Internal RAM:     225135 bytes (219 KB)
I (1735) MEM_MGR: â•‘   DMA-capable:      204771 bytes (199 KB)
I (1742) MEM_MGR: â•‘   PSRAM:            4192016 bytes (4093 KB)
I (1749) MEM_MGR: â•‘   Total Heap:       4364756 bytes (4262 KB)
I (1755) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1774) MEM_MGR: â•‘ Configured Thresholds:
I (1779) MEM_MGR: â•‘   Internal RAM:     WARN=50KB, CRIT=20KB
I (1785) MEM_MGR: â•‘   DMA-capable:      WARN=35KB, CRIT=20KB
I (1792) MEM_MGR: â•‘   PSRAM:            WARN=500KB, CRIT=200KB
I (1798) MEM_MGR: â•‘   Fragmentation:    WARN=30%, CRIT=50%
I (1805) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1823) MEM_MGR: Starting memory monitoring (interval: 15000 ms)
I (1830) MEM_MGR: âœ… Memory monitoring started
I (1830) MEM_MGR: Memory monitor task started (interval: 15000 ms)
I (1835) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
W (1842) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:46% PSRAM:2%
I (1860) MEM_MGR: â•‘ Memory Statistics - System Boot
I (1874) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1892) MEM_MGR: â•‘ Internal RAM:
I (1897) MEM_MGR: â•‘   Free:             225135 bytes (219 KB)
I (1903) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (1910) MEM_MGR: â•‘   Fragmentation:     51%
I (1915) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1933) MEM_MGR: â•‘ DMA-capable RAM:
I (1938) MEM_MGR: â•‘   Free:             204771 bytes (199 KB)
I (1944) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (1951) MEM_MGR: â•‘   Fragmentation:     46%
I (1956) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (1974) MEM_MGR: â•‘ PSRAM:
I (1978) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (1985) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (1991) MEM_MGR: â•‘   Fragmentation:      2%
I (1997) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2015) MEM_MGR: â•‘ Total Heap:
I (2019) MEM_MGR: â•‘   Free:             4364756 bytes (4262 KB)
I (2026) MEM_MGR: â•‘   Minimum Ever:     4364756 bytes (4262 KB)
I (2032) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2051) MEM_MGR: â•‘ Memory Delta from Baseline:
I (2056) MEM_MGR: â•‘   Internal RAM:          +0 bytes (  +0 KB)
I (2063) MEM_MGR: â•‘   DMA-capable:           +0 bytes (  +0 KB)
I (2070) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (2076) MEM_MGR: â•‘   Total Heap:            +0 bytes (  +0 KB)
I (2083) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (2101) HOTPIN_MAIN: Initializing NVS...
I (2131) HOTPIN_MAIN: NVS initialized successfully
I (2132) event_dispatcher: System event queue ready (16 entries)
I (2133) HOTPIN_MAIN: Synchronization primitives created
I (2139) HOTPIN_MAIN: Initializing WiFi...
I (2147) wifi:wifi driver task: 3ffdaabc, prio:23, stack:6656, core=0
I (2160) wifi:wifi firmware version: bea31f3
I (2160) wifi:wifi certification version: v7.0
I (2161) wifi:config NVS flash: enabled
I (2161) wifi:config nano formatting: disabled
I (2166) wifi:Init data frame dynamic rx buffer num: 32
I (2170) wifi:Init static rx mgmt buffer num: 5
I (2175) wifi:Init management short buffer num: 32
I (2179) wifi:Init dynamic tx buffer num: 32
I (2183) wifi:Init static rx buffer size: 1600
I (2187) wifi:Init static rx buffer num: 10
I (2191) wifi:Init dynamic rx buffer num: 32
I (2196) wifi_init: rx ba win: 6
I (2199) wifi_init: accept mbox: 6
I (2203) wifi_init: tcpip mbox: 32
I (2207) wifi_init: udp mbox: 6
I (2211) wifi_init: tcp mbox: 6
I (2215) wifi_init: tcp tx win: 5760
I (2219) wifi_init: tcp rx win: 5760
I (2223) wifi_init: tcp mss: 1440
I (2227) wifi_init: WiFi IRAM OP enabled
I (2232) wifi_init: WiFi RX IRAM OP enabled
I (2238) phy_init: phy_version 4860,6b7a6e5,Feb  6 2025,14:47:07
I (2312) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(0)
I (2383) wifi:mode : sta (80:f3:da:99:8c:64)
I (2384) wifi:enable tsf
I (2386) HOTPIN_MAIN: WiFi initialization complete, connecting to wifi...
I (2387) HOTPIN_MAIN: Waiting for WiFi connection...
I (2387) HOTPIN_MAIN: WiFi station started, connecting...
I (2449) wifi:new:<6,0>, old:<1,0>, ap:<255,255>, sta:<6,0>, prof:1, snd_ch_cfg:0x0
I (2451) wifi:state: init -> auth (0xb0)
I (3439) wifi:state: auth -> assoc (0x0)
I (3449) wifi:state: assoc -> run (0x10)
I (4592) wifi:connected with wifi, aid = 3, channel 6, BW20, bssid = ee:d4:b9:ed:90:50
I (4593) wifi:security: WPA3-SAE, phy: bgn, rssi: -51
I (4597) wifi:pm start, type: 1

I (4597) wifi:dp: 1, bi: 102400, li: 3, scale listen interval from 307200 us to 307200 us
I (4606) wifi:dp: 2, bi: 102400, li: 4, scale listen interval from 307200 us to 409600 us
I (4613) wifi:AP's beacon interval = 102400 us, DTIM period = 2
I (4624) HOTPIN_MAIN: WiFi connected to AP
I (4633) wifi:<ba-add>idx:0 (ifx:0, ee:d4:b9:ed:90:50), tid:0, ssn:0, winSize:64
I (6428) esp_netif_handlers: sta ip: 10.143.111.214, mask: 255.255.255.0, gw: 10.143.111.248
I (6429) HOTPIN_MAIN: âœ… Got IP address: 10.143.111.214
I (6433) HOTPIN_MAIN: WiFi ready - WebSocket connection task will handle server connection
I (7401) HOTPIN_MAIN: Initializing button handler...
I (7401) BUTTON: Initializing button handler on GPIO 12
I (7402) gpio: GPIO[12]| InputEn: 1| OutputEn: 0| OpenDrain: 0| Pullup: 1| Pulldown: 0| Intr:3
I (7411) BUTTON: Button FSM task started
I (7416) BUTTON: GPIO ISR service installed successfully
I (7421) BUTTON: Button handler initialized successfully (initial level=1, primed=1)
I (7430) HOTPIN_MAIN: Initializing LED controller...
I (7435) LED_CTRL: Initializing LED controller on GPIO 33
I (7442) LED_CTRL: LED controller ready
I (7446) LED_CTRL: LED pattern -> 2
I (7450) HOTPIN_MAIN: Initializing WebSocket client...
I (7456) WEBSOCKET: Initializing WebSocket client...
I (7462) WEBSOCKET: Server URI: ws://10.143.111.58:8000/ws
I (7468) WEBSOCKET: Authorization header configured
I (7474) WEBSOCKET: âœ… WebSocket client initialized
I (7479) WEBSOCKET: Status callback registered
I (7484) HOTPIN_MAIN: WebSocket status callback registered
I (7490) HOTPIN_MAIN: Initializing HTTP client...
I (7496) HTTP_CLIENT: Initializing HTTP client
I (7501) HTTP_CLIENT: Authorization token configured
I (7506) HTTP_CLIENT: HTTP client initialized (server: http://10.143.111.58:8000)
I (7515) HOTPIN_MAIN: Initializing STT pipeline...
I (7520) STT: Initializing STT pipeline...
I (7525) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7543) STT: â•‘ STT Ring Buffer Allocation (PSRAM)
I (7549) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7567) STT: [MEMORY] Pre-allocation state:
I (7572) STT:   Free internal RAM: 166231 bytes
I (7577) STT:   Free DMA-capable: 145867 bytes
I (7582) STT:   Free PSRAM: 4126020 bytes
I (7588) STT: [ALLOCATION] Allocating 64 KB ring buffer in external PSRAM...
I (7595) STT:   âœ“ Ring buffer allocated at 0x3f810ac0 (PSRAM address)
I (7602) STT:   âœ“ Confirmed: Buffer is in PSRAM address range (0x3F800000-0x3FC00000)
I (7611) STT: [MEMORY] Post-allocation state:
I (7616) STT:   Free internal RAM: 166231 bytes
I (7621) STT:   Free DMA-capable: 145867 bytes
I (7626) STT:   Free PSRAM: 4060480 bytes
I (7637) STT: [CORE AFFINITY] Creating persistent audio streaming task on Core 0
I (7639) STT: Persistent audio streaming task started on Core 0
I (7645) STT:   âœ“ Stream buffer allocated at 0x3ffd1b08 (with safety padding)
I (7654) STT: âœ… STT pipeline initialized
I (7658) HOTPIN_MAIN: Initializing TTS decoder...
I (7663) TTS: Initializing TTS decoder...
I (7668) TTS: Allocating 196608 byte PSRAM buffer for TTS stream
I (7675) TTS:   PSRAM available: 4060480 bytes (3965 KB)
I (7681) TTS:   âœ“ TTS stream buffer allocated at 0x3f820ac4
I (7713) WEBSOCKET: Audio callback registered
I (7714) TTS: âœ… TTS decoder initialized
I (7714) HOTPIN_MAIN: Camera and audio initialization deferred to state manager
I (7720) HOTPIN_MAIN: Creating FreeRTOS tasks...
I (7725) HOTPIN_MAIN: State manager task created on Core 1
I (7725) STATE_MGR: State manager task started on Core 1
I (7732) HOTPIN_MAIN: WebSocket connection task started on Core 0
I (7738) STATE_MGR: Priority: 10
I (7744) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 1)...
I (7748) STATE_MGR: Starting in camera mode...
I (7756) WEBSOCKET: Connecting to WebSocket server...
I (7761) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (7772) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7774) websocket_client: Started
I (7791) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (7795) WEBSOCKET: âœ… WebSocket health check task created
I (7802) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7808) WEBSOCKET: WebSocket client started
I (7826) MEM_MGR: â•‘ Internal RAM:
I (7795) WEBSOCKET: WebSocket health check task started
I (7835) MEM_MGR: â•‘   Free:             222727 bytes (217 KB)
I (7732) HOTPIN_MAIN: WebSocket connection task created on Core 0
I (7848) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (7855) HOTPIN_MAIN: Configuring task watchdog for critical tasks...
I (7861) MEM_MGR: â•‘   Fragmentation:     51%
I (7868) HOTPIN_MAIN: âœ… State manager task added to watchdog
I (7873) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7880) HOTPIN_MAIN: âœ… WebSocket connection task added to watchdog
I (7898) MEM_MGR: â•‘ DMA-capable RAM:
I (7905) HOTPIN_MAIN: Task watchdog configuration complete
I (7910) MEM_MGR: â•‘   Free:             202363 bytes (197 KB)
I (7916) HOTPIN_MAIN: ====================================
I (7922) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (7929) HOTPIN_MAIN: System initialization complete!
I (7935) MEM_MGR: â•‘   Fragmentation:     46%
I (7941) HOTPIN_MAIN: Entering camera standby mode...
I (7946) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7952) HOTPIN_MAIN: ====================================
I (7970) MEM_MGR: â•‘ PSRAM:
I (7977) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (7980) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (7998) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (8004) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (8012) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8018) MEM_MGR: â•‘   Fragmentation:      2%
I (8036) AUDIO: [MUTEX] Creating I2S access mutex for thread safety...
I (8041) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8049) AUDIO:   âœ“ I2S access mutex created successfully
I (8067) MEM_MGR: â•‘ Total Heap:
I (8073) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8077) MEM_MGR: â•‘   Free:             4362348 bytes (4260 KB)
I (8095) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (8102) MEM_MGR: â•‘   Minimum Ever:     4362348 bytes (4260 KB)
I (8109) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8116) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8134) AUDIO: [DIAG] Pre-init state:
I (8152) MEM_MGR: â•‘ Memory Delta from Baseline:
I (8156) AUDIO:   Free heap: 3962540 bytes
I (8162) MEM_MGR: â•‘   Internal RAM:       -2408 bytes (  -2 KB)
I (8166) AUDIO:   Free internal RAM: 119507 bytes
I (8173) MEM_MGR: â•‘   DMA-capable:        -2408 bytes (  -2 KB)
I (8179) AUDIO:   Free DMA-capable: 99143 bytes
I (8185) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (8191) AUDIO:   Free PSRAM: 3863732 bytes
I (8202) AUDIO:   Timestamp: 6667 ms
I (8197) MEM_MGR: â•‘   Total Heap:         -2408 bytes (  -2 KB)
I (8207) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (8213) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8220) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (8238) STATE_MGR: Acquiring I2S mutex...
I (8246) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (8259) AUDIO:   DMA frame num (per desc): 1020
I (8264) AUDIO:   DMA total samples (effective): 4080
I (8270) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (8277) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (8284) AUDIO: âœ… I2S channels created (took 0 ms)
I (8289) AUDIO:   TX handle: 0x3ffe1cb8 | RX handle: 0x3ffe1e04
I (8295) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (8302) AUDIO:   Sample rate: 16000 Hz
I (8306) AUDIO:   MCLK: DISABLED
I (8310) AUDIO:   BCLK: GPIO14 (shared)
I (8315) AUDIO:   WS:   GPIO15 (shared)
I (8319) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (8326) AUDIO: âœ… TX channel configured (took 1 ms)
I (8331) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (8337) AUDIO:   Sample rate: 16000 Hz
I (8342) AUDIO:   MCLK: DISABLED
I (8346) AUDIO:   BCLK: GPIO14 (shared)
I (8350) AUDIO:   WS:   GPIO15 (shared)
I (8355) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (8361) AUDIO: âœ… RX channel configured (took 0 ms)
I (8366) AUDIO: [STEP 4/6] Enabling TX channel...
I (8371) AUDIO: âœ… TX channel enabled (took 0 ms)
I (8378) AUDIO: [STEP 5/6] Enabling RX channel...
I (8382) AUDIO: âœ… RX channel enabled (took 0 ms)
I (8388) AUDIO: [STEP 6/6] Hardware stabilization...
I (8393) AUDIO:   Phase 1: Initial settle (50ms)
I (8449) AUDIO:   Phase 2: DMA verification
I (8449) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (8449) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (8606) AUDIO: [DIAG] Post-init state:
I (8606) AUDIO:   Free heap: 3935488 bytes
I (8606) AUDIO:   Free internal RAM: 92127 bytes
I (8609) AUDIO:   Free DMA-capable: 71763 bytes
I (8614) AUDIO:   Free PSRAM: 3863732 bytes
I (8619) AUDIO:   Timestamp: 7084 ms
I (8623) AUDIO:   Total init time: 201 ms
I (8628) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8646) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (8652) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (8657) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (8666) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (8673) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8691) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8694) WEBSOCKET: âœ… WebSocket connected to server
I (8708) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (8715) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (8720) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (8731) WEBSOCKET: Handshake sent successfully
I (8734) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (8740) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (8746) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (8759) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (8909) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
I (10018) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10025) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (10033) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10051) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (10057) AUDIO: âœ… RX channel disabled (took 0 ms)
I (10063) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (10069) AUDIO: âœ… TX channel disabled (took 0 ms)
I (10075) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (10132) AUDIO: [STEP 4/5] Deleting RX channel...
I (10132) AUDIO: âœ… RX channel deleted (took 0 ms)
I (10132) AUDIO: [STEP 5/5] Deleting TX channel...
I (10137) AUDIO: âœ… TX channel deleted (took 0 ms)
I (10142) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (10154) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (10161) WEBSOCKET: Server status: connected
I (10201) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10208) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (10214) AUDIO: â•‘ Camera Can Now Initialize
I (10220) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10237) STATE_MGR: Audio drivers already inactive; skipping deinit
I (10237) LED_CTRL: LED pattern -> 3
I (10244) STATE_MGR: Allowing memory stabilization (100ms)...
I (10248) HOTPIN_MAIN: Main task exiting - system running
I (10261) main_task: Returned from app_main()
I (10355) STATE_MGR: Camera will be initialized on-demand during capture
I (10355) STATE_MGR: I2S mutex released
I (10356) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10374) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (10381) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10400) MEM_MGR: â•‘ Internal RAM:
I (10404) MEM_MGR: â•‘   Free:             222727 bytes (217 KB)
I (10411) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (10417) MEM_MGR: â•‘   Fragmentation:     51%
I (10423) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10441) MEM_MGR: â•‘ DMA-capable RAM:
I (10445) MEM_MGR: â•‘   Free:             202363 bytes (197 KB)
I (10452) MEM_MGR: â•‘   Largest Block:    110592 bytes (108 KB)
I (10459) MEM_MGR: â•‘   Fragmentation:     46%
I (10464) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10482) MEM_MGR: â•‘ PSRAM:
I (10486) MEM_MGR: â•‘   Free:             4192016 bytes (4093 KB)
I (10493) MEM_MGR: â•‘   Largest Block:    4128768 bytes (4032 KB)
I (10500) MEM_MGR: â•‘   Fragmentation:      2%
I (10505) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10523) MEM_MGR: â•‘ Total Heap:
I (10528) MEM_MGR: â•‘   Free:             4362348 bytes (4260 KB)
I (10534) MEM_MGR: â•‘   Minimum Ever:     4362348 bytes (4260 KB)
I (10541) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10560) MEM_MGR: â•‘ Memory Delta from Baseline:
I (10565) MEM_MGR: â•‘   Internal RAM:       -2408 bytes (  -2 KB)
I (10572) MEM_MGR: â•‘   DMA-capable:        -2408 bytes (  -2 KB)
I (10579) MEM_MGR: â•‘   PSRAM:                 +0 bytes (  +0 KB)
I (10586) MEM_MGR: â•‘   Total Heap:         -2408 bytes (  -2 KB)
I (10593) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (10611) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (10620) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (10636) STATE_MGR: WebSocket connected
I (12841) WEBSOCKET: WebSocket connection restored (cycle: 1, disconnects: 0, reconnects: 0)
I (19939) BUTTON: Single click confirmed
I (19939) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (19940) STATE_MGR: Single click - mode toggle requested
I (19946) STATE_MGR: Switching: Camera â†’ Voice (count: 1)
I (20002) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (20002) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20015) MEM_MGR: â•‘ Memory Statistics - Before Voice Transition
I (20022) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20041) MEM_MGR: â•‘ Internal RAM:
I (20045) MEM_MGR: â•‘   Free:             124139 bytes (121 KB)
I (20051) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (20058) MEM_MGR: â•‘   Fragmentation:     25%
I (20063) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20082) MEM_MGR: â•‘ DMA-capable RAM:
I (20086) MEM_MGR: â•‘   Free:             103775 bytes (101 KB)
I (20093) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (20100) MEM_MGR: â•‘   Fragmentation:     10%
I (20105) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20123) MEM_MGR: â•‘ PSRAM:
I (20127) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (20134) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (20141) MEM_MGR: â•‘   Fragmentation:      2%
I (20146) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20164) MEM_MGR: â•‘ Total Heap:
I (20168) MEM_MGR: â•‘   Free:             3967400 bytes (3874 KB)
I (20175) MEM_MGR: â•‘   Minimum Ever:     3932584 bytes (3840 KB)
I (20182) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20200) MEM_MGR: â•‘ Memory Delta from Baseline:
I (20206) MEM_MGR: â•‘   Internal RAM:     -100996 bytes ( -98 KB)
I (20213) MEM_MGR: â•‘   DMA-capable:      -100996 bytes ( -98 KB)
I (20220) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (20226) MEM_MGR: â•‘   Total Heap:       -397356 bytes (-388 KB)
I (20233) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20252) STATE_MGR: Stopping camera...
I (20256) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20272) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (20279) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20296) STATE_MGR:   Timeout: 5000 ms
I (20300) STATE_MGR:   Timestamp: 18765 ms
I (20305) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (20311) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20327) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (20333) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20350) STATE_MGR:   Free heap before: 3967276 bytes
I (20355) STATE_MGR:   Free PSRAM before: 3863732 bytes
I (20361) CAMERA: Deinitializing camera...
I (20366) STATE_MGR:   âœ“ Camera deinitialized (took 4 ms)
I (20372) STATE_MGR:   Free heap after: 3967400 bytes
I (20378) STATE_MGR:   Free PSRAM after: 3863732 bytes
I (20384) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20400) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (20406) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20423) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (20531) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (20631) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (20681) STATE_MGR:   âœ“ Total stabilization: 250ms
I (20681) STATE_MGR:   Timestamp: 19146 ms
I (20681) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20697) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (20704) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20720) STATE_MGR:   Free heap before: 3967400 bytes
I (20726) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20744) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (20751) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20769) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20787) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (20794) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (20812) AUDIO: [DIAG] Pre-init state:
I (20816) AUDIO:   Free heap: 3967400 bytes
I (20821) AUDIO:   Free internal RAM: 124139 bytes
I (20827) AUDIO:   Free DMA-capable: 103775 bytes
I (20832) AUDIO:   Free PSRAM: 3863732 bytes
I (20837) AUDIO:   Timestamp: 19302 ms
I (20841) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (20848) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (20856) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (20864) AUDIO:   DMA frame num (per desc): 1020
I (20870) AUDIO:   DMA total samples (effective): 4080
I (20876) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (20883) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (20889) AUDIO: âœ… I2S channels created (took 0 ms)
I (20895) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca7e8
I (20901) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (20908) AUDIO:   Sample rate: 16000 Hz
I (20912) AUDIO:   MCLK: DISABLED
I (20916) AUDIO:   BCLK: GPIO14 (shared)
I (20921) AUDIO:   WS:   GPIO15 (shared)
I (20926) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (20933) AUDIO: âœ… TX channel configured (took 1 ms)
I (20937) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (20944) AUDIO:   Sample rate: 16000 Hz
I (20948) AUDIO:   MCLK: DISABLED
I (20952) AUDIO:   BCLK: GPIO14 (shared)
I (20957) AUDIO:   WS:   GPIO15 (shared)
I (20962) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (20968) AUDIO: âœ… RX channel configured (took 0 ms)
I (20973) AUDIO: [STEP 4/6] Enabling TX channel...
I (20979) AUDIO: âœ… TX channel enabled (took 0 ms)
I (20984) AUDIO: [STEP 5/6] Enabling RX channel...
I (20990) AUDIO: âœ… RX channel enabled (took 0 ms)
I (20995) AUDIO: [STEP 6/6] Hardware stabilization...
I (21001) AUDIO:   Phase 1: Initial settle (50ms)
I (21056) AUDIO:   Phase 2: DMA verification
I (21056) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (21057) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (21213) AUDIO: [DIAG] Post-init state:
I (21213) AUDIO:   Free heap: 3941396 bytes
I (21213) AUDIO:   Free internal RAM: 98135 bytes
I (21217) AUDIO:   Free DMA-capable: 77771 bytes
I (21222) AUDIO:   Free PSRAM: 3863752 bytes
I (21227) AUDIO:   Timestamp: 19692 ms
I (21232) AUDIO:   Total init time: 201 ms
I (21236) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21254) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (21261) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (21266) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (21275) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (21281) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21299) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21317) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (21324) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (21330) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (21337) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (21343) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21361) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (21367) STATE_MGR:   Free heap after: 3941396 bytes
I (21373) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21389) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (21395) STATE_MGR: â•‘ Total transition time: 889 ms
I (21401) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21417) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21433) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (21439) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21456) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (21464) TTS: No pending audio to flush
I (21494) TTS: TTS decoder session reset for next audio stream
I (21494) TTS: âœ… TTS decoder flushed and reset for next session
I (21496) STT: Starting STT pipeline...
I (21501) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (21510) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (21517) STT:   Current time: 19982 ms
I (21520) STT: âœ… STT pipeline started
I (21521) STT:   Free heap: 3932844 bytes
I (21522) STT: Audio streaming session activated
I (21536) STT: Connection stabilization delay (500ms)...
I (21576) TTS: ğŸµ Starting TTS decoder...
I (21576) TTS: Initializing TTS decoder...
W (21576) TTS: TTS decoder already initialized
I (21606) TTS: [CORE AFFINITY] Creating TTS playback task on Core 1 (APP_CPU) with safety measures
I (21606) TTS: âœ… TTS decoder started successfully
I (21610) TTS: ğŸµ TTS playback task started on Core 1
I (21616) TTS: âœ… TTS playback task registered with watchdog
I (21622) TTS:   âœ“ DMA buffer allocated in PSRAM at 0x3f850b50 (4096 bytes)
I (21731) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (21731) STT:   âœ“ Audio driver initialized
I (21732) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (21839) STT:   Total stabilization: 300ms
I (21839) STT:   Timestamp: 20303 ms
I (21839) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (21843) STT:   âœ“ DMA-capable buffer allocated at 0x3ffe3970 (with safety padding)
I (21852) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21868) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE
I (21873) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms
I (21879) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21935) LED_CTRL: LED pattern -> 1
I (21936) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21947) MEM_MGR: â•‘ Memory Statistics - After Voice Transition
I (21954) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (21972) MEM_MGR: â•‘ Internal RAM:
I (21976) MEM_MGR: â•‘   Free:             124139 bytes (121 KB)
I (21983) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (21990) MEM_MGR: â•‘   Fragmentation:     25%
I (21995) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22013) MEM_MGR: â•‘ DMA-capable RAM:
I (22018) MEM_MGR: â•‘   Free:             103775 bytes (101 KB)
I (22025) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (22031) MEM_MGR: â•‘   Fragmentation:     10%
I (22036) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22042) STT: Testing WebSocket transport health...
I (22055) MEM_MGR: â•‘ PSRAM:
I (22064) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (22067) STT: âœ… WebSocket transport verified healthy
I (22071) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (22084) MEM_MGR: â•‘   Fragmentation:      2%
I (22089) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22107) MEM_MGR: â•‘ Total Heap:
I (22111) MEM_MGR: â•‘   Free:             3967400 bytes (3874 KB)
I (22118) MEM_MGR: â•‘   Minimum Ever:     3932584 bytes (3840 KB)
I (22125) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22144) MEM_MGR: â•‘ Memory Delta from Baseline:
I (22149) MEM_MGR: â•‘   Internal RAM:     -100996 bytes ( -98 KB)
I (22156) MEM_MGR: â•‘   DMA-capable:      -100996 bytes ( -98 KB)
I (22163) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (22170) MEM_MGR: â•‘   Total Heap:       -397356 bytes (-388 KB)
I (22176) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (22177) STT: Starting audio streaming to server...
I (22195) STATE_MGR: âœ… Voice mode transition complete
I (22206) STATE_MGR: âœ… Entered VOICE_ACTIVE state
I (22222) STATE_MGR: STT pipeline reported start
I (22232) STATE_MGR: TTS playback start event received
E (22509) transport_ws: Error transport_poll_write
E (22510) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (22516) WEBSOCKET: âŒ WebSocket error occurred
I (22521) TTS: Received audio chunk #1: 0 bytes
E (22527) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
E (22527) STATE_MGR: WebSocket error signalled
I (22538) LED_CTRL: LED pattern -> 5
W (22536) WEBSOCKET: âš ï¸ WebSocket disconnected
E (22542) STATE_MGR: WebSocket error occurred while in voice mode - triggering transition to camera
I (22548) TTS: Received audio chunk #2: 0 bytes
E (22537) websocket_client: esp_transport_poll_read() returned -1, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=9
I (22563) TTS: New audio session detected - resetting chunk counter
E (22567) STATE_MGR: WebSocket error signalled
W (22582) HOTPIN_MAIN: âš ï¸ WebSocket status callback: DISCONNECTED
W (22594) WEBSOCKET: WebSocket send buffer full (0 bytes sent), yielding and retrying (attempt 1/4)
W (22597) STATE_MGR: WebSocket disconnected
E (22594) WEBSOCKET: âŒ WebSocket error occurred
I (22609) LED_CTRL: LED pattern -> 4
I (22614) TTS: Received audio chunk #2: 0 bytes
I (22624) TTS: New audio session detected - resetting chunk counter
E (22631) STATE_MGR: WebSocket error signalled
E (22631) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (22636) LED_CTRL: LED pattern -> 5
E (22642) websocket_client: esp_websocket_client_abort_connection(239): Websocket already stop
E (22704) WEBSOCKET: WebSocket connection lost before send attempt 2
E (22704) STT: WebSocket disconnected during audio send - aborting stream
I (22707) STT: Streaming task received stop signal
W (22714) STT: Audio streaming aborted due to transport errors
W (22719) STT: Skipping EOS - WebSocket disconnected
I (22725) STT: Audio streaming session complete (streamed 8192 bytes in 2 chunks)
I (22714) STT: Audio capture task stopped (captured 30720 bytes total)
I (22733) STATE_MGR: STT pipeline reported stop
I (22745) LED_CTRL: LED pattern -> 1
W (22841) WEBSOCKET: WebSocket connection lost (cycle: 3, disconnects: 0, reconnects: 1)
W (22909) HOTPIN_MAIN: WebSocket link not healthy, restarting connection
I (22909) WEBSOCKET: Force stopping WebSocket client
W (22911) websocket_client: Client was not started
W (22916) WEBSOCKET: Graceful close returned ESP_FAIL
I (22922) WEBSOCKET: WebSocket health check task shutdown signal received
I (22930) WEBSOCKET: WebSocket health check task exiting (cycles: 3, disconnects: 1, reconnects: 1)
I (23522) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 2)...
I (23522) WEBSOCKET: Connecting to WebSocket server...
I (23526) websocket_client: Started
I (23531) WEBSOCKET: âœ… WebSocket health check task created
I (23531) WEBSOCKET: WebSocket health check task started
I (23535) WEBSOCKET: WebSocket client started
I (24699) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (24699) BUTTON: Single click confirmed
W (24699) STATE_MGR: Guardrail soft override: stopping voice pipeline (user cancellation)
I (24708) STATE_MGR: Single click - mode toggle requested
I (24714) STATE_MGR: Switching: Voice â†’ Camera (count: 2)
I (24765) WEBSOCKET: âœ… WebSocket connected to server
I (24765) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (24771) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (24771) WEBSOCKET: Handshake sent successfully
I (24778) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (24785) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24803) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (24810) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24829) MEM_MGR: â•‘ Internal RAM:
I (24833) MEM_MGR: â•‘   Free:             124139 bytes (121 KB)
I (24840) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (24846) MEM_MGR: â•‘   Fragmentation:     25%
I (24851) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24870) MEM_MGR: â•‘ DMA-capable RAM:
I (24874) MEM_MGR: â•‘   Free:             103775 bytes (101 KB)
I (24881) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (24888) MEM_MGR: â•‘   Fragmentation:     10%
I (24893) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24911) MEM_MGR: â•‘ PSRAM:
I (24915) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (24922) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (24929) MEM_MGR: â•‘   Fragmentation:      2%
I (24934) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (24946) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
E (24960) task_wdt: esp_task_wdt_reset(705): task not found
I (24952) MEM_MGR: â•‘ Total Heap:
I (24970) MEM_MGR: â•‘   Free:             3967400 bytes (3874 KB)
I (24977) MEM_MGR: â•‘   Minimum Ever:     3932584 bytes (3840 KB)
I (24984) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25002) MEM_MGR: â•‘ Memory Delta from Baseline:
I (25008) MEM_MGR: â•‘   Internal RAM:     -100996 bytes ( -98 KB)
I (25015) MEM_MGR: â•‘   DMA-capable:      -100996 bytes ( -98 KB)
I (25021) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (25028) MEM_MGR: â•‘   Total Heap:       -397356 bytes (-388 KB)
I (25035) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (25054) STATE_MGR: Stopping voice mode components...
I (25059) STT: Stopping STT pipeline...
W (25064) STT: STT pipeline already stopped
I (25594) WEBSOCKET: Connecting to WebSocket server...
I (25619) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (25620) WEBSOCKET: Server status: connected
I (26569) STATE_MGR: Voice pipeline became idle at stage idle
I (26570) STATE_MGR: Waiting for TTS playback drain (~0 bytes pending, timeout 15000 ms)
I (26874) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (26874) STATE_MGR: TTS decoder confirmed idle
I (26877) STATE_MGR: Flushing and resetting TTS decoder for next session
I (26885) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (26893) TTS: Flushing pending audio before reset (~0 bytes)
E (26966) task_wdt: esp_task_wdt_reset(705): task not found
I (27199) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (27199) TTS: TTS decoder session reset for next audio stream
I (27204) TTS: âœ… TTS decoder flushed and reset for next session
I (27211) TTS: TTS playback task shutting down - is_running=0
I (27217) TTS: ğŸµ TTS playback task exiting (played 0 bytes, result: ESP_OK)
I (27225) TTS:   âœ“ DMA buffer freed from PSRAM
I (27230) TTS:   âœ“ Watchdog unregistered, handle cleared, flags set
I (27410) TTS: â¹ï¸ Stopping TTS decoder...
W (27410) TTS: TTS decoder not running
I (27535) WEBSOCKET: Connecting to WebSocket server...
I (27536) STATE_MGR: Acquiring I2S mutex...
I (27536) STATE_MGR: Deinitializing audio drivers...
I (27540) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (27558) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (27566) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (27584) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (27591) AUDIO: âœ… RX channel disabled (took 0 ms)
I (27596) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (27603) AUDIO: âœ… TX channel disabled (took 0 ms)
I (27608) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (27665) AUDIO: [STEP 4/5] Deleting RX channel...
I (27666) AUDIO: âœ… RX channel deleted (took 0 ms)
I (27666) AUDIO: [STEP 5/5] Deleting TX channel...
I (27671) AUDIO: âœ… TX channel deleted (took 0 ms)
I (27676) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (27734) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (27741) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (27747) AUDIO: â•‘ Camera Can Now Initialize
I (27753) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (27821) STATE_MGR: Allowing memory stabilization (100ms)...
I (27921) STATE_MGR: Camera will be initialized on-demand during capture
I (27921) STATE_MGR: I2S mutex released
I (27922) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (27940) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (27947) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (27966) MEM_MGR: â•‘ Internal RAM:
I (27970) MEM_MGR: â•‘   Free:             124139 bytes (121 KB)
I (27977) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (27983) MEM_MGR: â•‘   Fragmentation:     25%
I (27989) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28007) MEM_MGR: â•‘ DMA-capable RAM:
I (28011) MEM_MGR: â•‘   Free:             103775 bytes (101 KB)
I (28018) MEM_MGR: â•‘   Largest Block:     94208 bytes ( 92 KB)
I (28025) MEM_MGR: â•‘   Fragmentation:     10%
I (28030) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28048) MEM_MGR: â•‘ PSRAM:
I (28052) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (28059) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (28066) MEM_MGR: â•‘   Fragmentation:      2%
I (28071) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28089) MEM_MGR: â•‘ Total Heap:
I (28094) MEM_MGR: â•‘   Free:             3967400 bytes (3874 KB)
I (28100) MEM_MGR: â•‘   Minimum Ever:     3932584 bytes (3840 KB)
I (28107) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28126) MEM_MGR: â•‘ Memory Delta from Baseline:
I (28131) MEM_MGR: â•‘   Internal RAM:     -100996 bytes ( -98 KB)
I (28138) MEM_MGR: â•‘   DMA-capable:      -100996 bytes ( -98 KB)
I (28145) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (28152) MEM_MGR: â•‘   Total Heap:       -397356 bytes (-388 KB)
I (28159) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28177) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (28187) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28204) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (28211) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28229) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28247) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (28255) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28273) AUDIO: [DIAG] Pre-init state:
I (28277) AUDIO:   Free heap: 3966832 bytes
I (28282) AUDIO:   Free internal RAM: 123671 bytes
I (28287) AUDIO:   Free DMA-capable: 103307 bytes
I (28293) AUDIO:   Free PSRAM: 3863732 bytes
I (28298) AUDIO:   Timestamp: 26762 ms
I (28302) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (28309) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (28317) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (28325) AUDIO:   DMA frame num (per desc): 1020
I (28331) AUDIO:   DMA total samples (effective): 4080
I (28336) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (28343) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (28350) AUDIO: âœ… I2S channels created (took 0 ms)
I (28355) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffcb424
I (28362) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (28369) AUDIO:   Sample rate: 16000 Hz
I (28373) AUDIO:   MCLK: DISABLED
I (28377) AUDIO:   BCLK: GPIO14 (shared)
I (28382) AUDIO:   WS:   GPIO15 (shared)
I (28386) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (28393) AUDIO: âœ… TX channel configured (took 1 ms)
I (28398) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (28405) AUDIO:   Sample rate: 16000 Hz
I (28409) AUDIO:   MCLK: DISABLED
I (28413) AUDIO:   BCLK: GPIO14 (shared)
I (28418) AUDIO:   WS:   GPIO15 (shared)
I (28422) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (28428) AUDIO: âœ… RX channel configured (took 0 ms)
I (28434) AUDIO: [STEP 4/6] Enabling TX channel...
I (28439) AUDIO: âœ… TX channel enabled (took 0 ms)
I (28445) AUDIO: [STEP 5/6] Enabling RX channel...
I (28450) AUDIO: âœ… RX channel enabled (took 0 ms)
I (28456) AUDIO: [STEP 6/6] Hardware stabilization...
I (28462) AUDIO:   Phase 1: Initial settle (50ms)
I (28517) AUDIO:   Phase 2: DMA verification
I (28517) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (28518) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (28541) WEBSOCKET: WebSocket connection restored (cycle: 4, disconnects: 1, reconnects: 1)
I (28674) AUDIO: [DIAG] Post-init state:
I (28674) AUDIO:   Free heap: 3940840 bytes
I (28674) AUDIO:   Free internal RAM: 97679 bytes
I (28678) AUDIO:   Free DMA-capable: 77315 bytes
I (28683) AUDIO:   Free PSRAM: 3863732 bytes
I (28688) AUDIO:   Timestamp: 27153 ms
I (28693) AUDIO:   Total init time: 201 ms
I (28697) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28715) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (28722) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (28727) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (28736) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (28742) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28760) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (28778) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (28785) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (28791) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (28798) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (28804) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
E (28966) task_wdt: esp_task_wdt_reset(705): task not found
I (29105) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29112) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (29120) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29138) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (29145) AUDIO: âœ… RX channel disabled (took 0 ms)
I (29150) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (29157) AUDIO: âœ… TX channel disabled (took 0 ms)
I (29162) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (29219) AUDIO: [STEP 4/5] Deleting RX channel...
I (29220) AUDIO: âœ… RX channel deleted (took 0 ms)
I (29220) AUDIO: [STEP 5/5] Deleting TX channel...
I (29225) AUDIO: âœ… TX channel deleted (took 0 ms)
I (29230) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (29288) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29295) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (29301) AUDIO: â•‘ Camera Can Now Initialize
I (29307) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (29325) LED_CTRL: LED pattern -> 3
I (29329) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (29345) STATE_MGR: WebSocket connected
E (30966) task_wdt: esp_task_wdt_reset(705): task not found
W (31870) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:37% PSRAM:2%
E (32966) task_wdt: esp_task_wdt_reset(705): task not found
E (34966) task_wdt: esp_task_wdt_reset(705): task not found
E (36966) task_wdt: esp_task_wdt_reset(705): task not found
E (38966) task_wdt: esp_task_wdt_reset(705): task not found
E (40966) task_wdt: esp_task_wdt_reset(705): task not found
I (42858) STATE_MGR: Button event received: 1 in state CAMERA_STANDBY
I (42858) BUTTON: Single click confirmed
I (42858) STATE_MGR: Single click - mode toggle requested
I (42865) STATE_MGR: Switching: Camera â†’ Voice (count: 3)
I (42921) STATE_MGR: === TRANSITION TO VOICE MODE ===
I (42921) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (42934) MEM_MGR: â•‘ Memory Statistics - Before Voice Transition
I (42941) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (42960) MEM_MGR: â•‘ Internal RAM:
I (42964) MEME (42966) task_wdt: esp_task_wdt_reset(705): task not found
_MGR: â•‘   Free:             123671 bytes (120 KB)
I (42977) MEM_MGR: â•‘   Largest Block:     65536 bytes ( 64 KB)
I (42983) MEM_MGR: â•‘   Fragmentation:     48%
I (42989) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43007) MEM_MGR: â•‘ DMA-capable RAM:
I (43012) MEM_MGR: â•‘   Free:             103307 bytes (100 KB)
I (43018) MEM_MGR: â•‘   Largest Block:     65536 bytes ( 64 KB)
I (43025) MEM_MGR: â•‘   Fragmentation:     37%
I (43030) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43049) MEM_MGR: â•‘ PSRAM:
I (43052) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (43059) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (43066) MEM_MGR: â•‘   Fragmentation:      2%
I (43071) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43090) MEM_MGR: â•‘ Total Heap:
I (43094) MEM_MGR: â•‘   Free:             3966832 bytes (3873 KB)
I (43100) MEM_MGR: â•‘   Minimum Ever:     3907592 bytes (3816 KB)
I (43107) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43126) MEM_MGR: â•‘ Memory Delta from Baseline:
I (43131) MEM_MGR: â•‘   Internal RAM:     -101464 bytes ( -99 KB)
I (43138) MEM_MGR: â•‘   DMA-capable:      -101464 bytes ( -99 KB)
I (43145) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (43152) MEM_MGR: â•‘   Total Heap:       -397924 bytes (-388 KB)
I (43159) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43177) STATE_MGR: Stopping camera...
I (43182) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43198) STATE_MGR: â•‘ STEP 2: Acquiring I2S configuration mutex
I (43205) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43221) STATE_MGR:   Timeout: 5000 ms
I (43225) STATE_MGR:   Timestamp: 41690 ms
I (43230) STATE_MGR:   âœ“ Mutex acquired (took 0 ms)
I (43236) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43252) STATE_MGR: â•‘ STEP 3: Deinitializing camera hardware
I (43259) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43275) STATE_MGR:   Free heap before: 3966832 bytes
I (43281) STATE_MGR:   Free PSRAM before: 3863732 bytes
I (43287) CAMERA: Deinitializing camera...
I (43291) STATE_MGR:   âœ“ Camera deinitialized (took 4 ms)
I (43298) STATE_MGR:   Free heap after: 3966832 bytes
I (43303) STATE_MGR:   Free PSRAM after: 3863732 bytes
I (43309) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43325) STATE_MGR: â•‘ HARDWARE STABILIZATION - CRITICAL
I (43332) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43348) STATE_MGR:   Phase 1: Initial settle (100ms) - Free camera interrupts
I (43456) STATE_MGR:   Phase 2: GPIO matrix settle (100ms) - Reconfigure pins
I (43556) STATE_MGR:   Phase 3: Final settle (50ms) - Stabilize state
I (43606) STATE_MGR:   âœ“ Total stabilization: 250ms
I (43606) STATE_MGR:   Timestamp: 42071 ms
I (43606) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43622) STATE_MGR: â•‘ STEP 4: Initializing I2S audio drivers
I (43629) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43645) STATE_MGR:   Free heap before: 3966832 bytes
I (43651) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43669) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (43676) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43694) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43712) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (43719) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (43737) AUDIO: [DIAG] Pre-init state:
I (43741) AUDIO:   Free heap: 3966832 bytes
I (43746) AUDIO:   Free internal RAM: 123671 bytes
I (43752) AUDIO:   Free DMA-capable: 103307 bytes
I (43757) AUDIO:   Free PSRAM: 3863732 bytes
I (43762) AUDIO:   Timestamp: 42227 ms
I (43766) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (43773) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (43781) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (43789) AUDIO:   DMA frame num (per desc): 1020
I (43795) AUDIO:   DMA total samples (effective): 4080
I (43801) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (43808) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (43814) AUDIO: âœ… I2S channels created (took 0 ms)
I (43820) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffcb424
I (43826) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (43833) AUDIO:   Sample rate: 16000 Hz
I (43837) AUDIO:   MCLK: DISABLED
I (43841) AUDIO:   BCLK: GPIO14 (shared)
I (43846) AUDIO:   WS:   GPIO15 (shared)
I (43851) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (43857) AUDIO: âœ… TX channel configured (took 1 ms)
I (43862) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (43869) AUDIO:   Sample rate: 16000 Hz
I (43873) AUDIO:   MCLK: DISABLED
I (43877) AUDIO:   BCLK: GPIO14 (shared)
I (43882) AUDIO:   WS:   GPIO15 (shared)
I (43887) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (43893) AUDIO: âœ… RX channel configured (took 0 ms)
I (43898) AUDIO: [STEP 4/6] Enabling TX channel...
I (43904) AUDIO: âœ… TX channel enabled (took 0 ms)
I (43909) AUDIO: [STEP 5/6] Enabling RX channel...
I (43915) AUDIO: âœ… RX channel enabled (took 0 ms)
I (43920) AUDIO: [STEP 6/6] Hardware stabilization...
I (43926) AUDIO:   Phase 1: Initial settle (50ms)
I (43981) AUDIO:   Phase 2: DMA verification
I (43981) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (43981) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (44138) AUDIO: [DIAG] Post-init state:
I (44138) AUDIO:   Free heap: 3940840 bytes
I (44138) AUDIO:   Free internal RAM: 97679 bytes
I (44142) AUDIO:   Free DMA-capable: 77315 bytes
I (44147) AUDIO:   Free PSRAM: 3863732 bytes
I (44152) AUDIO:   Timestamp: 42617 ms
I (44157) AUDIO:   Total init time: 201 ms
I (44161) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44179) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (44185) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (44191) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (44200) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (44206) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44224) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44242) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (44249) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (44255) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (44262) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (44268) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44286) STATE_MGR:   âœ“ Audio initialized (took 635 ms)
I (44292) STATE_MGR:   Free heap after: 3940840 bytes
I (44298) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44314) STATE_MGR: â•‘ STEP 5: I2S mutex released
I (44320) STATE_MGR: â•‘ Total transition time: 889 ms
I (44326) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44342) STATE_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44358) STATE_MGR: â•‘ STEP 6: Starting STT/TTS pipelines
I (44364) STATE_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44381) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (44389) TTS: No pending audio to flush
I (44418) TTS: TTS decoder session reset for next audio stream
I (44418) TTS: âœ… TTS decoder flushed and reset for next session
I (44420) STT: Starting STT pipeline...
I (44424) STT: [CORE AFFINITY] Creating audio capture task on Core 0 (co-located with Wi-Fi)
I (44434) STT: [STABILIZATION] Phase 1: Waiting 200ms for I2S DMA...
I (44441) STT:   Current time: 42905 ms
I (44443) STT: âœ… STT pipeline started
I (44445) STT:   Free heap: 3932288 bytes
I (44445) STT: Audio streaming session activated
I (44460) STT: Connection stabilization delay (500ms)...
I (44500) TTS: ğŸµ Starting TTS decoder...
I (44500) TTS: Initializing TTS decoder...
W (44500) TTS: TTS decoder already initialized
I (44530) TTS: [CORE AFFINITY] Creating TTS playback task on Core 1 (APP_CPU) with safety measures
I (44530) TTS: âœ… TTS decoder started successfully
I (44534) TTS: ğŸµ TTS playback task started on Core 1
I (44540) TTS: âœ… TTS playback task registered with watchdog
I (44546) TTS:   âœ“ DMA buffer allocated in PSRAM at 0x3f850b50 (4096 bytes)
I (44654) STT: [STABILIZATION] Phase 2: Verify audio driver state...
I (44654) STT:   âœ“ Audio driver initialized
I (44655) STT: [STABILIZATION] Phase 3: Additional 100ms settle...
I (44764) STT:   Total stabilization: 300ms
I (44764) STT:   Timestamp: 43229 ms
I (44764) STT: [BUFFER] Allocating 1024 byte capture buffer...
I (44768) STT:   âœ“ DMA-capable buffer allocated at 0x3fff1ee8 (with safety padding)
I (44777) STT: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44793) STT: â•‘ ğŸ¤ STARTING AUDIO CAPTURE
I (44798) STT: â•‘ Chunk size: 1024 bytes | Timeout: 100 ms
I (44805) STT: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44859) LED_CTRL: LED pattern -> 1
I (44860) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44871) MEM_MGR: â•‘ Memory Statistics - After Voice Transition
I (44878) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44896) MEM_MGR: â•‘ Internal RAM:
I (44900) MEM_MGR: â•‘   Free:             123671 bytes (120 KB)
I (44907) MEM_MGR: â•‘   Largest Block:     65536 bytes ( 64 KB)
I (44914) MEM_MGR: â•‘   Fragmentation:     48%
I (44919) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44937) MEM_MGR: â•‘ DMA-capable RAM:
I (44942) MEM_MGR: â•‘   Free:             103307 bytes (100 KB)
I (44949) MEM_MGR: â•‘   Largest Block:     65536 bytes ( 64 KB)
I (44955) MEM_MGR: â•‘   Fragmentation:     37%
I (44961) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ï¿½E (44972) task_wdt: esp_task_wdt_reset(705): task not found
ï¿½â•ï¿½ï¿½ï¿½â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (44966) STT: Testing WebSocket transport health...
I (44985) MEM_MGR: â•‘ PSRAM:
I (44994) MEM_MGR: â•‘   Free:             3863732 bytes (3773 KB)
I (44997) STT: âœ… WebSocket transport verified healthy
I (45001) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (45014) MEM_MGR: â•‘   Fragmentation:      2%
I (45019) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45038) MEM_MGR: â•‘ Total Heap:
I (45042) MEM_MGR: â•‘   Free:             3966832 bytes (3873 KB)
I (45049) MEM_MGR: â•‘   Minimum Ever:     3907592 bytes (3816 KB)
I (45055) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45074) MEM_MGR: â•‘ Memory Delta from Baseline:
I (45079) MEM_MGR: â•‘   Internal RAM:     -101464 bytes ( -99 KB)
I (45086) MEM_MGR: â•‘   DMA-capable:      -101464 bytes ( -99 KB)
I (45093) MEM_MGR: â•‘   PSRAM:            -328284 bytes (-320 KB)
I (45100) MEM_MGR: â•‘   Total Heap:       -397924 bytes (-388 KB)
I (45107) STT: Starting audio streaming to server...
I (45107) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (45131) STATE_MGR: âœ… Voice mode transition complete
I (45137) STATE_MGR: âœ… Entered VOICE_ACTIVE state
I (45153) STATE_MGR: STT pipeline reported start
I (45163) STATE_MGR: TTS playback start event received
E (45651) transport_ws: Error transport_poll_write
E (45652) websocket_client: esp_transport_write() returned 0, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=0
E (45658) WEBSOCKET: âŒ WebSocket error occurred
I (45663) TTS: Received audio chunk #2: 0 bytes
I (45668) TTS: New audio session detected - resetting chunk counter
E (45675) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
E (45675) STATE_MGR: WebSocket error signalled
I (45687) LED_CTRL: LED pattern -> 5
W (45686) WEBSOCKET: âš ï¸ WebSocket disconnected
E (45691) STATE_MGR: WebSocket error occurred while in voice mode - triggering transition to camera
I (45696) TTS: Received audio chunk #2: 0 bytes
E (45688) websocket_client: esp_transport_poll_read() returned -1, transport_error=ESP_OK, tls_error_code=0, tls_flags=0, errno=9
I (45711) TTS: New audio session detected - resetting chunk counter
E (45716) STATE_MGR: WebSocket error signalled
W (45731) HOTPIN_MAIN: âš ï¸ WebSocket status callback: DISCONNECTED
W (45743) WEBSOCKET: WebSocket send buffer full (0 bytes sent), yielding and retrying (attempt 1/4)
W (45746) STATE_MGR: WebSocket disconnected
E (45743) WEBSOCKET: âŒ WebSocket error occurred
I (45763) TTS: Received audio chunk #2: 0 bytes
I (45768) TTS: New audio session detected - resetting chunk counter
E (45775) HOTPIN_MAIN: âŒ WebSocket status callback: ERROR
I (45757) LED_CTRL: LED pattern -> 4
E (45782) websocket_client: esp_websocket_client_abort_connection(239): Websocket already stop
E (45795) STATE_MGR: WebSocket error signalled
I (45800) LED_CTRL: LED pattern -> 5
E (45852) WEBSOCKET: WebSocket connection lost before send attempt 2
E (45852) STT: WebSocket disconnected during audio send - aborting stream
I (45856) STT: Streaming task received stop signal
W (45861) STT: Audio streaming aborted due to transport errors
W (45867) STT: Skipping EOS - WebSocket disconnected
I (45873) STT: Audio streaming session complete (streamed 12288 bytes in 3 chunks)
I (45881) STATE_MGR: STT pipeline reported stop
I (45886) LED_CTRL: LED pattern -> 1
I (45892) STT: Audio capture task stopped (captured 38912 bytes total)
W (46871) MEM_MGR: âš ï¸ WARNING: Memory fragmentation increasing! DMA:41% PSRAM:2%
W (46978) HOTPIN_MAIN: WebSocket link not healthy, restarting connection
I (46978) WEBSOCKET: Force stopping WebSocket client
W (46980) websocket_client: Client was not started
W (46985) WEBSOCKET: Graceful close returned ESP_FAIL
I (46991) WEBSOCKET: WebSocket health check task shutdown signal received
I (46999) WEBSOCKET: WebSocket health check task exiting (cycles: 7, disconnects: 1, reconnects: 2)
E (47091) task_wdt: delete_entry(236): task not found
I (47480) STATE_MGR: Button event received: 1 in state VOICE_ACTIVE
I (47480) BUTTON: Single click confirmed
W (47480) STATE_MGR: Guardrail soft override: stopping voice pipeline (user cancellation)
I (47489) STATE_MGR: Single click - mode toggle requested
I (47495) STATE_MGR: Switching: Voice â†’ Camera (count: 4)
I (47551) STATE_MGR: === TRANSITION TO CAMERA MODE ===
I (47551) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47564) MEM_MGR: â•‘ Memory Statistics - Before Camera Transition
I (47571) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47590) MEM_MGR: â•‘ Internal RAM:
I (47591) HOTPIN_MAIN: ğŸ”Œ Attempting WebSocket connection (attempt 3)...
I (47594) MEM_MGR: â•‘   Free:              93191 bytes ( 91 KB)
I (47602) WEBSOCKET: Connecting to WebSocket server...
I (47608) MEM_MGR: â•‘   Largest Block:     43008 bytes ( 42 KB)
I (47621) MEM_MGR: â•‘   Fragmentation:     54%
I (47621) websocket_client: Started
I (47626) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47630) WEBSOCKET: âœ… WebSocket health check task created
I (47649) MEM_MGR: â•‘ DMA-capable RAM:
I (47655) WEBSOCKET: WebSocket client started
I (47659) MEM_MGR: â•‘   Free:              72827 bytes ( 71 KB)
I (47630) WEBSOCKET: WebSocket health check task started
I (47671) MEM_MGR: â•‘   Largest Block:     43008 bytes ( 42 KB)
I (47684) MEM_MGR: â•‘   Fragmentation:     41%
I (47689) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47707) MEM_MGR: â•‘ PSRAM:
I (47711) MEM_MGR: â•‘   Free:             3859768 bytes (3769 KB)
I (47718) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (47725) MEM_MGR: â•‘   Fragmentation:      2%
I (47730) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47748) MEM_MGR: â•‘ Total Heap:
I (47752) MEM_MGR: â•‘   Free:             3932268 bytes (3840 KB)
I (47759) MEM_MGR: â•‘   Minimum Ever:     3904448 bytes (3812 KB)
I (47766) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47785) MEM_MGR: â•‘ Memory Delta from Baseline:
I (47790) MEM_MGR: â•‘   Internal RAM:     -131944 bytes (-128 KB)
I (47797) MEM_MGR: â•‘   DMA-capable:      -131944 bytes (-128 KB)
I (47804) MEM_MGR: â•‘   PSRAM:            -332248 bytes (-324 KB)
I (47811) MEM_MGR: â•‘   Total Heap:       -432488 bytes (-422 KB)
I (47817) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (47836) STATE_MGR: Stopping voice mode components...
I (47842) STT: Stopping STT pipeline...
W (47846) STT: STT pipeline already stopped
I (48426) WEBSOCKET: âœ… WebSocket connected to server
I (48427) WEBSOCKET: Sending handshake: {"session_id":"esp32-cam-hotpin"}
I (48431) WEBSOCKET: Handshake sent successfully
I (48434) HOTPIN_MAIN: ğŸ‰ WebSocket status callback: CONNECTED
I (48464) HOTPIN_MAIN: ğŸ“¡ WebSocket connection active - monitoring link
E (48464) task_wdt: esp_task_wdt_reset(705): task not found
I (48743) WEBSOCKET: Connecting to WebSocket server...
I (49351) STATE_MGR: Voice pipeline became idle at stage idle
I (49352) STATE_MGR: Waiting for TTS playback drain (~0 bytes pending, timeout 15000 ms)
I (49579) WEBSOCKET: Received text message: {"status": "connected", "session_id": "esp32-cam-hotpin"}
I (49579) WEBSOCKET: Server status: connected
I (49656) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (49656) STATE_MGR: TTS decoder confirmed idle
I (49660) STATE_MGR: Flushing and resetting TTS decoder for next session
I (49667) TTS: ğŸ”„ Flushing and resetting TTS decoder for session transition
I (49675) TTS: Flushing pending audio before reset (~0 bytes)
I (49981) TTS: TTS idle - no pending audio, playback completing (state stable for 6 checks)
I (49981) TTS: TTS decoder session reset for next audio stream
I (49986) TTS: âœ… TTS decoder flushed and reset for next session
I (49993) TTS: TTS playback task shutting down - is_running=0
I (49999) TTS: ğŸµ TTS playback task exiting (played 0 bytes, result: ESP_OK)
I (50007) TTS:   âœ“ DMA buffer freed from PSRAM
I (50012) TTS:   âœ“ Watchdog unregistered, handle cleared, flags set
I (50193) TTS: â¹ï¸ Stopping TTS decoder...
W (50193) TTS: TTS decoder not running
I (50318) STATE_MGR: Acquiring I2S mutex...
I (50318) STATE_MGR: Deinitializing audio drivers...
I (50318) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50336) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (50343) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50361) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (50368) AUDIO: âœ… RX channel disabled (took 0 ms)
I (50374) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (50380) AUDIO: âœ… TX channel disabled (took 0 ms)
I (50386) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (50442) AUDIO: [STEP 4/5] Deleting RX channel...
I (50443) AUDIO: âœ… RX channel deleted (took 0 ms)
I (50443) AUDIO: [STEP 5/5] Deleting TX channel...
I (50448) AUDIO: âœ… TX channel deleted (took 0 ms)
I (50453) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
E (50466) task_wdt: esp_task_wdt_reset(705): task not found
I (50511) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50518) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (50524) AUDIO: â•‘ Camera Can Now Initialize
I (50530) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50598) STATE_MGR: Allowing memory stabilization (100ms)...
I (50688) WEBSOCKET: Connecting to WebSocket server...
I (50698) STATE_MGR: Camera will be initialized on-demand during capture
I (50698) STATE_MGR: I2S mutex released
I (50699) MEM_MGR: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50717) MEM_MGR: â•‘ Memory Statistics - After Camera Transition
I (50724) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50743) MEM_MGR: â•‘ Internal RAM:
I (50747) MEM_MGR: â•‘   Free:              93191 bytes ( 91 KB)
I (50754) MEM_MGR: â•‘   Largest Block:     43008 bytes ( 42 KB)
I (50760) MEM_MGR: â•‘   Fragmentation:     54%
I (50766) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50784) MEM_MGR: â•‘ DMA-capable RAM:
I (50788) MEM_MGR: â•‘   Free:              72827 bytes ( 71 KB)
I (50795) MEM_MGR: â•‘   Largest Block:     43008 bytes ( 42 KB)
I (50802) MEM_MGR: â•‘   Fragmentation:     41%
I (50807) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50825) MEM_MGR: â•‘ PSRAM:
I (50829) MEM_MGR: â•‘   Free:             3859768 bytes (3769 KB)
I (50836) MEM_MGR: â•‘   Largest Block:    3801088 bytes (3712 KB)
I (50843) MEM_MGR: â•‘   Fragmentation:      2%
I (50848) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50866) MEM_MGR: â•‘ Total Heap:
I (50871) MEM_MGR: â•‘   Free:             3932268 bytes (3840 KB)
I (50877) MEM_MGR: â•‘   Minimum Ever:     3904448 bytes (3812 KB)
I (50884) MEM_MGR: â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50903) MEM_MGR: â•‘ Memory Delta from Baseline:
I (50908) MEM_MGR: â•‘   Internal RAM:     -131944 bytes (-128 KB)
I (50915) MEM_MGR: â•‘   DMA-capable:      -131944 bytes (-128 KB)
I (50922) MEM_MGR: â•‘   PSRAM:            -332248 bytes (-324 KB)
I (50929) MEM_MGR: â•‘   Total Heap:       -432488 bytes (-422 KB)
I (50936) MEM_MGR: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50954) STATE_MGR: âœ… Camera mode transition complete (camera deinitialized to conserve DMA)
I (50964) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (50981) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (50988) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51006) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51024) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (51032) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51050) AUDIO: [DIAG] Pre-init state:
I (51054) AUDIO:   Free heap: 3966624 bytes
I (51059) AUDIO:   Free internal RAM: 123463 bytes
I (51064) AUDIO:   Free DMA-capable: 103099 bytes
I (51070) AUDIO:   Free PSRAM: 3863732 bytes
I (51075) AUDIO:   Timestamp: 49539 ms
I (51079) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (51086) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (51094) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (51102) AUDIO:   DMA frame num (per desc): 1020
I (51108) AUDIO:   DMA total samples (effective): 4080
I (51113) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (51120) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (51127) AUDIO: âœ… I2S channels created (took 0 ms)
I (51132) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca7e8
I (51139) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (51146) AUDIO:   Sample rate: 16000 Hz
I (51150) AUDIO:   MCLK: DISABLED
I (51154) AUDIO:   BCLK: GPIO14 (shared)
I (51159) AUDIO:   WS:   GPIO15 (shared)
I (51163) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (51170) AUDIO: âœ… TX channel configured (took 1 ms)
I (51175) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (51182) AUDIO:   Sample rate: 16000 Hz
I (51186) AUDIO:   MCLK: DISABLED
I (51190) AUDIO:   BCLK: GPIO14 (shared)
I (51195) AUDIO:   WS:   GPIO15 (shared)
I (51199) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (51205) AUDIO: âœ… RX channel configured (took 0 ms)
I (51211) AUDIO: [STEP 4/6] Enabling TX channel...
I (51216) AUDIO: âœ… TX channel enabled (took 0 ms)
I (51222) AUDIO: [STEP 5/6] Enabling RX channel...
I (51227) AUDIO: âœ… RX channel enabled (took 0 ms)
I (51233) AUDIO: [STEP 6/6] Hardware stabilization...
I (51239) AUDIO:   Phase 1: Initial settle (50ms)
I (51294) AUDIO:   Phase 2: DMA verification
I (51294) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (51295) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (51451) AUDIO: [DIAG] Post-init state:
I (51451) AUDIO:   Free heap: 3940644 bytes
I (51451) AUDIO:   Free internal RAM: 97483 bytes
I (51455) AUDIO:   Free DMA-capable: 77119 bytes
I (51460) AUDIO:   Free PSRAM: 3863732 bytes
I (51465) AUDIO:   Timestamp: 49930 ms
I (51470) AUDIO:   Total init time: 201 ms
I (51474) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51492) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (51499) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (51504) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (51513) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (51519) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51537) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51555) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (51562) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (51568) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (51575) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (51581) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51882) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51889) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (51897) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (51915) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (51922) AUDIO: âœ… RX channel disabled (took 0 ms)
I (51927) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (51934) AUDIO: âœ… TX channel disabled (took 0 ms)
I (51939) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (51996) AUDIO: [STEP 4/5] Deleting RX channel...
I (51997) AUDIO: âœ… RX channel deleted (took 0 ms)
I (51997) AUDIO: [STEP 5/5] Deleting TX channel...
I (52002) AUDIO: âœ… TX channel deleted (took 0 ms)
I (52007) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (52065) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (52072) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (52078) AUDIO: â•‘ Camera Can Now Initialize
I (52084) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (52102) LED_CTRL: LED pattern -> 3
I (52106) STATE_MGR: âœ… Entered CAMERA_STANDBY state
I (52122) STATE_MGR: WebSocket connected
E (52467) task_wdt: esp_task_wdt_reset(705): task not found
E (54467) task_wdt: esp_task_wdt_reset(705): task not found
E (56467) task_wdt: esp_task_wdt_reset(705): task not found
I (58358) STATE_MGR: Button event received: 3 in state CAMERA_STANDBY
I (58358) BUTTON: Long press detected (3000 ms)
W (58358) STATE_MGR: Long press - shutdown requested
W (58365) STATE_MGR: Shutdown state reached
W (58369) STATE_MGR: === SYSTEM SHUTDOWN ===
I (58375) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (58392) AUDIO: â•‘ Initializing Modern I2S STD Driver (Full-Duplex)
I (58399) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (58417) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (58435) AUDIO: â•‘ Configuring Modern I2S STD Driver (Separate TX/RX)
I (58443) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (58461) AUDIO: [DIAG] Pre-init state:
I (58465) AUDIO:   Free heap: 3966624 bytes
I (58467) HOTPIN_MAIN: System shutdown detected, terminating WebSocket connection task
I (58470) AUDIO:   Free internal RAM: 123463 bytes
I (58479) HOTPIN_MAIN: Unregistering WebSocket connection task from watchdog
E (58492) task_wdt: delete_entry(236): task not found
I (58484) AUDIO:   Free DMA-capable: 103099 bytes
W (58497) HOTPIN_MAIN: Failed to unregister ws_connect task from watchdog: ESP_ERR_NOT_FOUND
I (58503) AUDIO:   Free PSRAM: 3863732 bytes
I (58512) HOTPIN_MAIN: WebSocket connection task terminated
I (58517) AUDIO:   Timestamp: 56982 ms
I (58528) AUDIO: [STEP 1/6] Creating I2S channel pair (TX + RX)...
I (58535) AUDIO:   Using I2S controller 1 for both channels (full-duplex mode)
I (58542) AUDIO:   DMA config request: 4 buffers x 1020 samples (requested = 4080)
I (58551) AUDIO:   DMA frame num (per desc): 1020
I (58556) AUDIO:   DMA total samples (effective): 4080
I (58562) AUDIO:   DMA memory committed: 8160 bytes (2 bytes/sample)
I (58569) AUDIO:   DMA memory: 8160 bytes (2 bytes/sample)
I (58575) AUDIO: âœ… I2S channels created (took 0 ms)
I (58581) AUDIO:   TX handle: 0x3ffafc50 | RX handle: 0x3ffca7e8
I (58587) AUDIO: [STEP 2/6] Configuring TX (speaker) channel...
I (58594) AUDIO:   Sample rate: 16000 Hz
I (58599) AUDIO:   MCLK: DISABLED
I (58603) AUDIO:   BCLK: GPIO14 (shared)
I (58607) AUDIO:   WS:   GPIO15 (shared)
I (58612) AUDIO:   DOUT: GPIO13 (MAX98357A speaker)
I (58618) AUDIO: âœ… TX channel configured (took 0 ms)
I (58623) AUDIO: [STEP 3/6] Configuring RX (microphone) channel...
I (58630) AUDIO:   Sample rate: 16000 Hz
I (58635) AUDIO:   MCLK: DISABLED
I (58639) AUDIO:   BCLK: GPIO14 (shared)
I (58643) AUDIO:   WS:   GPIO15 (shared)
I (58648) AUDIO:   DIN:  GPIO2 (INMP441 microphone)
I (58654) AUDIO: âœ… RX channel configured (took 0 ms)
I (58659) AUDIO: [STEP 4/6] Enabling TX channel...
I (58665) AUDIO: âœ… TX channel enabled (took 0 ms)
I (58670) AUDIO: [STEP 5/6] Enabling RX channel...
I (58676) AUDIO: âœ… RX channel enabled (took 0 ms)
I (58681) AUDIO: [STEP 6/6] Hardware stabilization...
I (58687) AUDIO:   Phase 1: Initial settle (50ms)
I (58742) AUDIO:   Phase 2: DMA verification
I (58742) AUDIO:   âœ“ DMA TX operational (128 bytes)
I (58742) AUDIO:   Phase 3: Additional settle (150ms) - CRITICAL for RX DMA
I (58899) AUDIO: [DIAG] Post-init state:
I (58899) AUDIO:   Free heap: 3945100 bytes
I (58899) AUDIO:   Free internal RAM: 101939 bytes
I (58903) AUDIO:   Free DMA-capable: 81575 bytes
I (58908) AUDIO:   Free PSRAM: 3863732 bytes
I (58913) AUDIO:   Timestamp: 57378 ms
I (58918) AUDIO:   Total init time: 200 ms
I (58923) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (58941) AUDIO: â•‘ âœ… MODERN I2S STD FULL-DUPLEX READY
I (58947) AUDIO: â•‘ Driver: i2s_std (NOT legacy!)
I (58952) AUDIO: â•‘ Mode: Master TX+RX | Rate: 16000 Hz | Format: TX stereo / RX mono
I (58961) AUDIO: â•‘ This should eliminate LoadStoreError crashes!
I (58968) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (58985) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (59003) AUDIO: â•‘ âœ… MODERN I2S STD DRIVER INITIALIZED
I (59010) AUDIO: â•‘ Mode: Full-duplex (separate TX + RX channels)
I (59016) AUDIO: â•‘ TX (Speaker): GPIO13 | RX (Microphone): GPIO2
I (59023) AUDIO: â•‘ Shared Clock: BCLK=GPIO14, WS=GPIO15
I (59029) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (60291) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (60298) AUDIO: â•‘ Deinitializing Modern I2S STD Driver for Camera Capture
I (60306) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (60324) AUDIO: [STEP 1/5] Disabling RX (microphone) channel...
I (60331) AUDIO: âœ… RX channel disabled (took 0 ms)
I (60336) AUDIO: [STEP 2/5] Disabling TX (speaker) channel...
I (60343) AUDIO: âœ… TX channel disabled (took 0 ms)
I (60348) AUDIO: [STEP 3/5] Waiting for DMA completion (50ms)...
I (60405) AUDIO: [STEP 4/5] Deleting RX channel...
I (60406) AUDIO: âœ… RX channel deleted (took 0 ms)
I (60406) AUDIO: [STEP 5/5] Deleting TX channel...
I (60411) AUDIO: âœ… TX channel deleted (took 0 ms)
I (60416) AUDIO: Additional settling time (50ms) for interrupt/GPIO matrix...
I (60474) AUDIO: â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (60481) AUDIO: â•‘ âœ… Modern I2S STD Driver Deinitialized
I (60487) AUDIO: â•‘ Camera Can Now Initialize
I (60493) AUDIO: â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
I (60511) LED_CTRL: LED pattern -> 1
I (61115) LED_CTRL: LED pattern -> 3
E (61872) MEM_MGR: ğŸš¨ CRITICAL: High memory fragmentation! DMA:55% PSRAM:2%
I (62315) LED_CTRL: LED pattern -> 0
I (62315) STATE_MGR: Stopping all subsystems...
I (62315) STATE_MGR: Shutting down camera...
I (62319) CAMERA: Deinitializing camera...
I (62323) STT: Stopping STT pipeline...
W (62328) STT: STT pipeline already stopped
I (62333) TTS: â¹ï¸ Stopping TTS decoder...
W (62338) TTS: TTS decoder not running
I (62367) STATE_MGR: Stopping WebSocket client
I (62367) WEBSOCKET: Disconnecting from WebSocket server...
W (62781) websocket_client: Client was not started
W (62782) WEBSOCKET: WebSocket client stop reported ESP_FAIL, continuing cleanup
I (62784) WEBSOCKET: WebSocket health check task shutdown signal received
I (62792) WEBSOCKET: WebSocket health check task exiting (cycles: 10, disconnects: 1, reconnects: 2)
I (62884) WEBSOCKET: WebSocket disconnected
I (62884) WEBSOCKET: Force stopping WebSocket client
W (62884) websocket_client: Client was not started
W (62889) WEBSOCKET: Graceful close returned ESP_FAIL
I (62895) STATE_MGR: âœ… Shutdown complete
